

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PLists - immutable lists &mdash; Pysistence v0.3.0a1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3.0a1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Pysistence v0.3.0a1 documentation" href="../index.html" />
    <link rel="next" title="Expandos - semi-persistent maps" href="expando.html" />
    <link rel="prev" title="Pysistence documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="expando.html" title="Expandos - semi-persistent maps"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Pysistence documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Pysistence v0.3.0a1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference external" href="#">PLists - immutable lists</a><ul>
<li><a class="reference external" href="#introduction">Introduction</a></li>
<li><a class="reference external" href="#module-pysistence.persistent_list">Reference</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">Pysistence documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="expando.html"
                        title="next chapter">Expandos - semi-persistent maps</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/pysistence/persistent_list.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="plists-immutable-lists">
<h1>PLists - immutable lists<a class="headerlink" href="#plists-immutable-lists" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>A PList is a list that never changes, even when you add to it.  To
instantiate it, you should use the make_list convenience function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysistence</span> <span class="kn">import</span> <span class="n">make_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">make_list</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">PList([1, 2])</span>
</pre></div>
</div>
<p>As with any other list, items may be added to it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysistence</span> <span class="kn">import</span> <span class="n">make_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">cons</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">PList([0, 1, 2])</span>
</pre></div>
</div>
<p>The same is true of removing items:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysistence</span> <span class="kn">import</span> <span class="n">make_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rest</span>
<span class="go">PList([2, 3])</span>
</pre></div>
</div>
<p>You can remove any number of arbitrary arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysistence</span> <span class="kn">import</span> <span class="n">make_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">without</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">PList([1, 3])</span>
</pre></div>
</div>
<p>You can even chain these things together:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pysistence</span> <span class="kn">import</span> <span class="n">make_list</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">=</span> <span class="n">make_list</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">rest</span><span class="o">.</span><span class="n">without</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">cons</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">PList([4, 3])</span>
</pre></div>
</div>
</div>
<div class="section" id="module-pysistence.persistent_list">
<h2>Reference<a class="headerlink" href="#module-pysistence.persistent_list" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pysistence.persistent_list.make_list">
<tt class="descclassname">pysistence.persistent_list.</tt><tt class="descname">make_list</tt><big>(</big><em>*items</em><big>)</big><a class="headerlink" href="#pysistence.persistent_list.make_list" title="Permalink to this definition">¶</a></dt>
<dd>Make a new persistent list from <em>items</em>.</dd></dl>

<dl class="class">
<dt id="pysistence.persistent_list.PList">
<em class="property">class </em><tt class="descclassname">pysistence.persistent_list.</tt><tt class="descname">PList</tt><big>(</big><em>first</em>, <em>rest=None</em><big>)</big><a class="headerlink" href="#pysistence.persistent_list.PList" title="Permalink to this definition">¶</a></dt>
<dd><p>A PList is a list that is mutated by copying.  This makes them effectively
immutable like tuples.  The difference is that tuples require you to copy
the entire structure.  PLists will reuse as much of your existing list as
possible.</p>
<dl class="method">
<dt id="pysistence.persistent_list.PList.concat">
<tt class="descname">concat</tt><big>(</big><em>next_list</em><big>)</big><a class="headerlink" href="#pysistence.persistent_list.PList.concat" title="Permalink to this definition">¶</a></dt>
<dd>Concatenate this list with another list.</dd></dl>

<dl class="method">
<dt id="pysistence.persistent_list.PList.cons">
<tt class="descname">cons</tt><big>(</big><em>next_item</em><big>)</big><a class="headerlink" href="#pysistence.persistent_list.PList.cons" title="Permalink to this definition">¶</a></dt>
<dd>Create a new list with <em>next_item</em> in front.</dd></dl>

<dl class="attribute">
<dt id="pysistence.persistent_list.PList.first">
<tt class="descname">first</tt><a class="headerlink" href="#pysistence.persistent_list.PList.first" title="Permalink to this definition">¶</a></dt>
<dd>Get the first item in this list.</dd></dl>

<dl class="attribute">
<dt id="pysistence.persistent_list.PList.frest">
<tt class="descname">frest</tt><a class="headerlink" href="#pysistence.persistent_list.PList.frest" title="Permalink to this definition">¶</a></dt>
<dd>The first item of the rest.  Equivalent to some_list.rest.first</dd></dl>

<dl class="method">
<dt id="pysistence.persistent_list.PList.replace">
<tt class="descname">replace</tt><big>(</big><em>old</em>, <em>new</em><big>)</big><a class="headerlink" href="#pysistence.persistent_list.PList.replace" title="Permalink to this definition">¶</a></dt>
<dd>Return a new list that has new instead of old.  Will raise
an exception if old is not found.</dd></dl>

<dl class="attribute">
<dt id="pysistence.persistent_list.PList.rest">
<tt class="descname">rest</tt><a class="headerlink" href="#pysistence.persistent_list.PList.rest" title="Permalink to this definition">¶</a></dt>
<dd>Get all items except the first in this list.</dd></dl>

<dl class="method">
<dt id="pysistence.persistent_list.PList.reverse">
<tt class="descname">reverse</tt><big>(</big><big>)</big><a class="headerlink" href="#pysistence.persistent_list.PList.reverse" title="Permalink to this definition">¶</a></dt>
<dd>Make a new PList that is the reverse of this one.</dd></dl>

<dl class="method">
<dt id="pysistence.persistent_list.PList.without">
<tt class="descname">without</tt><big>(</big><em>*items</em><big>)</big><a class="headerlink" href="#pysistence.persistent_list.PList.without" title="Permalink to this definition">¶</a></dt>
<dd>Return a new PList with <em>items</em> removed</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="expando.html" title="Expandos - semi-persistent maps"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Pysistence documentation"
             >previous</a> |</li>
        <li><a href="../index.html">Pysistence v0.3.0a1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Jason Baker.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.
    </div>
  </body>
</html>