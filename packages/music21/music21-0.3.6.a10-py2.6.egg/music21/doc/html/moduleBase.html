<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.base &mdash; music21 Documentation</title>
    <link rel="stylesheet" href="_static/music21doc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3.6.a10',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="music21 Documentation" href="index.html" />
    <link rel="next" title="music21.beam" href="moduleBeam.html" />
    <link rel="prev" title="music21.articulations" href="moduleArticulations.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="moduleBeam.html" title="music21.beam"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleArticulations.html" title="music21.articulations"
             accesskey="P">previous</a> |</li>
        <li><a href="contents.html">music21</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">music21.base</a><ul>
<li><a class="reference external" href="#music21object">Music21Object</a></li>
<li><a class="reference external" href="#elementwrapper">ElementWrapper</a></li>
<li><a class="reference external" href="#definedcontexts">DefinedContexts</a></li>
<li><a class="reference external" href="#groups">Groups</a></li>
<li><a class="reference external" href="#jsonserializer">JSONSerializer</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="moduleArticulations.html"
                                  title="previous chapter">music21.articulations</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="moduleBeam.html"
                                  title="next chapter">music21.beam</a></p>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-music21.base">
<span id="modulebase"></span><h1>music21.base<a class="headerlink" href="#module-music21.base" title="Permalink to this headline">¶</a></h1>
<p>Music21 base classes for <a title="music21.stream.Stream" class="reference external" href="moduleStream.html#music21.stream.Stream"><tt class="xref docutils literal"><span class="pre">Stream</span></tt></a> objects and elements contained within them. Additional objects for defining and manipulating elements are included. The namespace of this file, as all base.py files, is loaded into the package that contains this file via __init__.py. Everything in this file is thus available after importing music21.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">music21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21</span><span class="o">.</span><span class="n">Music21Object</span>
<span class="go">&lt;class &#39;music21.base.Music21Object&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21</span><span class="o">.</span><span class="n">VERSION_STR</span>
<span class="go">&#39;0.3.6.a10&#39;</span>
<span class="go">Alternatively, after doing a complete import, these classes are available</span>
<span class="go">under the module &quot;base&quot;:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span>
<span class="go">&lt;class &#39;music21.base.Music21Object&#39;&gt;</span>
</pre></div>
</div>
<div class="section" id="music21object">
<h2>Music21Object<a class="headerlink" href="#music21object" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a></p>
<dl class="class">
<dt id="music21.base.Music21Object">
<em class="property">
class </em><tt class="descclassname">music21.base.</tt><tt class="descname">Music21Object</tt><big>(</big><em>*arguments</em>, <em>**keywords</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all music21 objects. All music21 objects encode 7 pieces of information: (1) id: identification string unique to the objects container (optional) (2) groups: a Groups object: which is a list of strings identifying internal subcollections (voices, parts, selections) to which this element belongs (3) duration: Duration object representing the length of the object (4) parent: a reference or weakreference to a currently active Location (5) offset: a floating point value, generally in quarter lengths, specifying the position of the object in parent (6) priority: int representing the position of an object among all objects at the same offset. Contexts, locations, and offsets are stored in a  <a title="music21.base.DefinedContexts" class="reference internal" href="#music21.base.DefinedContexts"><tt class="xref docutils literal"><span class="pre">DefinedContexts</span></tt></a> object. Locations specify connections of this object to one location in a Stream subclass. Contexts are weakrefs for current objects that are associated with this object (similar to locations but without an offset)</p>
<p>Each of these may be passed in as a named keyword to any music21 object. Some of these may be intercepted by the subclassing object (e.g., duration within Note)</p>
<p><strong>Music21Object</strong> <strong>attributes</strong></p>
<blockquote>
<dl class="attribute">
<dt id="music21.base.Music21Object.classSortOrder">
<tt class="descname">classSortOrder</tt><a class="headerlink" href="#music21.base.Music21Object.classSortOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Property which returns an number (int or otherwise) depending on the class of the Music21Object that represents a priority for an object based on its class alone &#8211; used as a tie for stream sorting in case two objects have the same offset and priority.  Lower numbers are sorted to the left of higher numbers.  For instance, Clef, KeySignature, TimeSignature all come (in that order) before Note. All undefined classes have classSortOrder of 20 &#8211; same as note.Note</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tc</span> <span class="o">=</span> <span class="n">clef</span><span class="o">.</span><span class="n">TrebleClef</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tc</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">KeySignature</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">1</span>
</pre></div>
</div>
<p>New classes can define their own default classSortOrder</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExampleClass</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">classSortOrderDefault</span> <span class="o">=</span> <span class="mf">5</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ec1</span> <span class="o">=</span> <span class="n">ExampleClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ec1</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.hideObjectOnPrint">
<tt class="descname">hideObjectOnPrint</tt><a class="headerlink" href="#music21.base.Music21Object.hideObjectOnPrint" title="Permalink to this definition">¶</a></dt>
<dd>if set to True will not print upon output (only to MusicXML at this point)</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.id">
<tt class="descname">id</tt><a class="headerlink" href="#music21.base.Music21Object.id" title="Permalink to this definition">¶</a></dt>
<dd>Unique identification string.</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.groups">
<tt class="descname">groups</tt><a class="headerlink" href="#music21.base.Music21Object.groups" title="Permalink to this definition">¶</a></dt>
<dd>An instance of a Group object.</dd></dl>

</blockquote>
<p><strong>Music21Object</strong> <strong>properties</strong></p>
<blockquote>
<dl class="attribute">
<dt id="music21.base.Music21Object.activeSite">
<tt class="descname">activeSite</tt><a class="headerlink" href="#music21.base.Music21Object.activeSite" title="Permalink to this definition">¶</a></dt>
<dd>A reference to the most-recent object used to contain this object. In most cases, this will be a Stream or Stream sub-class. In most cases, an object&#8217;s parent attribute is automatically set when an the object is attached to a Stream.</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.beat">
<tt class="descname">beat</tt><a class="headerlink" href="#music21.base.Music21Object.beat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the beat of this Note as found in the most recently positioned Measure. Beat values count from 1 and contain a floating-point designation between 0 and 1 to show proportional progress through the beat.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mf">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beat</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[1.0, 1.5, 2.0, 2.5, 3.0, 3.5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beat</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[1.0, 1.3333333..., 1.666666666..., 2.0, 2.33333333..., 2.66666...]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.beatDuration">
<tt class="descname">beatDuration</tt><a class="headerlink" href="#music21.base.Music21Object.beatDuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a title="music21.duration.Duration" class="reference external" href="moduleDuration.html#music21.duration.Duration"><tt class="xref docutils literal"><span class="pre">Duration</span></tt></a> of the beat active for this Note as found in the most recently positioned Measure.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mf">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatDuration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatDuration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[1.5, 1.5, 1.5, 1.5, 1.5, 1.5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.beatStr">
<tt class="descname">beatStr</tt><a class="headerlink" href="#music21.base.Music21Object.beatStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation of the beat of this Note as found in the most recently positioned Measure. Beat values count from 1 and contain a fractional designation to show progress through the beat.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mf">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStr</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[&#39;1&#39;, &#39;1 1/2&#39;, &#39;2&#39;, &#39;2 1/2&#39;, &#39;3&#39;, &#39;3 1/2&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStr</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[&#39;1&#39;, &#39;1 1/3&#39;, &#39;1 2/3&#39;, &#39;2&#39;, &#39;2 1/3&#39;, &#39;2 2/3&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.beatStrength">
<tt class="descname">beatStrength</tt><a class="headerlink" href="#music21.base.Music21Object.beatStrength" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the metrical accent of this Note in the most recently positioned Measure. Accent values are between zero and one, and are derived from the local TimeSignature&#8217;s accent MeterSequence weights. If the offset of this Note does not match a defined accent weight, a minimum accent weight will be returned.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mf">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[1.0, 0.25, 0.5, 0.25, 0.5, 0.25]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notesAndRests</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">6</span><span class="p">)]</span>
<span class="go">[1.0, 0.25, 0.25, 0.5, 0.25, 0.25]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.classes">
<tt class="descname">classes</tt><a class="headerlink" href="#music21.base.Music21Object.classes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list containing the names (strings, not objects) of classes that this object belongs to &#8211; starting with the object&#8217;s class name and going up the mro() for the object.  Very similar to Perl&#8217;s &#64;ISA array:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">QuarterNote</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">classes</span><span class="p">[:</span><span class="mf">5</span><span class="p">]</span>
<span class="go">[&#39;QuarterNote&#39;, &#39;Note&#39;, &#39;NotRest&#39;, &#39;GeneralNote&#39;, &#39;Music21Object&#39;]</span>
</pre></div>
</div>
<p>Example: find GClefs that are not Treble clefs (or treble 8vb, etc.):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">GClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">20</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">TrebleClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">30</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">FrenchViolinClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">40</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">Treble8vbClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">50</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">BassClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">if</span> <span class="s">&#39;GClef&#39;</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">classes</span> <span class="ow">and</span> <span class="s">&#39;TrebleClef&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">classes</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">s2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{10.0} &lt;music21.clef.GClef object at 0x...&gt;</span>
<span class="go">{30.0} &lt;music21.clef.FrenchViolinClef object at 0x...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.derivationHierarchy">
<tt class="descname">derivationHierarchy</tt><a class="headerlink" href="#music21.base.Music21Object.derivationHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of Stream subclasses that this Stream is contained within. This provides a way of seeing Streams contained within Streams.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&#39;bach/bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">__class__</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">s</span><span class="p">[</span><span class="mf">1</span><span class="p">][</span><span class="mf">2</span><span class="p">][</span><span class="mf">3</span><span class="p">]</span><span class="o">.</span><span class="n">derivationHierarchy</span><span class="p">]</span>
<span class="go">[&quot;&lt;class &#39;music21.stream.Measure&#39;&gt;&quot;, &quot;&lt;class &#39;music21.stream.Part&#39;&gt;&quot;, &quot;&lt;class &#39;music21.stream.Score&#39;&gt;&quot;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.duration">
<tt class="descname">duration</tt><a class="headerlink" href="#music21.base.Music21Object.duration" title="Permalink to this definition">¶</a></dt>
<dd>Get and set the duration of this object as a Duration object.</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.measureNumber">
<tt class="descname">measureNumber</tt><a class="headerlink" href="#music21.base.Music21Object.measureNumber" title="Permalink to this definition">¶</a></dt>
<dd>Return the measure number of a Measure that contains this object.</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.offset">
<tt class="descname">offset</tt><a class="headerlink" href="#music21.base.Music21Object.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>The offset property returns the position of this object from the start of its most recently referenced container (a Stream or Stream sub-class found in activeSite) in quarter lengths. It can also set the offset for the object if no container has been set</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s">&#39;hi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">20.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">30.5</span><span class="p">,</span> <span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">30.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s">&#39;hi&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="ow">is</span> <span class="n">n1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">offset</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">thisElement</span> <span class="ow">in</span> <span class="n">s2</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">thisElement</span><span class="o">.</span><span class="n">offset</span>
<span class="go">30.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.priority">
<tt class="descname">priority</tt><a class="headerlink" href="#music21.base.Music21Object.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Get and set the priority integer value. Priority specifies the order of processing from left (lowest number) to right (highest number) of objects at the same offset.  For instance, if you want a key change and a clef change to happen at the same time but the key change to appear first, then set: keySigElement.priority = 1; clefElement.priority = 2 this might be a slightly counterintuitive numbering of priority, but it does mean, for instance, if you had two elements at the same offset, an allegro tempo change and an andante tempo change, then the tempo change with the higher priority number would apply to the following notes (by being processed second). Default priority is 0; thus negative priorities are encouraged to have Elements that appear non-priority set elements. In case of tie, there are defined class sort orders defined in music21.base.CLASS_SORT_ORDER.  For instance, a key signature change appears before a time signature change before a note at the same offset.  This produces the familiar order of materials at the start of a musical score.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mf">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="s">&#39;high&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="nc">ElementException</span>: <span class="n-Identifier">priority values must be integers.</span>
</pre></div>
</div>
</dd></dl>

<p>Properties inherited from <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a>: <a title="music21.base.JSONSerializer.json" class="reference internal" href="#music21.base.JSONSerializer.json"><tt class="xref docutils literal"><span class="pre">json</span></tt></a></p>
</blockquote>
<p><strong>Music21Object</strong> <strong>methods</strong></p>
<blockquote>
<dl class="method">
<dt id="music21.base.Music21Object.searchParentByAttr">
<tt class="descname">searchParentByAttr</tt><big>(</big><em>attrName</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.searchParentByAttr" title="Permalink to this definition">¶</a></dt>
<dd>If this element is contained within a Stream or other Music21 element, searchParentByAttr() permits searching attributes of higher-level objects. The first encountered match is returned, or None if no match. All parents are recursively searched upward.</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getContextAttr">
<tt class="descname">getContextAttr</tt><big>(</big><em>attr</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getContextAttr" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the name of an attribute, search Conctexts and return the best match.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="n">attr1</span><span class="o">=</span><span class="mf">234</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="s">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">addContext</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getContextAttr</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">)</span>
<span class="go">&#39;test&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.setContextAttr">
<tt class="descname">setContextAttr</tt><big>(</big><em>attrName</em>, <em>value</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.setContextAttr" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the name of an attribute, search Conctexts and return the best match.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="n">attr1</span><span class="o">=</span><span class="mf">234</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="s">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">addContext</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getContextAttr</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">)</span>
<span class="go">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">setContextAttr</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">,</span> <span class="mf">3000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getContextAttr</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">)</span>
<span class="go">3000</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.addContext">
<tt class="descname">addContext</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.addContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an ojbect to the <a title="music21.base.DefinedContexts" class="reference internal" href="#music21.base.DefinedContexts"><tt class="xref docutils literal"><span class="pre">DefinedContexts</span></tt></a> object. For adding a location, use <a title="music21.base.Music21Object.addLocation" class="reference internal" href="#music21.base.Music21Object.addLocation"><tt class="xref docutils literal"><span class="pre">addLocation()</span></tt></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="n">attr1</span><span class="o">=</span><span class="mf">234</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="s">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">addContext</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getContextAttr</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">)</span>
<span class="go">&#39;test&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.addLocation">
<tt class="descname">addLocation</tt><big>(</big><em>site</em>, <em>offset</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.addLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location to the <a title="music21.base.DefinedContexts" class="reference internal" href="#music21.base.DefinedContexts"><tt class="xref docutils literal"><span class="pre">DefinedContexts</span></tt></a> object. The supplied object is a reference to the object (the site) that contains an offset of this object.  For example, if this Music21Object was Note, the site would be a Stream (or Stream subclass) and the offset would be a number for the offset. This is only for advanced location method and is not a complete or sufficient way to add an object to a Stream.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="n">note</span><span class="p">,</span> <span class="n">stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mf">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.addLocationAndActiveSite">
<tt class="descname">addLocationAndActiveSite</tt><big>(</big><em>offset</em>, <em>activeSite</em>, <em>activeSiteWeakRef=None</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.addLocationAndActiveSite" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is for advanced usage, generally as a speedup tool that adds a new location element and a new activeSite.  Formerly called by Stream.insert &#8211; this saves some dual processing. Does not do safety checks that the siteId doesn&#8217;t already exist etc., because that is done earlier. This speeds up things like stream.getElementsById substantially. Testing script (N.B. manipulates Stream._elements directly &#8211; so not to be emulated)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">stream</span> <span class="kn">import</span> <span class="n">Stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o1</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1_wr</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">wrapWeakref</span><span class="p">(</span><span class="n">st1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offset</span> <span class="o">=</span> <span class="mf">20.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st1</span><span class="o">.</span><span class="n">_elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">o1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o1</span><span class="o">.</span><span class="n">addLocationAndActiveSite</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">st1</span><span class="p">,</span> <span class="n">st1_wr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o1</span><span class="o">.</span><span class="n">activeSite</span> <span class="ow">is</span> <span class="n">st1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o1</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">st1</span><span class="p">)</span>
<span class="go">20.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.freezeIds">
<tt class="descname">freezeIds</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.freezeIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily replace are stored keys with a different value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">30.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span><span class="o">.</span><span class="n">addLocationAndActiveSite</span><span class="p">(</span><span class="mf">50</span><span class="p">,</span> <span class="n">aM21Obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">!=</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldParentId</span> <span class="o">=</span> <span class="n">bM21Obj</span><span class="o">.</span><span class="n">_activeSiteId</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span><span class="o">.</span><span class="n">freezeIds</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newParentId</span> <span class="o">=</span> <span class="n">bM21Obj</span><span class="o">.</span><span class="n">_activeSiteId</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldParentId</span> <span class="o">==</span> <span class="n">newParentId</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getAllContextsByClass">
<tt class="descname">getAllContextsByClass</tt><big>(</big><em>className</em>, <em>found=None</em>, <em>idFound=None</em>, <em>memo=None</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getAllContextsByClass" title="Permalink to this definition">¶</a></dt>
<dd>Search both DefinedContexts as well as associated objects to find all matchinging classes. Returns [] if not match is found.</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getCommonSiteIds">
<tt class="descname">getCommonSiteIds</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getCommonSiteIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Given another music21 object, return a list of all common site ids. Do not include the default empty site, None.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="n">note</span><span class="p">,</span> <span class="n">stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">getCommonSiteIds</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">s1</span><span class="p">)]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">getCommonSiteIds</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">s1</span><span class="p">),</span> <span class="nb">id</span><span class="p">(</span><span class="n">s2</span><span class="p">)]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getCommonSites">
<tt class="descname">getCommonSites</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getCommonSites" title="Permalink to this definition">¶</a></dt>
<dd><p>Given another object, return a lost of all common sites.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="n">note</span><span class="p">,</span> <span class="n">stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">getCommonSites</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">s1</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">getCommonSites</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getContextByClass">
<tt class="descname">getContextByClass</tt><big>(</big><em>className</em>, <em>serialReverseSearch=True</em>, <em>callerFirst=None</em>, <em>sortByCreationTime=False</em>, <em>prioritizeActiveSite=True</em>, <em>memo=None</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getContextByClass" title="Permalink to this definition">¶</a></dt>
<dd>Search both DefinedContexts as well as associated objects to find a matching class. Returns None if not match is found. The a reference to the caller is required to find the offset of the object of the caller. This is needed for serialReverseSearch. The caller may be a DefinedContexts reference from a lower-level object. If so, we can access the location of that lower-level object. However, if we need a flat representation, the caller needs to be the source Stream, not its DefinedContexts reference. The <cite>callerFirst</cite> is the first object from which this method was called. This is needed in order to determine the final offset from which to search. The <cite>prioritizeActiveSite</cite> parameter searches the objects parent before any other object.</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getOffsetBySite">
<tt class="descname">getOffsetBySite</tt><big>(</big><em>site</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getOffsetBySite" title="Permalink to this definition">¶</a></dt>
<dd><p>If this class has been registered in a container such as a Stream, that container can be provided here, and the offset in that object can be returned. Note that this is different than the getOffsetByElement() method on Stream in that this can never access the flat representation of a Stream.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">30.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">20.5</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="go">20.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">DefinedContextsException: Could not find the object with id ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getSiteIds">
<tt class="descname">getSiteIds</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getSiteIds" title="Permalink to this definition">¶</a></dt>
<dd>Return a list of all site Ids, or the id() value of the sites of this object.</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getSites">
<tt class="descname">getSites</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getSites" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all objects that store a location for this object. Will remove None, the default empty site placeholder.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="n">note</span><span class="p">,</span> <span class="n">stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">getSites</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getSpannerSites">
<tt class="descname">getSpannerSites</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.getSpannerSites" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all sites that are Spanner or Spanner subclasses. This provides a way for objects to be aware of what Spanners they reside in. Note that Spanners are not Stream subclasses, but Music21Objects that are composed with a specialized Stream subclass, SapnnerStroage</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp1</span> <span class="o">=</span> <span class="n">spanner</span><span class="o">.</span><span class="n">Slur</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="n">sp1</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp2</span> <span class="o">=</span> <span class="n">spanner</span><span class="o">.</span><span class="n">Slur</span><span class="p">(</span><span class="n">n2</span><span class="p">,</span> <span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="n">sp1</span><span class="p">,</span> <span class="n">sp2</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.hasContext">
<tt class="descname">hasContext</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.hasContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Boolean if an object reference is stored in the object&#8217;s DefinedContexts object. This checks both all locations as well as all sites.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="n">attr1</span><span class="o">=</span><span class="mf">234</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="s">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">addContext</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">hasContext</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">hasContext</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">hasContext</span><span class="p">(</span><span class="mf">45</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.mergeAttributes">
<tt class="descname">mergeAttributes</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.mergeAttributes" title="Permalink to this definition">¶</a></dt>
<dd>Merge all elementary, static attributes. Namely, <cite>id</cite> and <cite>groups</cite> attributes from another music21 object. Can be useful for copy-like operations.</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.purgeLocations">
<tt class="descname">purgeLocations</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.purgeLocations" title="Permalink to this definition">¶</a></dt>
<dd>Remove references to all locations in objects that no longer exist.</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.removeLocationBySite">
<tt class="descname">removeLocationBySite</tt><big>(</big><em>site</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.removeLocationBySite" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a location in the <a title="music21.base.DefinedContexts" class="reference internal" href="#music21.base.DefinedContexts"><tt class="xref docutils literal"><span class="pre">DefinedContexts</span></tt></a> object. This is only for advanced location method and is not a complete or sufficient way to remove an object from a Stream.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="n">note</span><span class="p">,</span> <span class="n">stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mf">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">removeLocationBySite</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">==</span> <span class="bp">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.removeLocationBySiteId">
<tt class="descname">removeLocationBySiteId</tt><big>(</big><em>siteId</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.removeLocationBySiteId" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a location in the <a title="music21.base.DefinedContexts" class="reference internal" href="#music21.base.DefinedContexts"><tt class="xref docutils literal"><span class="pre">DefinedContexts</span></tt></a> object by id.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="n">note</span><span class="p">,</span> <span class="n">stream</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mf">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">removeLocationBySiteId</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">==</span> <span class="bp">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.setOffsetBySite">
<tt class="descname">setOffsetBySite</tt><big>(</big><em>site</em>, <em>value</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.setOffsetBySite" title="Permalink to this definition">¶</a></dt>
<dd><p>Direct access to the DefinedContexts setOffsetBySite() method. This should only be used for advanced processing of known site that already has been added.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">setOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="go">30</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.show">
<tt class="descname">show</tt><big>(</big><em>fmt=None</em>, <em>app=None</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.show" title="Permalink to this definition">¶</a></dt>
<dd>Displays an object in a format provided by the fmt argument or, if not provided, the format set in the user&#8217;s Environment Valid formats include (but are not limited to): xml (musicxml) text lily.png lily.pdf</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.splitAtDurations">
<tt class="descname">splitAtDurations</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.splitAtDurations" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a Note and returns a list of Notes with only a single duration.DurationUnit in each. Ties are added.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span> <span class="c"># remove defaults</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">addDurationUnit</span><span class="p">(</span><span class="n">duration</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="s">&#39;half&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">addDurationUnit</span><span class="p">(</span><span class="n">duration</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="s">&#39;whole&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">splitAtDurations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="o">.</span><span class="n">pitch</span> <span class="o">==</span> <span class="n">b</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">.</span><span class="n">pitch</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;half&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;whole&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.splitAtQuarterLength">
<tt class="descname">splitAtQuarterLength</tt><big>(</big><em>quarterLength</em>, <em>retainOrigin=True</em>, <em>addTies=True</em>, <em>displayTiedAccidentals=False</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.splitAtQuarterLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Split an Element into two Elements at a provided QuarterLength into the Element.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&#39;C#5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">&#39;whole&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">articulations</span> <span class="o">=</span> <span class="p">[</span><span class="n">articulations</span><span class="o">.</span><span class="n">Staccato</span><span class="p">()]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">lyric</span> <span class="o">=</span> <span class="s">&#39;hi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">expressions</span> <span class="o">=</span> <span class="p">[</span><span class="n">expressions</span><span class="o">.</span><span class="n">Mordent</span><span class="p">(),</span> <span class="n">expressions</span><span class="o">.</span><span class="n">Trill</span><span class="p">(),</span> <span class="n">expressions</span><span class="o">.</span><span class="n">Fermata</span><span class="p">()]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">splitAtQuarterLength</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;half&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">articulations</span>
<span class="go">[&lt;music21.articulations.Staccato&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">lyric</span>
<span class="go">&#39;hi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">expressions</span>
<span class="go">[&lt;music21.expressions.Mordent&gt;, &lt;music21.expressions.Trill&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;quarter&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">articulations</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">lyric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">expressions</span>
<span class="go">[&lt;music21.expressions.Trill&gt;, &lt;music21.expressions.Fermata&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.splitByQuarterLengths">
<tt class="descname">splitByQuarterLengths</tt><big>(</big><em>quarterLengthList</em>, <em>addTies=True</em>, <em>displayTiedAccidentals=False</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.splitByQuarterLengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of quarter lengths, return a list of Music21Object objects, copied from this Music21Object, that are partitioned and tied with the specified quarter length list durations.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">post</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">splitByQuarterLengths</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">1</span><span class="p">,</span><span class="mf">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">post</span><span class="p">]</span>
<span class="go">[1, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.unfreezeIds">
<tt class="descname">unfreezeIds</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.unfreezeIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore keys to be the id() of the object they contain</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">30.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span><span class="o">.</span><span class="n">addLocationAndActiveSite</span><span class="p">(</span><span class="mf">50</span><span class="p">,</span> <span class="n">aM21Obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">!=</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldParentId</span> <span class="o">=</span> <span class="n">bM21Obj</span><span class="o">.</span><span class="n">_activeSiteId</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span><span class="o">.</span><span class="n">freezeIds</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newParentId</span> <span class="o">=</span> <span class="n">bM21Obj</span><span class="o">.</span><span class="n">_activeSiteId</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldParentId</span> <span class="o">==</span> <span class="n">newParentId</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span><span class="o">.</span><span class="n">unfreezeIds</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">postParentId</span> <span class="o">=</span> <span class="n">bM21Obj</span><span class="o">.</span><span class="n">_activeSiteId</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldParentId</span> <span class="o">==</span> <span class="n">postParentId</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.unwrapWeakref">
<tt class="descname">unwrapWeakref</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.unwrapWeakref" title="Permalink to this definition">¶</a></dt>
<dd><p>Public interface to operation on DefinedContexts.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">30.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">addLocationAndActiveSite</span><span class="p">(</span><span class="mf">50</span><span class="p">,</span> <span class="n">bM21Obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">unwrapWeakref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.wrapWeakref">
<tt class="descname">wrapWeakref</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.Music21Object.wrapWeakref" title="Permalink to this definition">¶</a></dt>
<dd><p>Public interface to operation on DefinedContexts.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bM21Obj</span> <span class="o">=</span> <span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">30.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">addLocationAndActiveSite</span><span class="p">(</span><span class="mf">50</span><span class="p">,</span> <span class="n">bM21Obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">unwrapWeakref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aM21Obj</span><span class="o">.</span><span class="n">wrapWeakref</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.write">
<tt class="descname">write</tt><big>(</big><em>fmt=None</em>, <em>fp=None</em><big>)</big><a class="headerlink" href="#music21.base.Music21Object.write" title="Permalink to this definition">¶</a></dt>
<dd>Write a file. A None file path will result in temporary file</dd></dl>

<p>Methods inherited from <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a>: <a title="music21.base.JSONSerializer.jsonAttributes" class="reference internal" href="#music21.base.JSONSerializer.jsonAttributes"><tt class="xref docutils literal"><span class="pre">jsonAttributes()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonComponentFactory" class="reference internal" href="#music21.base.JSONSerializer.jsonComponentFactory"><tt class="xref docutils literal"><span class="pre">jsonComponentFactory()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonPrint" class="reference internal" href="#music21.base.JSONSerializer.jsonPrint"><tt class="xref docutils literal"><span class="pre">jsonPrint()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonRead" class="reference internal" href="#music21.base.JSONSerializer.jsonRead"><tt class="xref docutils literal"><span class="pre">jsonRead()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonWrite" class="reference internal" href="#music21.base.JSONSerializer.jsonWrite"><tt class="xref docutils literal"><span class="pre">jsonWrite()</span></tt></a></p>
</blockquote>
</dd></dl>

</div>
<div class="section" id="elementwrapper">
<h2>ElementWrapper<a class="headerlink" href="#elementwrapper" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: <a title="music21.base.Music21Object" class="reference internal" href="#music21.base.Music21Object"><tt class="xref docutils literal"><span class="pre">Music21Object</span></tt></a>, <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a></p>
<dl class="class">
<dt id="music21.base.ElementWrapper">
<em class="property">
class </em><tt class="descclassname">music21.base.</tt><tt class="descname">ElementWrapper</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#music21.base.ElementWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>An element wraps any object that is not a <a title="music21.base.Music21Object" class="reference internal" href="#music21.base.Music21Object"><tt class="xref docutils literal"><span class="pre">Music21Object</span></tt></a>, so that that object can be positioned within a <a title="music21.stream.Stream" class="reference external" href="moduleStream.html#music21.stream.Stream"><tt class="xref docutils literal"><span class="pre">Stream</span></tt></a>. The object stored within ElementWrapper is available from the the <a title="music21.base.ElementWrapper.obj" class="reference internal" href="#music21.base.ElementWrapper.obj"><tt class="xref docutils literal"><span class="pre">obj</span></tt></a> attribute. Providing an object at initialization is mandatory.</p>
<p><strong>ElementWrapper</strong> <strong>attributes</strong></p>
<blockquote>
<dl class="attribute">
<dt id="music21.base.ElementWrapper.obj">
<tt class="descname">obj</tt><a class="headerlink" href="#music21.base.ElementWrapper.obj" title="Permalink to this definition">¶</a></dt>
<dd>The object this wrapper wraps.</dd></dl>

<p>Attributes inherited from <a title="music21.base.Music21Object" class="reference internal" href="#music21.base.Music21Object"><tt class="xref docutils literal"><span class="pre">Music21Object</span></tt></a>: <a title="music21.base.Music21Object.classSortOrder" class="reference internal" href="#music21.base.Music21Object.classSortOrder"><tt class="xref docutils literal"><span class="pre">classSortOrder</span></tt></a>, <a title="music21.base.Music21Object.hideObjectOnPrint" class="reference internal" href="#music21.base.Music21Object.hideObjectOnPrint"><tt class="xref docutils literal"><span class="pre">hideObjectOnPrint</span></tt></a></p>
</blockquote>
<p><strong>ElementWrapper</strong> <strong>properties</strong></p>
<blockquote>
<dl class="attribute">
<dt id="music21.base.ElementWrapper.duration">
<tt class="descname">duration</tt><a class="headerlink" href="#music21.base.ElementWrapper.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the duration of the ElementWrapper (if separately set), but normal returns the duration of the component object if available, otherwise returns None.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">note</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&#39;F#&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el1</span> <span class="o">=</span> <span class="n">ElementWrapper</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">el1</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">2.0</span>
<span class="go">ADVANCED FEATURE TO SET DURATION OF ELEMENTS AND STREAMS SEPARATELY</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">KindaStupid</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks1</span> <span class="o">=</span> <span class="n">ElementWrapper</span><span class="p">(</span><span class="n">KindaStupid</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks1</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">duration</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="nc">AttributeError</span>: <span class="n-Identifier">&#39;KindaStupid&#39; object has no attribute &#39;duration&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">duration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks1</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="s">&quot;whole&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks1</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks1</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">duration</span>  <span class="c"># still not defined</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="nc">AttributeError</span>: <span class="n-Identifier">&#39;KindaStupid&#39; object has no attribute &#39;duration&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.ElementWrapper.id">
<tt class="descname">id</tt><a class="headerlink" href="#music21.base.ElementWrapper.id" title="Permalink to this definition">¶</a></dt>
<dd>No documentation.</dd></dl>

<dl class="attribute">
<dt id="music21.base.ElementWrapper.offset">
<tt class="descname">offset</tt><a class="headerlink" href="#music21.base.ElementWrapper.offset" title="Permalink to this definition">¶</a></dt>
<dd>Get the offset for the activeSite.</dd></dl>

<p>Properties inherited from <a title="music21.base.Music21Object" class="reference internal" href="#music21.base.Music21Object"><tt class="xref docutils literal"><span class="pre">Music21Object</span></tt></a>: <a title="music21.base.Music21Object.activeSite" class="reference internal" href="#music21.base.Music21Object.activeSite"><tt class="xref docutils literal"><span class="pre">activeSite</span></tt></a>, <a title="music21.base.Music21Object.beat" class="reference internal" href="#music21.base.Music21Object.beat"><tt class="xref docutils literal"><span class="pre">beat</span></tt></a>, <a title="music21.base.Music21Object.beatDuration" class="reference internal" href="#music21.base.Music21Object.beatDuration"><tt class="xref docutils literal"><span class="pre">beatDuration</span></tt></a>, <a title="music21.base.Music21Object.beatStr" class="reference internal" href="#music21.base.Music21Object.beatStr"><tt class="xref docutils literal"><span class="pre">beatStr</span></tt></a>, <a title="music21.base.Music21Object.beatStrength" class="reference internal" href="#music21.base.Music21Object.beatStrength"><tt class="xref docutils literal"><span class="pre">beatStrength</span></tt></a>, <a title="music21.base.Music21Object.classes" class="reference internal" href="#music21.base.Music21Object.classes"><tt class="xref docutils literal"><span class="pre">classes</span></tt></a>, <a title="music21.base.Music21Object.derivationHierarchy" class="reference internal" href="#music21.base.Music21Object.derivationHierarchy"><tt class="xref docutils literal"><span class="pre">derivationHierarchy</span></tt></a>, <a title="music21.base.Music21Object.measureNumber" class="reference internal" href="#music21.base.Music21Object.measureNumber"><tt class="xref docutils literal"><span class="pre">measureNumber</span></tt></a>, <a title="music21.base.Music21Object.priority" class="reference internal" href="#music21.base.Music21Object.priority"><tt class="xref docutils literal"><span class="pre">priority</span></tt></a></p>
<p>Properties inherited from <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a>: <a title="music21.base.JSONSerializer.json" class="reference internal" href="#music21.base.JSONSerializer.json"><tt class="xref docutils literal"><span class="pre">json</span></tt></a></p>
</blockquote>
<p><strong>ElementWrapper</strong> <strong>methods</strong></p>
<blockquote>
<dl class="method">
<dt id="music21.base.ElementWrapper.getId">
<tt class="descname">getId</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.ElementWrapper.getId" title="Permalink to this definition">¶</a></dt>
<dd>No documentation.</dd></dl>

<dl class="method">
<dt id="music21.base.ElementWrapper.isTwin">
<tt class="descname">isTwin</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#music21.base.ElementWrapper.isTwin" title="Permalink to this definition">¶</a></dt>
<dd><p>A weaker form of equality.  a.isTwin(b) is true if a and b store either the same object OR objects that are equal and a.groups == b.groups and a.id == b.id (or both are none) and duration are equal. but does not require position, priority, or activeSite to be the same In other words, is essentially the same object in a different context</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">note</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="o">=</span> <span class="n">ElementWrapper</span><span class="p">(</span><span class="n">obj</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s">&quot;A-&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s">&quot;aflat-Note&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;out-of-range&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mf">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bE</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">aE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="ow">is</span> <span class="n">bE</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="o">==</span> <span class="n">bE</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">isTwin</span><span class="p">(</span><span class="n">bE</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bE</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">14.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bE</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="o">-</span><span class="mf">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="o">==</span> <span class="n">bE</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">isTwin</span><span class="p">(</span><span class="n">bE</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.ElementWrapper.setId">
<tt class="descname">setId</tt><big>(</big><em>newId</em><big>)</big><a class="headerlink" href="#music21.base.ElementWrapper.setId" title="Permalink to this definition">¶</a></dt>
<dd>No documentation.</dd></dl>

<p>Methods inherited from <a title="music21.base.Music21Object" class="reference internal" href="#music21.base.Music21Object"><tt class="xref docutils literal"><span class="pre">Music21Object</span></tt></a>: <a title="music21.base.Music21Object.addContext" class="reference internal" href="#music21.base.Music21Object.addContext"><tt class="xref docutils literal"><span class="pre">addContext()</span></tt></a>, <a title="music21.base.Music21Object.addLocation" class="reference internal" href="#music21.base.Music21Object.addLocation"><tt class="xref docutils literal"><span class="pre">addLocation()</span></tt></a>, <a title="music21.base.Music21Object.addLocationAndActiveSite" class="reference internal" href="#music21.base.Music21Object.addLocationAndActiveSite"><tt class="xref docutils literal"><span class="pre">addLocationAndActiveSite()</span></tt></a>, <a title="music21.base.Music21Object.freezeIds" class="reference internal" href="#music21.base.Music21Object.freezeIds"><tt class="xref docutils literal"><span class="pre">freezeIds()</span></tt></a>, <a title="music21.base.Music21Object.getAllContextsByClass" class="reference internal" href="#music21.base.Music21Object.getAllContextsByClass"><tt class="xref docutils literal"><span class="pre">getAllContextsByClass()</span></tt></a>, <a title="music21.base.Music21Object.getCommonSiteIds" class="reference internal" href="#music21.base.Music21Object.getCommonSiteIds"><tt class="xref docutils literal"><span class="pre">getCommonSiteIds()</span></tt></a>, <a title="music21.base.Music21Object.getCommonSites" class="reference internal" href="#music21.base.Music21Object.getCommonSites"><tt class="xref docutils literal"><span class="pre">getCommonSites()</span></tt></a>, <a title="music21.base.Music21Object.getContextAttr" class="reference internal" href="#music21.base.Music21Object.getContextAttr"><tt class="xref docutils literal"><span class="pre">getContextAttr()</span></tt></a>, <a title="music21.base.Music21Object.getContextByClass" class="reference internal" href="#music21.base.Music21Object.getContextByClass"><tt class="xref docutils literal"><span class="pre">getContextByClass()</span></tt></a>, <a title="music21.base.Music21Object.getOffsetBySite" class="reference internal" href="#music21.base.Music21Object.getOffsetBySite"><tt class="xref docutils literal"><span class="pre">getOffsetBySite()</span></tt></a>, <a title="music21.base.Music21Object.getSiteIds" class="reference internal" href="#music21.base.Music21Object.getSiteIds"><tt class="xref docutils literal"><span class="pre">getSiteIds()</span></tt></a>, <a title="music21.base.Music21Object.getSites" class="reference internal" href="#music21.base.Music21Object.getSites"><tt class="xref docutils literal"><span class="pre">getSites()</span></tt></a>, <a title="music21.base.Music21Object.getSpannerSites" class="reference internal" href="#music21.base.Music21Object.getSpannerSites"><tt class="xref docutils literal"><span class="pre">getSpannerSites()</span></tt></a>, <a title="music21.base.Music21Object.hasContext" class="reference internal" href="#music21.base.Music21Object.hasContext"><tt class="xref docutils literal"><span class="pre">hasContext()</span></tt></a>, <a title="music21.base.Music21Object.mergeAttributes" class="reference internal" href="#music21.base.Music21Object.mergeAttributes"><tt class="xref docutils literal"><span class="pre">mergeAttributes()</span></tt></a>, <a title="music21.base.Music21Object.purgeLocations" class="reference internal" href="#music21.base.Music21Object.purgeLocations"><tt class="xref docutils literal"><span class="pre">purgeLocations()</span></tt></a>, <a title="music21.base.Music21Object.removeLocationBySite" class="reference internal" href="#music21.base.Music21Object.removeLocationBySite"><tt class="xref docutils literal"><span class="pre">removeLocationBySite()</span></tt></a>, <a title="music21.base.Music21Object.removeLocationBySiteId" class="reference internal" href="#music21.base.Music21Object.removeLocationBySiteId"><tt class="xref docutils literal"><span class="pre">removeLocationBySiteId()</span></tt></a>, <a title="music21.base.Music21Object.searchParentByAttr" class="reference internal" href="#music21.base.Music21Object.searchParentByAttr"><tt class="xref docutils literal"><span class="pre">searchParentByAttr()</span></tt></a>, <a title="music21.base.Music21Object.setContextAttr" class="reference internal" href="#music21.base.Music21Object.setContextAttr"><tt class="xref docutils literal"><span class="pre">setContextAttr()</span></tt></a>, <a title="music21.base.Music21Object.setOffsetBySite" class="reference internal" href="#music21.base.Music21Object.setOffsetBySite"><tt class="xref docutils literal"><span class="pre">setOffsetBySite()</span></tt></a>, <a title="music21.base.Music21Object.show" class="reference internal" href="#music21.base.Music21Object.show"><tt class="xref docutils literal"><span class="pre">show()</span></tt></a>, <a title="music21.base.Music21Object.splitAtDurations" class="reference internal" href="#music21.base.Music21Object.splitAtDurations"><tt class="xref docutils literal"><span class="pre">splitAtDurations()</span></tt></a>, <a title="music21.base.Music21Object.splitAtQuarterLength" class="reference internal" href="#music21.base.Music21Object.splitAtQuarterLength"><tt class="xref docutils literal"><span class="pre">splitAtQuarterLength()</span></tt></a>, <a title="music21.base.Music21Object.splitByQuarterLengths" class="reference internal" href="#music21.base.Music21Object.splitByQuarterLengths"><tt class="xref docutils literal"><span class="pre">splitByQuarterLengths()</span></tt></a>, <a title="music21.base.Music21Object.unfreezeIds" class="reference internal" href="#music21.base.Music21Object.unfreezeIds"><tt class="xref docutils literal"><span class="pre">unfreezeIds()</span></tt></a>, <a title="music21.base.Music21Object.unwrapWeakref" class="reference internal" href="#music21.base.Music21Object.unwrapWeakref"><tt class="xref docutils literal"><span class="pre">unwrapWeakref()</span></tt></a>, <a title="music21.base.Music21Object.wrapWeakref" class="reference internal" href="#music21.base.Music21Object.wrapWeakref"><tt class="xref docutils literal"><span class="pre">wrapWeakref()</span></tt></a>, <a title="music21.base.Music21Object.write" class="reference internal" href="#music21.base.Music21Object.write"><tt class="xref docutils literal"><span class="pre">write()</span></tt></a></p>
<p>Methods inherited from <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a>: <a title="music21.base.JSONSerializer.jsonAttributes" class="reference internal" href="#music21.base.JSONSerializer.jsonAttributes"><tt class="xref docutils literal"><span class="pre">jsonAttributes()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonComponentFactory" class="reference internal" href="#music21.base.JSONSerializer.jsonComponentFactory"><tt class="xref docutils literal"><span class="pre">jsonComponentFactory()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonPrint" class="reference internal" href="#music21.base.JSONSerializer.jsonPrint"><tt class="xref docutils literal"><span class="pre">jsonPrint()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonRead" class="reference internal" href="#music21.base.JSONSerializer.jsonRead"><tt class="xref docutils literal"><span class="pre">jsonRead()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonWrite" class="reference internal" href="#music21.base.JSONSerializer.jsonWrite"><tt class="xref docutils literal"><span class="pre">jsonWrite()</span></tt></a></p>
</blockquote>
</dd></dl>

</div>
<div class="section" id="definedcontexts">
<h2>DefinedContexts<a class="headerlink" href="#definedcontexts" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.base.DefinedContexts">
<em class="property">
class </em><tt class="descclassname">music21.base.</tt><tt class="descname">DefinedContexts</tt><a class="headerlink" href="#music21.base.DefinedContexts" title="Permalink to this definition">¶</a></dt>
<dd><p>An object, stored within a Music21Object, that stores references to a collection of objects that may be contextually relevant. Some of these objects are locations; these DefinedContext additional store an offset value, used for determining position within a Stream. DefinedContexts are one of many ways that context can be found; context can also be found through searching (using objects in DefinedContexts). All defined contexts are stored as dictionaries in a dictionary. The outermost dictionary stores objects</p>
<p><strong>DefinedContexts</strong> <strong>methods</strong></p>
<blockquote>
<dl class="method">
<dt id="music21.base.DefinedContexts.add">
<tt class="descname">add</tt><big>(</big><em>obj</em>, <em>offset=None</em>, <em>timeValue=None</em>, <em>idKey=None</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.add" title="Permalink to this definition">¶</a></dt>
<dd>Add a reference to the DefinedContexts collection. if offset is None, it is interpreted as a context if offset is a value, it is intereted as location The <cite>timeValue</cite> argument is used to store the time at which an object is added to locations. This is not the same as <cite>offset</cite></dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.clear" title="Permalink to this definition">¶</a></dt>
<dd>Clear all stored data.</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.freezeIds">
<tt class="descname">freezeIds</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.freezeIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily replace are stored keys with a different value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldKeys</span> <span class="o">=</span> <span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">freezeIds</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newKeys</span> <span class="o">=</span> <span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldKeys</span> <span class="o">==</span> <span class="n">newKeys</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.get">
<tt class="descname">get</tt><big>(</big><em>locationsTrail=False</em>, <em>sortByCreationTime=False</em>, <em>priorityTarget=None</em>, <em>autoPurge=True</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get references; unwrap from weakrefs; order, based on dictionary keys, is from most recently added to least recently added. The <cite>locationsTrail</cite> option forces locations to come after all other defined contexts. The <cite>sortByCreationTime</cite> option will sort objects by creation time, where most-recently assigned objects are returned first. If <cite>priorityTarget</cite> is defined, this object will be placed first in the list of objects. If <cite>autoPurge</cite> is True, this method automatically removes dead weak-refs. Thus, every time locations are gotten, any dead weakrefs are removed. This provides a modest performance boost.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cObj</span><span class="p">,</span> <span class="mf">345</span><span class="p">)</span> <span class="c"># a locations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#time.sleep(.05)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#time.sleep(.05)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="n">cObj</span><span class="p">,</span> <span class="n">aObj</span><span class="p">,</span> <span class="n">bObj</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">locationsTrail</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">aObj</span><span class="p">,</span> <span class="n">bObj</span><span class="p">,</span> <span class="n">cObj</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sortByCreationTime</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">bObj</span><span class="p">,</span> <span class="n">aObj</span><span class="p">,</span> <span class="n">cObj</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getAllByClass">
<tt class="descname">getAllByClass</tt><big>(</big><em>className</em>, <em>found=None</em>, <em>idFound=None</em>, <em>memo=None</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getAllByClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all known references of a given class found in any association with this DefinedContexts. This will recursively search the defined contexts of existing defined contexts, and return a list of all objects that match the given class.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">music21</span><span class="o">.</span><span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">getAllByClass</span> <span class="o">=</span> <span class="p">[</span><span class="n">aObj</span><span class="p">,</span> <span class="n">bObj</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getAttrByName">
<tt class="descname">getAttrByName</tt><big>(</big><em>attrName</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getAttrByName" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an attribute name, search all objects and find the first that matches this attribute name; then return a reference to this attribute.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="n">attr1</span><span class="o">=</span><span class="mf">234</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="mf">234</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="mf">98</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aContexts</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">getAttrByName</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mf">234</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">removeById</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">aObj</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">getAttrByName</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mf">98</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getByClass">
<tt class="descname">getByClass</tt><big>(</big><em>className</em>, <em>serialReverseSearch=True</em>, <em>callerFirst=None</em>, <em>sortByCreationTime=False</em>, <em>prioritizeActiveSite=False</em>, <em>priorityTarget=None</em>, <em>memo=None</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getByClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the most recently added reference based on className. Class name can be a string or the class name. This will recursively search the defined contexts of existing defined contexts. The <cite>callerFirst</cite> parameters is simply used to pass a reference of the first caller; this is necessary if we are looking within a Stream for a flat offset position. If <cite>priorityTarget</cite> is specified, this location will be searched first. The <cite>prioritizeActiveSite</cite> is pased to to any recursively called getContextByClass() calls.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#time.sleep(.05)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># we get the most recently added object first</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">getByClass</span><span class="p">(</span><span class="s">&#39;mock&#39;</span><span class="p">,</span> <span class="n">sortByCreationTime</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="o">==</span> <span class="n">bObj</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">getByClass</span><span class="p">(</span><span class="n">Mock</span><span class="p">,</span> <span class="n">sortByCreationTime</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="o">==</span> <span class="n">bObj</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getById">
<tt class="descname">getById</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getById" title="Permalink to this definition">¶</a></dt>
<dd>Return the object specified by an id. Used for testing and debugging.</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getOffsetByObjectMatch">
<tt class="descname">getOffsetByObjectMatch</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getOffsetByObjectMatch" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given object return the offset using a direct object match. The stored id value is not used; instead, the id() of both the stored object reference and the supplied objet is used.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cParent</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">,</span> <span class="mf">121.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">bSite</span><span class="p">)</span>
<span class="go">121.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getOffsetBySite">
<tt class="descname">getOffsetBySite</tt><big>(</big><em>site</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getOffsetBySite" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given site return its offset. The None site is permitted. The id() of the site is used to find the offset.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cParent</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">,</span> <span class="mf">121.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">bSite</span><span class="p">)</span>
<span class="go">121.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getOffsetBySiteId">
<tt class="descname">getOffsetBySiteId</tt><big>(</big><em>siteId</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getOffsetBySiteId" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given site id, return its offset.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cParent</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">,</span> <span class="mf">121.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsetBySiteId</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">aSite</span><span class="p">))</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsetBySiteId</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">bSite</span><span class="p">))</span>
<span class="go">121.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getOffsets">
<tt class="descname">getOffsets</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getOffsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all offsets.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cSite</span><span class="p">)</span> <span class="c"># a context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">,</span> <span class="mf">234</span><span class="p">)</span> <span class="c"># can add at same offset or another</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">dSite</span><span class="p">)</span> <span class="c"># a context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsets</span><span class="p">()</span>
<span class="go">[0, 234]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getSiteByOffset">
<tt class="descname">getSiteByOffset</tt><big>(</big><em>offset</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getSiteByOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given offset return the parent # More than one parent may have the same offset; # this can return the last site added by sorting time No - now we use a dict, so there&#8217;s no guarantee that the one you want will be there &#8211; need orderedDicts!</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">,</span> <span class="mf">23121.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">==</span> <span class="n">aLocations</span><span class="o">.</span><span class="n">getSiteByOffset</span><span class="p">(</span><span class="mf">23</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getSiteIds">
<tt class="descname">getSiteIds</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getSiteIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all site Ids.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">music21</span><span class="o">.</span><span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">)</span> <span class="c"># a context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">getSiteIds</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">aSite</span><span class="p">)]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getSites">
<tt class="descname">getSites</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getSites" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all defined contexts that are locations; unwrap from weakrefs</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">,</span> <span class="mf">234</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">,</span> <span class="mf">3000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">_locationKeys</span><span class="p">)</span> <span class="o">==</span> <span class="mf">2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">getSites</span><span class="p">())</span> <span class="o">==</span> <span class="mf">2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.getSitesByClass">
<tt class="descname">getSitesByClass</tt><big>(</big><em>className</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.getSitesByClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sites that match the provided class.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cObj</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">,</span> <span class="mf">234</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">,</span> <span class="mf">3000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cObj</span><span class="p">,</span> <span class="mf">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">getSitesByClass</span><span class="p">(</span><span class="n">Mock</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">aObj</span><span class="p">,</span> <span class="n">bObj</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">getSitesByClass</span><span class="p">(</span><span class="s">&#39;Stream&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">cObj</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.hasSiteId">
<tt class="descname">hasSiteId</tt><big>(</big><em>siteId</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.hasSiteId" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True or False if this DefinedContexts object already has this site id defined as a location</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">music21</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span> <span class="o">=</span> <span class="n">music21</span><span class="o">.</span><span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">)</span> <span class="c"># a context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">hasSiteId</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">aSite</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc</span><span class="o">.</span><span class="n">hasSiteId</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">bSite</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.isSite">
<tt class="descname">isSite</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.isSite" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an object, determine if it is a site stored in this DefinedContexts. This will return False if the object is simply a context and not a location</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">)</span> <span class="c"># a context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">isSite</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">isSite</span><span class="p">(</span><span class="n">bSite</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.purgeLocations">
<tt class="descname">purgeLocations</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.purgeLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean all locations that refer to objects that no longer exist.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cSite</span><span class="p">)</span> <span class="c"># a context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">aSite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aLocations</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">purgeLocations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aLocations</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.remove">
<tt class="descname">remove</tt><big>(</big><em>site</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the object (a context or location site) specified from DefinedContexts. Object provided can be a location site or a defined context.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aContexts</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">,</span> <span class="mf">233</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aContexts</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cSite</span><span class="p">,</span> <span class="mf">232223</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aContexts</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">aContexts</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.removeById">
<tt class="descname">removeById</tt><big>(</big><em>idKey</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.removeById" title="Permalink to this definition">¶</a></dt>
<dd>Remove a defined contexts entry by id key, which is id() of the object.</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.setAttrByName">
<tt class="descname">setAttrByName</tt><big>(</big><em>attrName</em>, <em>value</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.setAttrByName" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an attribute name, search all objects and find the first that matches this attribute name; then return a reference to this attribute.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="n">attr1</span><span class="o">=</span><span class="mf">234</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span><span class="o">.</span><span class="n">attr1</span> <span class="o">=</span> <span class="mf">98</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">setAttrByName</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">getAttrByName</span><span class="p">(</span><span class="s">&#39;attr1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;test&#39;</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.setOffsetBySite">
<tt class="descname">setOffsetBySite</tt><big>(</big><em>site</em>, <em>value</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.setOffsetBySite" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the offset of the site specified.  Note that this can also be done with add, but the difference is that if the site is not in DefinedContexts, it will raise an exception.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cSite</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bSite</span><span class="p">,</span> <span class="mf">121.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">setOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aLocations</span><span class="o">.</span><span class="n">setOffsetBySite</span><span class="p">(</span><span class="n">cSite</span><span class="p">,</span> <span class="mf">30</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="nc">DefinedContextsException</span>: <span class="n-Identifier">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.setOffsetBySiteId">
<tt class="descname">setOffsetBySiteId</tt><big>(</big><em>siteId</em>, <em>value</em><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.setOffsetBySiteId" title="Permalink to this definition">¶</a></dt>
<dd>Set an offset by siteId. This assumes that the site is valid, is best used for advanced, performance critical usage only. The <cite>siteId</cite> parameter can be None</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.unfreezeIds">
<tt class="descname">unfreezeIds</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.unfreezeIds" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore keys to be the id() of the object they contain</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cObj</span><span class="p">,</span> <span class="mf">200</span><span class="p">)</span> <span class="c"># a location</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldKeys</span> <span class="o">=</span> <span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldLocations</span> <span class="o">=</span> <span class="n">aContexts</span><span class="o">.</span><span class="n">_locationKeys</span><span class="p">[:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">freezeIds</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newKeys</span> <span class="o">=</span> <span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldKeys</span> <span class="o">==</span> <span class="n">newKeys</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">unfreezeIds</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">postKeys</span> <span class="o">=</span> <span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">postKeys</span> <span class="o">==</span> <span class="n">newKeys</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># restored original ids b/c objs are alive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted</span><span class="p">(</span><span class="n">postKeys</span><span class="p">)</span> <span class="o">==</span> <span class="n">sorted</span><span class="p">(</span><span class="n">oldKeys</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldLocations</span> <span class="o">==</span> <span class="n">aContexts</span><span class="o">.</span><span class="n">_locationKeys</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.unwrapWeakref">
<tt class="descname">unwrapWeakref</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.unwrapWeakref" title="Permalink to this definition">¶</a></dt>
<dd><p>Unwrap any and all weakrefs stored.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">isWeakref</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">get</span><span class="p">()[</span><span class="mf">0</span><span class="p">])</span> <span class="c"># unwrapping happens</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">isWeakref</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">aObj</span><span class="p">)][</span><span class="s">&#39;obj&#39;</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">unwrapWeakref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">isWeakref</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">aObj</span><span class="p">)][</span><span class="s">&#39;obj&#39;</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">isWeakref</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">bObj</span><span class="p">)][</span><span class="s">&#39;obj&#39;</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.DefinedContexts.wrapWeakref">
<tt class="descname">wrapWeakref</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.DefinedContexts.wrapWeakref" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap any and all weakrefs stored.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">Music21Object</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bObj</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span> <span class="o">=</span> <span class="n">DefinedContexts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">bObj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">unwrapWeakref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aContexts</span><span class="o">.</span><span class="n">wrapWeakref</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">isWeakref</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">aObj</span><span class="p">)][</span><span class="s">&#39;obj&#39;</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common</span><span class="o">.</span><span class="n">isWeakref</span><span class="p">(</span><span class="n">aContexts</span><span class="o">.</span><span class="n">_definedContexts</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">bObj</span><span class="p">)][</span><span class="s">&#39;obj&#39;</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</blockquote>
</dd></dl>

</div>
<div class="section" id="groups">
<h2>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h2>
<p>Inherits from: list</p>
<dl class="class">
<dt id="music21.base.Groups">
<em class="property">
class </em><tt class="descclassname">music21.base.</tt><tt class="descname">Groups</tt><a class="headerlink" href="#music21.base.Groups" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of strings used to identify associations that an element might have. Enforces that all elements must be strings</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Groups</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
<span class="go">&#39;hello&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="nc">GroupException</span>: <span class="n-Identifier">Only strings can be used as list names</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="jsonserializer">
<h2>JSONSerializer<a class="headerlink" href="#jsonserializer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.base.JSONSerializer">
<em class="property">
class </em><tt class="descclassname">music21.base.</tt><tt class="descname">JSONSerializer</tt><a class="headerlink" href="#music21.base.JSONSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that provides JSON output and input routines. Objects can inherit this class directly, or gain its functional through inheriting Music21Object.</p>
<p><strong>JSONSerializer</strong> <strong>properties</strong></p>
<blockquote>
<dl class="attribute">
<dt id="music21.base.JSONSerializer.json">
<tt class="descname">json</tt><a class="headerlink" href="#music21.base.JSONSerializer.json" title="Permalink to this definition">¶</a></dt>
<dd>Get or set string JSON data for this object. This method is only available if a JSONSerializer subclass object has been customized and configured by overriding the following methods: <a title="music21.base.JSONSerializer.jsonAttributes" class="reference internal" href="#music21.base.JSONSerializer.jsonAttributes"><tt class="xref docutils literal"><span class="pre">jsonAttributes()</span></tt></a>, <a title="music21.base.JSONSerializer.jsonComponentFactory" class="reference internal" href="#music21.base.JSONSerializer.jsonComponentFactory"><tt class="xref docutils literal"><span class="pre">jsonComponentFactory()</span></tt></a>.</dd></dl>

</blockquote>
<p><strong>JSONSerializer</strong> <strong>methods</strong></p>
<blockquote>
<dl class="method">
<dt id="music21.base.JSONSerializer.jsonAttributes">
<tt class="descname">jsonAttributes</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.JSONSerializer.jsonAttributes" title="Permalink to this definition">¶</a></dt>
<dd>Define all attributes of this object that should be JSON serialized for storage and re-instantiation. Attributes that name basic Python objects or <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a> subclasses, or dictionaries or lists that contain Python objects or <a title="music21.base.JSONSerializer" class="reference internal" href="#music21.base.JSONSerializer"><tt class="xref docutils literal"><span class="pre">JSONSerializer</span></tt></a> subclasses, can be provided.</dd></dl>

<dl class="method">
<dt id="music21.base.JSONSerializer.jsonComponentFactory">
<tt class="descname">jsonComponentFactory</tt><big>(</big><em>idStr</em><big>)</big><a class="headerlink" href="#music21.base.JSONSerializer.jsonComponentFactory" title="Permalink to this definition">¶</a></dt>
<dd>Given a stored string during JSON serialization, return an object&#8217; The subclass that overrides this method will have access to all modules necessary to create whatever objects necessary.</dd></dl>

<dl class="method">
<dt id="music21.base.JSONSerializer.jsonPrint">
<tt class="descname">jsonPrint</tt><big>(</big><big>)</big><a class="headerlink" href="#music21.base.JSONSerializer.jsonPrint" title="Permalink to this definition">¶</a></dt>
<dd>No documentation.</dd></dl>

<dl class="method">
<dt id="music21.base.JSONSerializer.jsonRead">
<tt class="descname">jsonRead</tt><big>(</big><em>fp</em><big>)</big><a class="headerlink" href="#music21.base.JSONSerializer.jsonRead" title="Permalink to this definition">¶</a></dt>
<dd>Given a file path, read JSON from a file to this object. Default file extension should be .json. File is opened and closed within this method call.</dd></dl>

<dl class="method">
<dt id="music21.base.JSONSerializer.jsonWrite">
<tt class="descname">jsonWrite</tt><big>(</big><em>fp</em>, <em>format=True</em><big>)</big><a class="headerlink" href="#music21.base.JSONSerializer.jsonWrite" title="Permalink to this definition">¶</a></dt>
<dd>Given a file path, write JSON to a file for this object. Default file extension should be .json. File is opened and closed within this method call.</dd></dl>

</blockquote>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleBeam.html" title="music21.beam"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleArticulations.html" title="music21.articulations"
             >previous</a> |</li>
        <li><a href="contents.html">music21</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009-2011 The music21 Project.
      Last updated on May 22, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>