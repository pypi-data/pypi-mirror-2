
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Files and directories &mdash; sy v1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="sy v1 documentation" href="index.html" />
    <link rel="next" title="Running commands" href="cmd.html" />
    <link rel="prev" title="sy" href="index.html" />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-18758335-2']);
_gaq.push(['_trackPageview']);
(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cmd.html" title="Running commands"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="sy"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">sy v1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="files-and-directories">
<h1>Files and directories<a class="headerlink" href="#files-and-directories" title="Permalink to this headline">¶</a></h1>
<p>This module contains functions for working with files and directories.
Check the standard modules <tt class="xref py py-mod docutils literal"><span class="pre">os.path</span></tt> for more path functions.</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="writing-files">
<h3>Writing files<a class="headerlink" href="#writing-files" title="Permalink to this headline">¶</a></h3>
<div class="section" id="write-string-to-a-file">
<h4>Write string to a file<a class="headerlink" href="#write-string-to-a-file" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sy.path</span>

<span class="c"># Write &#39;hello world&#39; to /tmp/hello</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="s">&#39;hello world</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

<span class="c"># Appending bye world&#39; to the end of /tmp/hello</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="s">&#39;bye world</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="extract-an-archive">
<h4>Extract an archive<a class="headerlink" href="#extract-an-archive" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sy.path</span>

<span class="c"># Extract /var/tmp/huge.tar.bz2 to /var/tmp</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s">&#39;/var/tmp/huge.tar.bz2&#39;</span><span class="p">,</span> <span class="s">&#39;/var/tmp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="reading-files">
<h3>Reading files<a class="headerlink" href="#reading-files" title="Permalink to this headline">¶</a></h3>
<div class="section" id="getting-file-content">
<h4>Getting file content<a class="headerlink" href="#getting-file-content" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sy.path</span>

<span class="c"># Return content of file as a string</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">slurp</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">)</span>
<span class="s">&#39;hello world</span><span class="se">\n</span><span class="s">bye world</span><span class="se">\n</span><span class="s">&#39;</span>

<span class="c"># Return lines from file</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">lines</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s">&#39;hello world</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;bye world</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">]</span>

<span class="c"># Return lines without newline character</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">lines</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="p">[</span><span class="s">&#39;hello world&#39;</span><span class="p">,</span> <span class="s">&#39;bye world&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="checking-content">
<h4>Checking content<a class="headerlink" href="#checking-content" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sy.path</span>

<span class="c"># Check if file contains pattern</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="s">&#39;hell.*world&#39;</span><span class="p">)</span>
<span class="bp">True</span>

<span class="c"># Get the md5 sum of a file</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">md5sum</span><span class="p">(</span><span class="s">&#39;/etc/passwd&#39;</span><span class="p">)</span>
<span class="s">&#39;dad86c61eea237932f201009e5431609&#39;</span>

<span class="c"># Check if the content of two files are different</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">md5sum</span><span class="p">(</span><span class="s">&#39;/etc/passwd&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">md5sum</span><span class="p">(</span><span class="s">&#39;/etc/passwd.old&#39;</span><span class="p">)</span>
<span class="bp">False</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="replace-content-in-text-files">
<h3>Replace content in text files<a class="headerlink" href="#replace-content-in-text-files" title="Permalink to this headline">¶</a></h3>
<p>These functions change the content on files in-place. They try to be as
safe as possible and should fail nicely without corrupting files.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sy.path</span>

<span class="c"># Remove all lines matching &#39;b.*world&#39; from file</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">remove_lines</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="s">r&#39;b.*world&#39;</span><span class="p">)</span>
<span class="mi">1</span>

<span class="c"># Replace whole lines matching &#39;ello world&#39; with &#39;alo world&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">replace_lines</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="s">r&#39;.*ello world&#39;</span><span class="p">,</span> <span class="s">r&#39;alo world&#39;</span><span class="p">)</span>
<span class="mi">1</span>

<span class="c"># Switch places on &#39;alo&#39; and &#39;world&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="s">r&#39;(\w+) (\w+)&#39;</span><span class="p">,</span> <span class="s">r&#39;\2 \1&#39;</span><span class="p">)</span>
<span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="path-operations">
<h3>Path operations<a class="headerlink" href="#path-operations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sy.path</span>

<span class="c"># Clean up and expand paths</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expandpath</span><span class="p">(</span><span class="s">&#39;$JAVA_HOME/bin&#39;</span><span class="p">)</span>
<span class="s">&#39;/opt/java6/bin&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expandpath</span><span class="p">(</span><span class="s">&#39;~/.profile&#39;</span><span class="p">)</span>
<span class="s">&#39;/export/home/john/.profile&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expandpath</span><span class="p">(</span><span class="s">&#39;/var/tmp/../adm&#39;</span><span class="p">)</span>
<span class="s">&#39;/var/adm&#39;</span>

<span class="c"># Make &#39;john&#39; own &#39;/tmp/hello&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">chown</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="s">&#39;john&#39;</span><span class="p">)</span>

<span class="c"># Change group on &#39;/tmp/hello&#39; to 100</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">chown</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c"># Get the owner of &#39;/tmp/hello&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">owner</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">)</span>
<span class="s">&#39;john&#39;</span>

<span class="c"># Get the group GID of &#39;/tmp/hello&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">,</span> <span class="n">gid</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="mi">100</span>

<span class="c"># Return the permissions on &#39;/tmp/hello&#39;</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="s">&#39;/tmp/hello&#39;</span><span class="p">)</span>
<span class="mo">0644</span>

<span class="c"># Remove files, rm -rf style</span>
<span class="n">sy</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s">&#39;/tmp/junk&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-sy.path">
<span id="sy-path-content"></span><h2>sy.path content<a class="headerlink" href="#module-sy.path" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">synopsis:</th><td class="field-body">Simplify operations on files and directories</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="sy.path.dump">
<tt class="descclassname">sy.path.</tt><tt class="descname">dump</tt><big>(</big><em>path</em>, <em>content</em>, <em>binary=False</em>, <em>encoding=None</em>, <em>newline=os.linesep</em><big>)</big><a class="headerlink" href="#sy.path.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump content to a file.</p>
<p>Writes content to file, overwriting if the file exists. 
Use <a class="reference internal" href="#sy.path.append" title="sy.path.append"><tt class="xref py py-func docutils literal"><span class="pre">append()</span></tt></a> to add to the of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>binary</strong> &#8211; Write binary data to the file</li>
<li><strong>encoding</strong> &#8211; If content is unicode, specifies how it should be encoded 
in the file. Raises an assertion error if specified for
non-unicode content</li>
<li><strong>newline</strong> &#8211; Convert all newlines types (Windows or Mac) to this. Default <tt class="docutils literal"><span class="pre">\n</span></tt> on Unix.
If set to None, the content is written without changing any newlines.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.append">
<tt class="descclassname">sy.path.</tt><tt class="descname">append</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#sy.path.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append content to file. Same arguments as to <a class="reference internal" href="#sy.path.dump" title="sy.path.dump"><tt class="xref py py-func docutils literal"><span class="pre">dump()</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="sy.path.chown">
<tt class="descclassname">sy.path.</tt><tt class="descname">chown</tt><big>(</big><em>path</em>, <em>owner</em>, <em>group</em><big>)</big><a class="headerlink" href="#sy.path.chown" title="Permalink to this definition">¶</a></dt>
<dd><p>Change owner and group of a file or directory.</p>
<p>If owner or group is None it is left unchanged. If both are set to None
this function does nothing.</p>
<p>If you use username or groupname that user or group must exist on the
current system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>owner</strong> &#8211; Uid or username of the new owner.</li>
<li><strong>group</strong> &#8211; Gid or groupname of the new owner.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.contains">
<tt class="descclassname">sy.path.</tt><tt class="descname">contains</tt><big>(</big><em>path</em>, <em>pattern</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#sy.path.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the file contains a line that matches the string or 
compiled pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; Path to the file</li>
<li><strong>pattern</strong> &#8211; String or compiled pattern</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descclassname">sy.path.</tt><tt class="descname">dump</tt><big>(</big><em>path</em>, <em>content</em>, <em>append=False</em>, <em>binary=False</em>, <em>encoding=None</em>, <em>newline='\n'</em><big>)</big></dt>
<dd><p>Dump content to a file.</p>
<p>Writes content to file, overwriting if the file exists. 
Use <a class="reference internal" href="#sy.path.append" title="sy.path.append"><tt class="xref py py-func docutils literal"><span class="pre">append()</span></tt></a> to add to the of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>binary</strong> &#8211; Write binary data to the file</li>
<li><strong>encoding</strong> &#8211; If content is unicode, specifies how it should be encoded 
in the file. Raises an assertion error if specified for
non-unicode content</li>
<li><strong>newline</strong> &#8211; Convert all newlines types (Windows or Mac) to this. Default <tt class="docutils literal"><span class="pre">\n</span></tt> on Unix.
If set to None, the content is written without changing any newlines.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.expandpath">
<tt class="descclassname">sy.path.</tt><tt class="descname">expandpath</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#sy.path.expandpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up path.
Expands environment vars like $JAVA_HOME, does tilde expansion for paths 
like &#8220;~/.bashrc&#8221; and normalizes the path</p>
</dd></dl>

<dl class="function">
<dt id="sy.path.extract">
<tt class="descclassname">sy.path.</tt><tt class="descname">extract</tt><big>(</big><em>archive</em>, <em>dir</em><big>)</big><a class="headerlink" href="#sy.path.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpack a tar or zip file to the specified directory.</p>
<p>Tarfiles compressed with gzip, bzip2 or compress are uncompressed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>archive</strong> &#8211; Path to the archive</li>
<li><strong>dir</strong> &#8211; Directory where the archive will be uncompressed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.group">
<tt class="descclassname">sy.path.</tt><tt class="descname">group</tt><big>(</big><em>path</em>, <em>gid=False</em><big>)</big><a class="headerlink" href="#sy.path.group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the group that owns the file or directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>gid</strong> &#8211; If True return the gid as an integer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.lines">
<tt class="descclassname">sy.path.</tt><tt class="descname">lines</tt><big>(</big><em>path</em>, <em>encoding=None</em>, <em>newline=True</em><big>)</big><a class="headerlink" href="#sy.path.lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of lines from file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>newline</strong> &#8211; If true, keep newline characters for every line. 
Default is True.  All newline characters (<tt class="docutils literal"><span class="pre">\r</span></tt>, <tt class="docutils literal"><span class="pre">\r\n</span></tt>) 
are replaced by <tt class="docutils literal"><span class="pre">\n</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Same arguments as to <a class="reference internal" href="#sy.path.slurp" title="sy.path.slurp"><tt class="xref py py-func docutils literal"><span class="pre">slurp()</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="sy.path.md5sum">
<tt class="descclassname">sy.path.</tt><tt class="descname">md5sum</tt><big>(</big><em>path</em>, <em>hex=True</em><big>)</big><a class="headerlink" href="#sy.path.md5sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate md5 sum for a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hex</strong> &#8211; Return the digest in hexadecimal suitable for writing to 
text files. Default True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.mode">
<tt class="descclassname">sy.path.</tt><tt class="descname">mode</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#sy.path.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Permission mode of the file or directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">octal representation of the mode, ie 0644</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.owner">
<tt class="descclassname">sy.path.</tt><tt class="descname">owner</tt><big>(</big><em>path</em>, <em>uid=False</em><big>)</big><a class="headerlink" href="#sy.path.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Return username that owns the file or directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uid</strong> &#8211; If True return the uid as an integer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.remove_lines">
<tt class="descclassname">sy.path.</tt><tt class="descname">remove_lines</tt><big>(</big><em>path</em>, <em>matching</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#sy.path.remove_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove lines from the <tt class="docutils literal"><span class="pre">path</span></tt> that matches <tt class="docutils literal"><span class="pre">matching</span></tt></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The line will match if the pattern is anywhere on the line. 
See <tt class="xref py py-func docutils literal"><span class="pre">re.search()</span></tt> in the standard library.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> &#8211; Path to the file</li>
<li><strong>matching</strong> &#8211; String to search for (or compiled regular expression)</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Number of lines removed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.replace">
<tt class="descclassname">sy.path.</tt><tt class="descname">replace</tt><big>(</big><em>path</em>, <em>match</em>, <em>replacement</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#sy.path.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all occurances of <tt class="docutils literal"><span class="pre">match</span></tt> with <tt class="docutils literal"><span class="pre">replacement</span></tt>. 
Using <tt class="xref py py-func docutils literal"><span class="pre">re.sub()</span></tt>, backreferences in the replacement will work as
normal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># change login of all users to &#39;leif&#39;</span>
<span class="n">rx</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;^\w+:(.*)&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
<span class="n">replace</span><span class="p">(</span><span class="s">&#39;/etc/passwd&#39;</span><span class="p">,</span> <span class="n">rx</span><span class="p">,</span> <span class="s">r&#39;leif:\1&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure your replacement uses a raw string (<tt class="docutils literal"><span class="pre">r''</span></tt>) if it contains 
backreferences.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> &#8211; Path to the file</li>
<li><strong>match</strong> &#8211; String to match</li>
<li><strong>replacement</strong> &#8211; String to replace match with</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Number of replacements made</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.replace_lines">
<tt class="descclassname">sy.path.</tt><tt class="descname">replace_lines</tt><big>(</big><em>path</em>, <em>matching</em>, <em>replacement</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#sy.path.replace_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace lines that contain the string <tt class="docutils literal"><span class="pre">matching</span></tt> with <tt class="docutils literal"><span class="pre">replacement</span></tt></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The line will match if the pattern is anywhere on the line. 
See <tt class="xref py py-func docutils literal"><span class="pre">re.search()</span></tt> in the standard library.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> &#8211; Path to the file</li>
<li><strong>matching</strong> &#8211; String or compiled regular expression.</li>
<li><strong>replacement</strong> &#8211; Line to replace with, newline character will 
automatically be added if missing.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Number of lines replaced</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.rmtree">
<tt class="descclassname">sy.path.</tt><tt class="descname">rmtree</tt><big>(</big><em>path</em>, <em>force=False</em><big>)</big><a class="headerlink" href="#sy.path.rmtree" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a directory and everything below it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>force</strong> &#8211; Ignores all errors, like rm -rf</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sy.path.slurp">
<tt class="descclassname">sy.path.</tt><tt class="descname">slurp</tt><big>(</big><em>path</em>, <em>encoding=None</em>, <em>binary=False</em><big>)</big><a class="headerlink" href="#sy.path.slurp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a file as a string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; Path to file</li>
<li><strong>encoding</strong> &#8211; The encoding of the file. 
Default is None which returns the file as a 8-bit string
which works well for latin1 and asci.</li>
<li><strong>binary</strong> &#8211; Treat the file as a binary, no conversions will be made</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Files and directories</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#writing-files">Writing files</a><ul>
<li><a class="reference internal" href="#write-string-to-a-file">Write string to a file</a></li>
<li><a class="reference internal" href="#extract-an-archive">Extract an archive</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reading-files">Reading files</a><ul>
<li><a class="reference internal" href="#getting-file-content">Getting file content</a></li>
<li><a class="reference internal" href="#checking-content">Checking content</a></li>
</ul>
</li>
<li><a class="reference internal" href="#replace-content-in-text-files">Replace content in text files</a></li>
<li><a class="reference internal" href="#path-operations">Path operations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-sy.path">sy.path content</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">sy</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cmd.html"
                        title="next chapter">Running commands</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/path.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cmd.html" title="Running commands"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="sy"
             >previous</a> |</li>
        <li><a href="index.html">sy v1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Paul Diaconescu.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.3.
    </div>
  </body>
</html>