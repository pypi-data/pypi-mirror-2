<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Internationalization &mdash; Camelot v0.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Camelot v0.1 documentation" href="../index.html" />
    <link rel="up" title="Advanced Topics" href="index.html" />
    <link rel="next" title="Deployment" href="deployment.html" />
    <link rel="prev" title="Advanced Topics" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="deployment.html" title="Deployment"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Advanced Topics"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Camelot v0.1 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Camelot Documentation contents</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Advanced Topics</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="internationalization">
<span id="doc-i18n"></span><h1>Internationalization<a class="headerlink" href="#internationalization" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Release:</th><td class="field-body">0.1</td>
</tr>
<tr class="field"><th class="field-name">Date:</th><td class="field-body">July 02, 2010</td>
</tr>
</tbody>
</table>
<div class="section" id="how-to-specify-translation-strings">
<h2>How to Specify Translation Strings<a class="headerlink" href="#how-to-specify-translation-strings" title="Permalink to this headline">¶</a></h2>
<p>Translation strings specify “This text should be translated.”. It’s your responsibility
to mark translatable strings; the system can only translate strings it knows about.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">camelot.core.utils</span> <span class="kn">import</span> <span class="n">ugettext</span> <span class="k">as</span> <span class="n">_</span>

<span class="n">message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;Hello brave new world&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above example translates the given string immediately.  This is not always desired,
since the message catalog might not yet be loaded at the time of execution.  Therefore
translation strings can be specified as lazy.  They will only get translated when they
are used in the GUI.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">camelot.core.utils</span> <span class="kn">import</span> <span class="n">ugettext_lazy</span> <span class="k">as</span> <span class="n">_</span>

<span class="n">message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;This translation is delayed&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Translation strings in model definitions should always be specified as lazy translation
strings.  Only lazy translation strings can be translated by the end user in various
forms.</p>
</div>
<div class="section" id="how-to-create-language-files">
<h2>How to Create Language Files<a class="headerlink" href="#how-to-create-language-files" title="Permalink to this headline">¶</a></h2>
<p>Create a message catalog template</p>
<div class="highlight-python"><pre>pybabel extract -k "tr, _" camelot/ &gt; camelot.pot</pre>
</div>
<p>Create a message catalog</p>
<p>Edit the message catalog with linguist</p>
<div class="highlight-python"><pre>linquist camelot.po</pre>
</div>
</div>
<div class="section" id="where-to-put-translations">
<h2>Where to put Translations<a class="headerlink" href="#where-to-put-translations" title="Permalink to this headline">¶</a></h2>
<p>Translations can be put in 2 places :</p>
<blockquote>
<ul class="simple">
<li>in po files which have to be loaded at application startup</li>
<li>in the Translation table : this table is editable by the users via the Configuration
menu.  This is the place to put translations that should be editable by the users.  At
application startup, all records in this table related to the current language will be
put in memory.</li>
</ul>
</blockquote>
</div>
<div class="section" id="end-user-translations">
<h2>End user translations<a class="headerlink" href="#end-user-translations" title="Permalink to this headline">¶</a></h2>
<p>Often it is convenient to let the end user create or update the translations of an
application, this allows the end user to put a lot of domain knowledge into the application.</p>
<p>Therefore, all lazy translation strings can be translated by the end user.  When the user
right-clicks on a label in a form, he can select &#8216;Change translation&#8217; from the menu and
update the current translation (for the current language).  This effectively updates the
content of the &#8216;Translation&#8217; table.</p>
<p>After some time the developer can take a copy of this table and decide to put these translations
in po files.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Internationalization</a><ul>
<li><a class="reference external" href="#how-to-specify-translation-strings">How to Specify Translation Strings</a></li>
<li><a class="reference external" href="#how-to-create-language-files">How to Create Language Files</a></li>
<li><a class="reference external" href="#where-to-put-translations">Where to put Translations</a></li>
<li><a class="reference external" href="#end-user-translations">End user translations</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="index.html"
                                  title="previous chapter">Advanced Topics</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="deployment.html"
                                  title="next chapter">Deployment</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/advanced/i18n.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="deployment.html" title="Deployment"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Advanced Topics"
             >previous</a> |</li>
        <li><a href="../index.html">Camelot v0.1 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Camelot Documentation contents</a> &raquo;</li>
          <li><a href="index.html" >Advanced Topics</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; <a href="../copyright.html">Copyright</a> 2009, Conceptive Engineering.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>