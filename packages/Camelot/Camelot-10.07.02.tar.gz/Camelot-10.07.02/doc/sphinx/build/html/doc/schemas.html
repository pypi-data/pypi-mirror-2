<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Schema Revisions and Migrations &mdash; Camelot v0.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Camelot v0.1 documentation" href="../index.html" />
    <link rel="up" title="Camelot Documentation" href="index.html" />
    <link rel="next" title="Camelot Shortcuts" href="shortcuts.html" />
    <link rel="prev" title="Managing a Camelot project" href="manage.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="shortcuts.html" title="Camelot Shortcuts"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="manage.html" title="Managing a Camelot project"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Camelot v0.1 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Camelot Documentation contents</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Camelot Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="schema-revisions-and-migrations">
<span id="doc-schemas"></span><h1>Schema Revisions and Migrations<a class="headerlink" href="#schema-revisions-and-migrations" title="Permalink to this headline">¶</a></h1>
<p>Schema revisions and migrations is a serious issue when you develop
a application beyond a certain scale.</p>
<p>there is no functionallity in Camelot as such for handling this
&#8216;automagically&#8217;.</p>
<p>The recommended approach is to use sqlalchemy-migrate <a class="reference external" href="http://code.google.com/p/sqlalchemy-migrate/">http://code.google.com/p/sqlalchemy-migrate/</a>
It requires a bit of an effort to set it up and understand it, but once you got it up and running,
it&#8217;s well worth the effort.</p>
<p>There are 2 approaches, depending on the needs of your project :</p>
<div class="section" id="leave-it-all-to-sqlalchemy-migrate">
<h2>Leave it all to sqlalchemy-migrate<a class="headerlink" href="#leave-it-all-to-sqlalchemy-migrate" title="Permalink to this headline">¶</a></h2>
<p>Let sqla-migrate do a diff between your model and your db and add tables / columns
as needed.  This is easy to implement, but not very powerfull and will fail on complex
migrations.</p>
</div>
<div class="section" id="use-schema-revisions">
<h2>Use schema revisions<a class="headerlink" href="#use-schema-revisions" title="Permalink to this headline">¶</a></h2>
<p>Work with database revisions (takes some work to get up and
running, but very nice), you can even create database views and
update those views as well, and migrate data to the next
schema revision etc.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Schema Revisions and Migrations</a><ul>
<li><a class="reference external" href="#leave-it-all-to-sqlalchemy-migrate">Leave it all to sqlalchemy-migrate</a></li>
<li><a class="reference external" href="#use-schema-revisions">Use schema revisions</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="manage.html"
                                  title="previous chapter">Managing a Camelot project</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="shortcuts.html"
                                  title="next chapter">Camelot Shortcuts</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/doc/schemas.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="shortcuts.html" title="Camelot Shortcuts"
             >next</a> |</li>
        <li class="right" >
          <a href="manage.html" title="Managing a Camelot project"
             >previous</a> |</li>
        <li><a href="../index.html">Camelot v0.1 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Camelot Documentation contents</a> &raquo;</li>
          <li><a href="index.html" >Camelot Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; <a href="../copyright.html">Copyright</a> 2009, Conceptive Engineering.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>