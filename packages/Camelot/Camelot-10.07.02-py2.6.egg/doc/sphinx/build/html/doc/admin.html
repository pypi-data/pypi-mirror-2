<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Customizing the Admin classes &mdash; Camelot v0.1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Camelot v0.1 documentation" href="../index.html" />
    <link rel="up" title="Camelot Documentation" href="index.html" />
    <link rel="next" title="Creating Forms" href="forms.html" />
    <link rel="prev" title="Creating models with Elixir/SQLAlchemy/Camelot" href="models.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="forms.html" title="Creating Forms"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="models.html" title="Creating models with Elixir/SQLAlchemy/Camelot"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Camelot v0.1 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Camelot Documentation contents</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Camelot Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="customizing-the-admin-classes">
<span id="doc-admin"></span><h1>Customizing the Admin classes<a class="headerlink" href="#customizing-the-admin-classes" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Release:</th><td class="field-body">0.1</td>
</tr>
<tr class="field"><th class="field-name">Date:</th><td class="field-body">July 02, 2010</td>
</tr>
</tbody>
</table>
<p>The Admin classes are the classes that specify how objects should be visualized,
they define the look, feel and behaviour of the Application.  Most of the behaviour
of the Admin classes can be tuned by changing their static attributes.  This makes
it easy to subclass a default Admin class and tune it to your needs.</p>
<p>Each elixir Entity that is visualized within Camelot has an associated Admin
class which specifies how the entity or a list of entities should be visualized.</p>
<p>Those entities are subclasses of the EntityAdmin class in the module
camelot/view/elixir_admin.</p>
<p>Usually the Admin class is bound to the Entity class by defining it as an
inner class of the Entity class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
  <span class="n">title</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">Unicode</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

  <span class="k">class</span> <span class="nc">Admin</span><span class="p">(</span><span class="n">EntityAdmin</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Movies&#39;</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Most of the behaviour of the Admin class can be customized by changing
the class attributes like name or list_display.</p>
<div class="section" id="objectadmin">
<h2>ObjectAdmin<a class="headerlink" href="#objectadmin" title="Permalink to this headline">¶</a></h2>
<p>The base type of EntityAdmin, is ObjectAdmin, which specifies most of the class attributes
that can be used to customize the interface.</p>
<dl class="class">
<dt id="camelot.admin.object_admin.ObjectAdmin">
<em class="property">class </em><tt class="descclassname">camelot.admin.object_admin.</tt><tt class="descname">ObjectAdmin</tt><big>(</big><em>app_admin</em>, <em>entity</em><big>)</big><a class="headerlink" href="#camelot.admin.object_admin.ObjectAdmin" title="Permalink to this definition">¶</a></dt>
<dd><p>The ObjectAdmin class describes the interface that will be used
to interact with objects of a certain class.  The behaviour of this class
and the resulting interface can be tuned by specifying specific class
attributes:</p>
<dl class="attribute">
<dt id="ObjectAdmin.verbose_name">
<tt class="descname">verbose_name</tt><a class="headerlink" href="#ObjectAdmin.verbose_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A human-readable name for the object, singular</p>
<p>verbose_name = &#8216;movie&#8217;</p>
<p>If this isn&#8217;t given, the class name will be used</p>
<dl class="attribute">
<dt id="ObjectAdmin.verbose_name_plural">
<tt class="descname">verbose_name_plural</tt><a class="headerlink" href="#ObjectAdmin.verbose_name_plural" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A human-readable name for the object, plural</p>
<p>verbose_name_plural = &#8216;movies&#8217;</p>
<p>If this isn&#8217;t given, Camelot will use verbose_name + &#8220;s&#8221;</p>
<dl class="attribute">
<dt id="ObjectAdmin.list_display">
<tt class="descname">list_display</tt><a class="headerlink" href="#ObjectAdmin.list_display" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>a list with the fields that should be displayed in a table view</p>
<dl class="attribute">
<dt id="ObjectAdmin.form_display">
<tt class="descname">form_display</tt><a class="headerlink" href="#ObjectAdmin.form_display" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>a list with the fields that should be displayed in a form view, defaults to
the same fields as those specified in list_display</p>
<dl class="docutils">
<dt>class Admin(EntityAdmin):</dt>
<dd>form_display = [&#8216;title&#8217;, &#8216;rating&#8217;, &#8216;cover&#8217;]</dd>
</dl>
<p>instead of telling which forms to display. It is also possible to define
the form itself</p>
<p>from camelot.view.forms import Form, TabForm, WidgetOnlyForm, HBoxForm</p>
<dl class="docutils">
<dt>class Admin(EntityAdmin):</dt>
<dd><dl class="first docutils">
<dt>form_display = TabForm([</dt>
<dd><dl class="first docutils">
<dt>(&#8216;Movie&#8217;, Form([</dt>
<dd>HBoxForm([[&#8216;title&#8217;, &#8216;rating&#8217;], WidgetOnlyForm(&#8216;cover&#8217;)]),
&#8216;short_description&#8217;,
&#8216;releasedate&#8217;,
&#8216;director&#8217;,
&#8216;script&#8217;,
&#8216;genre&#8217;,
&#8216;description&#8217;, &#8216;tags&#8217;], scrollbars=True)),</dd>
</dl>
<p class="last">(&#8216;Cast&#8217;, WidgetOnlyForm(&#8216;cast&#8217;))</p>
</dd>
</dl>
<p class="last">])</p>
</dd>
</dl>
<dl class="attribute">
<dt id="ObjectAdmin.list_filter">
<tt class="descname">list_filter</tt><a class="headerlink" href="#ObjectAdmin.list_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A list of fields that should be used to generate filters for in the table
view.  If the field named is a one2many, many2one or many2many field, the
field name should be followed by a field name of the related entity</p>
<dl class="docutils">
<dt>class Project(Entity):</dt>
<dd><p class="first">oranization = OneToMany(&#8216;Organization&#8217;)
name = Field(Unicode(50))</p>
<dl class="last docutils">
<dt>class Admin(EntityAdmin):</dt>
<dd>list_display = [&#8216;organization&#8217;]
list_filter = [&#8216;organization.name&#8217;]</dd>
</dl>
</dd>
</dl>
<img alt="../_images/group_box_filter.png" src="../_images/group_box_filter.png" />
<dl class="attribute">
<dt id="ObjectAdmin.list_search">
<tt class="descname">list_search</tt><a class="headerlink" href="#ObjectAdmin.list_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A list of fields that should be searched when the user enters something in
the search box in the table view.  By default only character fields are
searched.  For use with one2many, many2one or many2many fields, the same
rules as for the list_filter attribute apply</p>
<dl class="attribute">
<dt id="ObjectAdmin.confirm_delete">
<tt class="descname">confirm_delete</tt><a class="headerlink" href="#ObjectAdmin.confirm_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Indicates if the deletion of an object should be confirmed by the user, defaults
to False.  Can be set to either True, False, or the message to display when asking
confirmation of the deletion.</p>
<dl class="attribute">
<dt id="ObjectAdmin.form_size">
<tt class="descname">form_size</tt><a class="headerlink" href="#ObjectAdmin.form_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>a tuple indicating the size of a form view, defaults to (700,500)</p>
<dl class="attribute">
<dt id="ObjectAdmin.form_actions">
<tt class="descname">form_actions</tt><a class="headerlink" href="#ObjectAdmin.form_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Actions to be accessible by pushbuttons on the side of a form,
a list of tuples (button_label, action_function) where action_function
takes as its single argument, a method that returns the the object that
was displayed by the form when the button was pressed:</p>
<dl class="docutils">
<dt>class Admin(EntityAdmin):</dt>
<dd>form_actions = [(&#8216;Foo&#8217;, lamda o_getter:print &#8216;foo&#8217;)]</dd>
</dl>
<dl class="attribute">
<dt id="ObjectAdmin.field_attributes">
<tt class="descname">field_attributes</tt><a class="headerlink" href="#ObjectAdmin.field_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A dictionary specifying for each field of the model some additional
attributes on how they should be displayed.  All of these attributes
are propagated to the constructor of the delegate of this field:</p>
<dl class="docutils">
<dt>class Movie(Entity):</dt>
<dd><p class="first">title = Field(Unicode(50))</p>
<dl class="last docutils">
<dt>class Admin(EntityAdmin):</dt>
<dd>list_display = [&#8216;title&#8217;]
field_attributes = dict(title=dict(editable=False))</dd>
</dl>
</dd>
</dl>
<p>Other field attributes process by the admin interface are:</p>
<dl class="attribute">
<dt id="ObjectAdmin.name">
<tt class="descname">name</tt><a class="headerlink" href="#ObjectAdmin.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The name of the field used, this defaults to the name of the attribute</p>
<dl class="attribute">
<dt id="ObjectAdmin.target">
<tt class="descname">target</tt><a class="headerlink" href="#ObjectAdmin.target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>In case of relation fields, specifies the class that is at the other
end of the relation.  Defaults to the one found by introspection.</p>
<dl class="attribute">
<dt id="ObjectAdmin.admin">
<tt class="descname">admin</tt><a class="headerlink" href="#ObjectAdmin.admin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>In case of relation fields, specifies the admin class that is to be used
to visualize the other end of the relation.  Defaults to the default admin
class of the target class.</p>
<dl class="attribute">
<dt id="ObjectAdmin.model">
<tt class="descname">model</tt><a class="headerlink" href="#ObjectAdmin.model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The QAbstractItemModel class to be used to display collections of this object,
defaults to a CollectionProxy</p>
<dl class="attribute">
<dt>
<tt class="descname">confirm_delete</tt></dt>
<dd></dd></dl>

<p>set to True if the user should get a confirmation dialog before deleting data,
defaults to False</p>
<dl class="attribute">
<dt id="ObjectAdmin.TableView">
<tt class="descname">TableView</tt><a class="headerlink" href="#ObjectAdmin.TableView" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The QWidget class to be used when a table view is needed</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While EntityAdmin can only be used for classes
that are mapped by Sqlalchemy, ObjectAdmin can be used for plain old python objects as well.</p>
</div>
</div>
<div class="section" id="entityadmin">
<h2>EntityAdmin<a class="headerlink" href="#entityadmin" title="Permalink to this headline">¶</a></h2>
<p>EntityAdmin is a specialization of ObjectAdmin, to be used for classes that are mapped by
Sqlalchemy.  EntityAdmin will use introspection to determine field types and assign
according delegates and editors.</p>
</div>
<div class="section" id="module-camelot.admin.form_action">
<span id="form-actions"></span><h2>Form View Actions<a class="headerlink" href="#module-camelot.admin.form_action" title="Permalink to this headline">¶</a></h2>
<p>Form actions are objects that can be put in the form_actions list of the
object admin interfaces.  Those actions then appear on the form and can
be executed by the end users.  The most convenient method to create custom actions
is to subclass FormAction and implement a custom run method</p>
<div class="highlight-python"><pre>class MyAction(FormAction):

  def run(self, entity_getter):
    print 'Hello World'

class Movie(Entity):
  title = Field(Unicode(60), required=True)

  Admin(EntityAdmin):
    list_display = ['title']
    form_actions = [MyAction('Hello')]</pre>
</div>
<p>Several subclasses of FormAction exist to provide common use cases such as executing
a function in the model thread or printing a report.</p>
<p>To customize the look of the action button on the form, the render method should be
overwritten.</p>
<div class="section" id="printing-reports-in-the-form-view">
<h3>Printing reports in the form view<a class="headerlink" href="#printing-reports-in-the-form-view" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="camelot.admin.form_action.PrintHtmlFormAction">
<em class="property">class </em><tt class="descclassname">camelot.admin.form_action.</tt><tt class="descname">PrintHtmlFormAction</tt><big>(</big><em>name</em>, <em>icon=Icon('tango/16x16/actions/document-print.png')</em><big>)</big><a class="headerlink" href="#camelot.admin.form_action.PrintHtmlFormAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an action for a form that pops up a print preview for generated html.
Overwrite the html function to customize the html that should be shown:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">PrintMovieAction</span><span class="p">(</span><span class="n">PrintHtmlFormAction</span><span class="p">):</span>

  <span class="k">def</span> <span class="nf">html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">movie</span><span class="p">):</span>
    <span class="n">html</span> <span class="o">=</span> <span class="s">&#39;&lt;h1&gt;&#39;</span> <span class="o">+</span> <span class="n">movie</span><span class="o">.</span><span class="n">title</span> <span class="o">+</span> <span class="s">&#39;&lt;/h1&gt;&#39;</span>
    <span class="n">html</span> <span class="o">+=</span> <span class="n">movie</span><span class="o">.</span><span class="n">description</span>
  <span class="k">return</span> <span class="n">html</span>

<span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
  <span class="n">title</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">Unicode</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">description</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">RichText</span><span class="p">)</span>

  <span class="k">class</span> <span class="nc">Admin</span><span class="p">(</span><span class="n">EntityAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;description&#39;</span><span class="p">]</span>
    <span class="n">form_actions</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrintMovieAction</span><span class="p">(</span><span class="s">&#39;summary&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>will put a print button on the form :</p>
<img alt="../_images/print_html_form_action.png" src="../_images/print_html_form_action.png" />
<p>the rendering of the html can be customised using the HtmlDocument attribute :</p>
<dl class="attribute">
<dt id="camelot.admin.form_action.PrintHtmlFormAction.HtmlDocument">
<tt class="descname">HtmlDocument</tt><a class="headerlink" href="#camelot.admin.form_action.PrintHtmlFormAction.HtmlDocument" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>the class used to render the html, by default this is
a QTextDocument, but a QtWebKit.QWebView can be used as well.</p>
<img alt="../_images/simple_report.png" src="../_images/simple_report.png" />
</dd></dl>

</div>
</div>
<div class="section" id="validators">
<span id="id1"></span><h2>Validators<a class="headerlink" href="#validators" title="Permalink to this headline">¶</a></h2>
<p>Before an object is written to the database it needs to be validated, and
the user needs to be informed in case the object is not valid.</p>
<p>By default Camelot does some introspection on the model to check the validity
of an object, to make sure it will be able to write the object to the
database.</p>
<p>But this might not be enough.  If more validation is needed, a custom Validator
class can be defined.  The default EntityValidator class is located in
camelot/admin/validator/entity_validator.  This class can be subclassed to
create a custom validator.  The new class should then be bound to the
Admin class :</p>
<blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">camelot.admin.validator.entity_validator</span> <span class="kn">import</span> <span class="n">EntityValidator</span>
<span class="kn">from</span> <span class="nn">camelot.admin.entity_admin</span> <span class="kn">import</span> <span class="n">EntityAdmin</span>

<span class="k">class</span> <span class="nc">PersonValidator</span><span class="p">(</span><span class="n">EntityValidator</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">objectValidity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity_instance</span><span class="p">):</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">PersonValidator</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">objectValidity</span><span class="p">(</span><span class="n">entity_instance</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">entity_instance</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">entity_instance</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">):</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;A person&#39;s first name should be at least 2 characters long&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">messages</span>
    
<span class="k">class</span> <span class="nc">Admin</span><span class="p">(</span><span class="n">EntityAdmin</span><span class="p">):</span>
    <span class="n">verbose_name</span> <span class="o">=</span> <span class="s">&#39;Person&#39;</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;first_name&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">]</span>
    <span class="n">validator</span> <span class="o">=</span> <span class="n">PersonValidator</span>    
</pre></div>
</div>
</blockquote>
<p>Its most important method is objectValidity, which takes an object as argument and
should return a list of strings explaining why the object is invalid.  These
strings will then be presented to the user.</p>
<p>Notice that this method will always get called outside of the GUI thread, so the
call will never block the GUI.</p>
<p>When the user tries to leave a form in an invalid state, a platform dependent dialog
box will appear.</p>
<blockquote>
<img alt="../_images/entity_validator.png" src="../_images/entity_validator.png" />
</blockquote>
</div>
<div class="section" id="applicationadmin">
<h2>ApplicationAdmin<a class="headerlink" href="#applicationadmin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="camelot.admin.application_admin.ApplicationAdmin">
<em class="property">class </em><tt class="descclassname">camelot.admin.application_admin.</tt><tt class="descname">ApplicationAdmin</tt><a class="headerlink" href="#camelot.admin.application_admin.ApplicationAdmin" title="Permalink to this definition">¶</a></dt>
<dd><p>The Application Admin class defines how the application should look
like, it also ties python classes to their associated admin classes.  It&#8217;s
behaviour can be steered by overwriting its static attributes or it&#8217;s
methods :</p>
<dl class="attribute">
<dt id="camelot.admin.form_action.ApplicationAdmin.name">
<tt class="descname">name</tt><a class="headerlink" href="#camelot.admin.form_action.ApplicationAdmin.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The name of the application, as it will appear in the title of the main
window.</p>
<dl class="attribute">
<dt id="camelot.admin.form_action.ApplicationAdmin.sections">
<tt class="descname">sections</tt><a class="headerlink" href="#camelot.admin.form_action.ApplicationAdmin.sections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A list containing the various sections that should appear in the left panel
of the mainwindow.</p>
<img alt="../_images/picture2.png" src="../_images/picture2.png" />
<dl class="attribute">
<dt id="camelot.admin.form_action.ApplicationAdmin.backup_mechanism">
<tt class="descname">backup_mechanism</tt><a class="headerlink" href="#camelot.admin.form_action.ApplicationAdmin.backup_mechanism" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A subclass of camelot.core.backup.BackupMechanism that enables the application
to perform backups an restores.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">camelot.view.art</span> <span class="kn">import</span> <span class="n">Icon</span>
<span class="kn">from</span> <span class="nn">camelot.admin.application_admin</span> <span class="kn">import</span> <span class="n">ApplicationAdmin</span>
<span class="kn">from</span> <span class="nn">camelot.admin.section</span> <span class="kn">import</span> <span class="n">Section</span>

<span class="k">class</span> <span class="nc">MyApplicationAdmin</span><span class="p">(</span><span class="n">ApplicationAdmin</span><span class="p">):</span>
  
  <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Camelot Video Store&#39;</span>
    
  <span class="k">def</span> <span class="nf">get_sections</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">camelot.model.memento</span> <span class="kn">import</span> <span class="n">Memento</span>
    <span class="kn">from</span> <span class="nn">camelot.model.authentication</span> <span class="kn">import</span> <span class="n">Person</span><span class="p">,</span> <span class="n">Organization</span>
    <span class="kn">from</span> <span class="nn">camelot.model.i18n</span> <span class="kn">import</span> <span class="n">Translation</span>    
    <span class="kn">from</span> <span class="nn">example.model</span> <span class="kn">import</span> <span class="n">Movie</span><span class="p">,</span> <span class="n">Tag</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">Section</span><span class="p">(</span><span class="s">&#39;movies&#39;</span><span class="p">,</span> 
                    <span class="n">Icon</span><span class="p">(</span><span class="s">&#39;tango/22x22/mimetypes/x-office-presentation.png&#39;</span><span class="p">),</span>
                    <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">Movie</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]),</span>
            <span class="n">Section</span><span class="p">(</span><span class="s">&#39;relation&#39;</span><span class="p">,</span>
                    <span class="n">Icon</span><span class="p">(</span><span class="s">&#39;tango/22x22/apps/system-users.png&#39;</span><span class="p">),</span>
                    <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">Person</span><span class="p">,</span> <span class="n">Organization</span><span class="p">]),</span>
            <span class="n">Section</span><span class="p">(</span><span class="s">&#39;configuration&#39;</span><span class="p">,</span>
                    <span class="n">Icon</span><span class="p">(</span><span class="s">&#39;tango/22x22/categories/preferences-system.png&#39;</span><span class="p">),</span>
                    <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">Memento</span><span class="p">,</span> <span class="n">Translation</span><span class="p">])</span>
            <span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Customizing the Admin classes</a><ul>
<li><a class="reference external" href="#objectadmin">ObjectAdmin</a></li>
<li><a class="reference external" href="#entityadmin">EntityAdmin</a></li>
<li><a class="reference external" href="#module-camelot.admin.form_action">Form View Actions</a><ul>
<li><a class="reference external" href="#printing-reports-in-the-form-view">Printing reports in the form view</a></li>
</ul>
</li>
<li><a class="reference external" href="#validators">Validators</a></li>
<li><a class="reference external" href="#applicationadmin">ApplicationAdmin</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="models.html"
                                  title="previous chapter">Creating models with Elixir/SQLAlchemy/Camelot</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="forms.html"
                                  title="next chapter">Creating Forms</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/doc/admin.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="forms.html" title="Creating Forms"
             >next</a> |</li>
        <li class="right" >
          <a href="models.html" title="Creating models with Elixir/SQLAlchemy/Camelot"
             >previous</a> |</li>
        <li><a href="../index.html">Camelot v0.1 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Camelot Documentation contents</a> &raquo;</li>
          <li><a href="index.html" >Camelot Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; <a href="../copyright.html">Copyright</a> 2009, Conceptive Engineering.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>