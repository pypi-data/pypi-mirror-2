[buildout]
extends =
    http://svn.plone.org/svn/collective/buildout/plonetest/plone-3.3.x.cfg

package-name = slc.cleanwordpastedtext
index = http://pypi.python.org/simple
versions = versions
parts += 
    omelette 
    test 
    coverage-test 
extensions += mr.developer

develop += .

[instance]
eggs += plone.reload
zcml += plone.reload
http-address = 8088

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance:eggs}
packages = ${zope2:location}/lib/python ./

[versions]
zc.buildout = 1.4.0
zc.recipe.testrunner = 1.1.0

[test]
recipe = zc.recipe.testrunner
eggs = 
    ${buildout:eggs}
    zope2
    Plone
    slc.cleanwordpastedtext

defaults = ['-v', '--exit-with-status', '--auto-color', '--auto-progress']

# To get a test coverage report...
# bin/coverage-test
# bin/coverage-report
[coverage-test]
recipe = zc.recipe.testrunner
eggs = 
    ${buildout:eggs}
    zope2
    Plone
    slc.cleanwordpastedtext

defaults = ['--coverage', './coverage']
# Requires: sudo aptitude install enscript
[coverage-report]
recipe = zc.recipe.egg
eggs = z3c.coverage
scripts = coverage=coverage-report
arguments = ('coverage', 'report')

