<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    i18n_domain="plonetheme.colorcontext">

  <!-- 'Color Context Theme' Zope 3 browser layer
    Register views, viewlets and resources for this layer to make sure
    they only apply to the 'Color Context Theme' theme.
    You can also use this layer to override default Plone browser views
    and viewlets only within the 'Color Context Theme' theme.
  -->
  <interface
      interface=".interfaces.IThemeSpecific"
      type="zope.publisher.interfaces.browser.IBrowserSkinType"
      name="Color Context Theme"
      />
  
  <!-- Viewlets registration -->
  <browser:viewlet
      name="plonetheme.colorcontext.menu"
      manager="plone.app.layout.viewlets.interfaces.IPortalHeader"
      template="menu.pt"
      layer=".interfaces.IThemeSpecific"
      permission="zope2.View" 
      />

  <browser:viewlet
      name="plonetheme.colorcontext.intk"
      manager="plone.app.layout.viewlets.interfaces.IPortalFooter"
      template="intk.pt"
      layer=".interfaces.IThemeSpecific"
      permission="zope2.View" 
      />

  <browser:viewlet
      name="plonetheme.colorcontext.site_actions"
      manager="plone.app.layout.viewlets.interfaces.IPortalFooter"
      class="plone.app.layout.viewlets.common.SiteActionsViewlet" 
      layer=".interfaces.IThemeSpecific"
      permission="zope2.View" 
      />

  <browser:viewlet
      name="plonetheme.colorcontext.personal_bar"
      manager="plone.app.layout.viewlets.interfaces.IPortalFooter"
      class="plone.app.layout.viewlets.common.PersonalBarViewlet"
      layer=".interfaces.IThemeSpecific"
      permission="zope2.View" 
      />
 
  <!-- Zope 3 browser resources -->

  <!-- Resource directory for images
    See plonetheme/colorcontext/browser/images/README.txt
    for more information about registering images as Zope 3 browser
    resources.
  -->
  <browser:resourceDirectory
      name="plonetheme.colorcontext.images"
      directory="images"
      layer=".interfaces.IThemeSpecific"
      />

  <!-- Resource directory for stylesheets
    See plonetheme/colorcontext/browser/stylesheets/README.txt
    for more information about registering stylesheets as Zope 3 browser
    resources.
  -->
  <browser:resourceDirectory
      name="plonetheme.colorcontext.stylesheets"
      directory="stylesheets"
      layer=".interfaces.IThemeSpecific"
      />

  <!-- Resource directory for javascripts  -->
  <browser:resourceDirectory
 	 name="plonetheme.colorcontext.javascript"
 	 directory="javascript"
 	 layer=".interfaces.IThemeSpecific"
  />

  <!-- View Registration -->
  <browser:page
         for="*"
         name="collection_view"
         class=".collection_view.CollectionView"
         template="collection_view.pt"
         layer=".interfaces.IThemeSpecific"
         permission="zope2.View"
     />


<browser:menuItem
        for="*"
        menu="plone_displayviews"
        title="Collection View"
        action="@@collection_view"
        layer=".interfaces.IThemeSpecific"
        description="View with lead images displayed and Color context tweeks"
    />

<!-- Search results python class registration  -->

  <browser:page
      for="*"
      name="colorcontext.searchview"
      class=".searchview.SearchView"
      permission="zope.Public"
      allowed_interface=".interfaces.ISearchView"
      />

<!-- Image view  -->
<browser:page
	for="*"
	name="colorcontext_image_view"
	class=".colorcontext_image_view.ColorContextImageView"
	template="colorcontext_image_view.pt"
	permission="zope2.View"
	/>

<browser:menuItem
        for="*"
        menu="plone_displayviews"
        title="Color Context Theme Image View"
        action="colorcontext_image_view"
        description="View for a media type, Image or File (video, audio)"
    />

<!-- Album view registration -->

<browser:page
	for="*"
	name="colorcontext_album_view"
	class=".colorcontext_album_view.ColorContextAlbumView"
	template="colorcontext_album_view.pt"
	permission="zope2.View"
	/>

<browser:menuItem
        for="*"
        menu="plone_displayviews"
        title="Color Context Album View"
        action="colorcontext_album_view"
        description="View for a image album"
    />

<!-- Flowplayer View -->

<browser:page
        name="flowplayer"
        for="Products.ATContentTypes.interface.IFileContent"
        class=".flowplayer_view.File"
        template="flowplayer_file.pt"
	layer=".interfaces.IThemeSpecific"
        permission="zope2.View"
/>

<browser:page
	name="flowplayer"
	for="Products.ATContentTypes.interface.IATLink"
	class=".flowplayer_view.Link"
	template="flowplayer_file.pt"
	layer=".interfaces.IThemeSpecific"
	permission="zope2.View"
/>


</configure>
