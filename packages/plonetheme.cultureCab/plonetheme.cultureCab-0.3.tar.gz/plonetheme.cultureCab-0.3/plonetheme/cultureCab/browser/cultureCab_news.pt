<div class="newsPortlet"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:tal="http://xml.zope.org/namespaces/tal"
        xmlns:i18n="http://xml.zope.org/namespaces/i18n"
        i18n:domain="plone">
        
    <div class="portletHeader">
        <a href="#"
           class="tile"
           tal:attributes="href view/all_news_link"
           i18n:translate="box_news">
            News
        </a>
        <a href="" tal:attributes="href view/all_news_link">
            <div class="moreButton">All news</div>
        </a>
    </div>
    
    <div class="visualClear"></div>
    
    <dl class="portlet portletNews">
        <tal:newsitems  tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                                    plone_view context/@@plone;
                                    getIcon nocall:plone_view/getIcon;"
                        tal:repeat="obj view/published_news_items">
        <dd tal:define="oddrow repeat/obj/odd;
                        item_icon python:getIcon(obj);"
             tal:attributes="class python:oddrow and 'portletItem even' or 'portletItem odd'">
    
            <a href="news"
               class="tile"
               tal:attributes="title obj/Description">
                <img class="newsPortletImage" src="" tal:attributes="src python:obj.getURL() + '/image_thumb'" />
                <span tal:replace="obj/pretty_title_or_id">
                Plone 2.1 announced!
                </span>
                <span class="portletItemDetails"
                      tal:content="python:toLocalizedTime(obj.Date)">May 5</span>
            </a>
            <div class="visualClear"></div>
        </dd>
        </tal:newsitems>
        <tal:block condition="not:view/all_news_link">
        <dd class="portletFooter">
            <span class="portletBottomLeft"></span>
            <span class="portletBottomRight"></span>
        </dd>
        </tal:block>
    </dl>
</div>