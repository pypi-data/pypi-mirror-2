{% extends "hosterbase.html" %}
{% block body %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"
    type="text/javascript"></script>
<h1>Hi</h1>
<div id="editor"></div>
<div id="shower">
    <p>Lorem ipsum monkey hallow.</p>
</div>
<script>
(function(){
    var submitter = function(evt) {
        text = $('#editor textarea[name=text]').val();
        title = $('#editor input[name=title]').val();
        console.log(text);
        // submit the text as a tiddler
        return false;
    };
    var showEditor = function(shower, editor, title) {
        shower.hide();
        var form = $('<form />').submit(function(evt) {
            editor.hide();
            shower.show();
            submitter(evt);
        }).appendTo(editor);
        $('<input name="title" />').val(title).appendTo(form)
        $('<textarea name="text" />'.css({width: '100%', height: '100%'})
                .appendTo(form);
    };

    // get the tiddler, on success showEditor

    $('#shower').dblclick(showeditor($(this), $('#editor')));
});
{% endblock %}
