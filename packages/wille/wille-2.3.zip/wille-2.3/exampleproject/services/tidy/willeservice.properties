type=tidy
profile=html,xml
description=HTML Tidy is a tool that was originally written by Dave Raggett of the World Wide Web Consortium (W3C). It is designed to fix mistakes in HTML, tidy up the layout (hence the name), assist with web accessibility, convert HTML to XHTML and many other things. 
parameters=html_data,(tidy_extra_opts)
parameters.html_data.type=file
parameters.tidy_extra_options.type=text
adapter=IsolatedCommandLine
adapter.command=tidy -asxhtml -q ${tidy_extra_opts} < @{html_data} > result.html
adapter.errors=ignore
adapter.output=result.html
adapter.output.type=file

# Expected return codes from tidy:
# 0 - no errors
# 1 - warnings only (leave errorfile)
# 2 - errors (leave errorfile and htmlfile)
# --> We have to ignore errors since tidy may also give 1 when everything goes allright
