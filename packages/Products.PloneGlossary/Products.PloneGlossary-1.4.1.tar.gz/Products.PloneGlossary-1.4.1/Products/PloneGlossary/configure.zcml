<configure
   xmlns="http://namespaces.zope.org/zope"
   xmlns:five="http://namespaces.zope.org/five"
   xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
   xmlns:wicked="http://namespaces.openplans.org/wicked"
   i18n_domain="ploneglossary"
   >
  
  <!-- $Id: configure.zcml 74348 2008-10-24 08:25:22Z hpeteragitator $ -->
  
  <include package=".exportimport" />

  <include package="plone.app.portlets" /> 
  
  <include package=".browser" />
  
  <include package=".upgrades" />

  <genericsetup:registerProfile
     name="default"
     title="Plone Glossary"
     description="Adds support for glossaries in a Plone site."
     directory="profiles/default"
     provides="Products.GenericSetup.interfaces.EXTENSION"
     for="Products.CMFPlone.interfaces.IPloneSiteRoot"
     />

  <genericsetup:registerProfile
     name="examples"
     title="Plone Glossary examples types"
     description="Adds local settings necessary for PloneGlossary examples."
     directory="profiles/examples"
     provides="Products.GenericSetup.interfaces.EXTENSION"
     for="Products.CMFPlone.interfaces.ITestCasePloneSiteRoot"
     />
  
  
  <!-- Events handlers -->
  
  <subscriber for=".interfaces.IPloneGlossary
                   zope.app.container.interfaces.IObjectAddedEvent"
              handler=".content.PloneGlossary.glossaryAdded" />

  <subscriber for=".interfaces.IPloneGlossary
                   zope.app.container.interfaces.IObjectMovedEvent"
              handler=".content.PloneGlossary.glossaryMoved" />

  <!-- Wicked aware -->

  <include package="wicked.at" />

  <five:implements
     class=".types.PloneGlossaryDefinition.PloneGlossaryDefinition"
     interface="wicked.interfaces.IAmWicked" />


  <wicked:atschema-fields-implement 
     atclass=".types.PloneGlossaryDefinition.PloneGlossaryDefinition"
     fields="definition"
     implements="wicked.at.interfaces.IAmATWickedField"
     />
  
</configure>
