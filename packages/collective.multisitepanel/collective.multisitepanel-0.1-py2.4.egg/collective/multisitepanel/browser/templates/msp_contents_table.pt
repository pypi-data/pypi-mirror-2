<tal:table define="allSites view/sitesList;">
<table class="listing" id="standard-contents-table">
    <caption i18n:translate="msp_standard_ct">
        standard content types
    </caption>
    <thead>
    <tr>
        
    </tr>
    <tr>
        <th i18n:domain="plone" i18n:translate="">Content type</th>
        <th class="vertical" valign="bottom" tal:repeat="this_site view/sitesList">
            <span tal:attributes="title python:this_site[0]">
            <em tal:repeat="letter python:this_site[0][:8]"
                tal:content="letter">
                letter
            </em>
            </span>
        </th>
    </tr>
    </thead>
    <tbody>
     <tal:row repeat="content_type python:view.listStandardTypes()">
        <tr tal:define="oddrow repeat/content_type/odd;"
            tal:attributes="class python: oddrow is True and 'even' or 'odd'">
            <td>
              <img tal:attributes="src python:content_type.content_icon;
                                   title python:content_type.title" alt="">
                <span tal:content="python:content_type.title">product</span>
            </td>
            <tal:allSites repeat="this_site allSites">
                <td tal:attributes="title python:this_site[0]+' - '+content_type.title"
                    tal:content="python: view.multisite_countContentsByTypes(this_site[1],content_type.getId())">
                    count
                </td>
            </tal:allSites>
        </tr>
     </tal:row>
    </tbody>
</table>
<table class="listing" id="custom-contents-table">
    <caption i18n:translate="msp_standard_ct">
        custom content types
    </caption>
    <thead>
    <tr>
        
    </tr>
    <tr>
        <th i18n:domain="plone" i18n:translate="">Content type</th>
        <th class="vertical" valign="bottom" tal:repeat="this_site view/sitesList">
            <span tal:attributes="title python:this_site[0]">
            <em tal:repeat="letter python:this_site[0][:8]"
                tal:content="letter">
                letter
            </em>
            </span>
        </th>
    </tr>
    </thead>
    <tbody>
       <tal:customct
         define="countCustomTypes python:view.multisite_getCustomContentList()"
         tal:condition="countCustomTypes">
        <tal:row repeat="typeTuple countCustomTypes">
            <tr tal:define="oddrow repeat/typeTuple/odd;
                            sitesList python:typeTuple[1];
                            content_type python:typeTuple[0];
                            icon python:view.multisite_getContentTypeIcon(sitesList[0],content_type.getId())"
                tal:attributes="class python: oddrow is True and 'even' or 'odd'">
                <td>
                   <img alt=""
                        tal:attributes="src icon;
                        title python:content_type.title;" />
                    <span tal:content="python:content_type.title"
                          tal:attributes="title python:content_type.product">
                          content type
                    </span>
                </td>
                <tal:allSites repeat="this_site allSites">
                    <td tal:attributes="title python:this_site[0]+' - '+content_type.title"
                        tal:define="count python: view.multisite_countContentsByTypes(this_site[1],content_type.getId())">
                        <span tal:condition="python:count>=0"
                              tal:content="count">
                            count
                        </span>
                    </td>
                </tal:allSites>
            </tr>
        </tal:row>
    </tal:customct>
    </tbody>
</tal:table>