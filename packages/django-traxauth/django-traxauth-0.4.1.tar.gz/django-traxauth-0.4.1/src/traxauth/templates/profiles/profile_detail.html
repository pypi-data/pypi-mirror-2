{% extends "traxauth/base.html" %}
{% load i18n %}
{% load traxauth_tags %}


{% block title %}{% trans "Profile of" %} {{ profile.user.username }}{% endblock %}

{% block breadcrumbs-box %}
    {{ block.super }} &rsaquo; {% trans "Profile of" %} {{ profile.user.username }}
{% endblock %}

{% block coltype %}profile{% endblock %}

{% block content_title %}
    <h1>{% trans "Profile of" %} {{ profile.user.username }}</h1>
{% endblock %}

{% block content %}
    <div id="content-main">
    
        {% block object-tools %}
            <div id="profile-tools">
	            {# This is a simple check to determine if the user is the owner of the displayed profile #}
			    {% if user.username == profile.user.username %}
					<ul id="menu">
						<li><a href="{% url profiles_profile_detail profile.user.username %}">{% trans "View profile" %} &raquo;</a></li>
						<li><a href="{% url profiles_edit_profile %}">{% trans "Edit profile" %} &raquo;</a></li>
						<li><a href="{% url auth_password_change %}">{% trans "Change password" %} &raquo;</a></li>
						<li><a href="{% url email_change %}">{% trans "Change email" %} &raquo;</a></li>
					</ul>
				{% endif %}
			</div> <!-- profile-tools -->
		{% endblock %}
        
        <div class="clear"></div>
        
        <div id="profile-details">
	        {% if settings.TRAXAUTH_ENABLE_GRAVATAR_SUPPORT %}
	            <div class="gravatar float-r">
	                {% gravatar_for_email profile.user.email 80 %}
	            </div>
	        {% endif %}
	        <p><strong>{% trans "Name" %}</strong><br />{% firstof profile.user.get_full_name profile.user.username %}</p>
	        <p><strong>{% trans "Location" %}</strong><br />{% firstof profile.location "N/A" %}</p>
	        <p><strong>{% trans "Website" %}</strong><br />{% firstof profile.website "N/A" %}</p>
	        <p><strong>{% trans "About" %}</strong><br />{% firstof profile.about "N/A" %}</p>
	        <p><strong>{% trans "Date joined" %}</strong><br />{{ profile.user.date_joined }}</p>
	        <p><strong>{% trans "Last login" %}</strong><br />{{ profile.user.last_login }}</p>
	        
	        {% if user.is_staff %}
	            <hr />
		        <p><strong>{% trans "Account id" %}</strong><br />{{ profile.user.id }}</p>
		        <p><strong>{% trans "Account active" %}</strong><br />{{ profile.user.is_active|yesno }}</p>
		        <p><strong>{% trans "Profile last modified" %}</strong><br />{{ profile.date_modified|date:"r" }}</p>
		        <p><strong>{% trans "Staff status" %}</strong><br />{{ profile.user.is_staff|yesno }}</p>
		        <p><strong>{% trans "Password is usable" %}</strong><br />{{ profile.user.has_usable_password|yesno }}</p>
	        {% endif %}
	    </div> <!-- profile-details -->
        
    </div> <!-- content-main -->
{% endblock %}
