<script src="jquery.js" type="text/javascript"></script>
<script src="jquery.treeview.pack.js" type="text/javascript"></script>
<script type="text/javascript">
		$(function() {
			$("#tree").treeview({
				collapsed: true,
                                control:"#sidetreecontrol",
				animated: "medium",
			});
		})
		
	</script>

<div class="treeheader">&nbsp;</div>
<div id="sidetreecontrol"><a href="?#">Collapse All</a> | <a href="?#">Expand All</a></div>


  <ul id="tree" tal:define="terms view/get_terms">

    <li tal:repeat="term terms/keys">

        <tal:repeat define="caption python:terms[term][0]; subtree python:terms[term][1]">

        <a tal:attributes="href python:view.select_link(term)"
           tal:content="caption" />


            <metal:macro define-macro="termlist" tal:condition="subtree">
            <ul>

                <li tal:repeat="term subtree/keys">

                    <tal:repeat define="caption python:subtree[term][0]; subtree python:subtree[term][1]">

                    <a tal:attributes="href python:view.select_link(term)"
                       tal:content="caption" />

                        <metal:usemacro use-macro="template/macros/termlist" />

                    </tal:repeat>

                </li>

            </ul>
            </metal:macro>

        </tal:repeat>

    </li>

  </ul>

