  <tal:entry define="result view/result;
                           result_url view/result_url;
                           result_type result/portal_type;
                           item_icon python:view.plone_view.getIcon(result);
                           use_view_action view/site_properties/typesUseViewActionInListings|python:[];
                           desc_length view/site_properties/search_results_description_length;
                           desc_ellipsis view/site_properties/ellipsis;
                           url python:'%s?searchterm=%s'%(result_type in use_view_action and result_url+'/view' or result_url+'/', view.searchterm);">
            <dt tal:define="item_wf_state_class string:state-${result/review_state};"
                tal:attributes="class python:'contenttype-' + view.plone_view.normalizeString(result.portal_type)">
              <img tal:replace="structure item_icon/html_tag" />
               <a
                 href="#"
                 tal:attributes="href url;
                                 class string:$item_wf_state_class"
                 tal:content="result/pretty_title_or_id" />
            </dt>
            <dd>
                <span tal:replace="python:view.plone_view.cropText(result.Description, desc_length, desc_ellipsis)">
                    Cropped description
                </span>


            <span class="documentByLine"
                  tal:condition="python:not view.isAnon or view.site_properties.allowAnonymousViewAbout">

                <span class="documentModified">
                    <div>
                        &mdash;
                        <a tal:attributes="href string:?Type=${result/Type}" tal:content="result/Type|string:unknown"/>
                        <span class="documentAuthor"
                            i18n:translate="box_created">
                            created by
                            <a href="#"
                                tal:attributes="href string:${view/portal_url}/author/${result/Creator}"
                                tal:content="result/Creator"
                                tal:omit-tag="not:result/Creator"
                                i18n:name="author">
                                Bob Dobalina
                            </a>
                            on
                        </span>
                        <span tal:replace="python:view.plone_view.toLocalizedTime(result.CreationDate, long_format=1)">
                            August 16, 2001 at 23:35:59
                        </span>
                    </div>

                    <div>
                        &nbsp; &nbsp;
                        <span i18n:translate="box_last_modified">
                            Last modified on
                        </span>
                        <span tal:replace="python:view.plone_view.toLocalizedTime(result.ModificationDate, long_format=1)">
                            August 16, 2001 at 23:35:59
                        </span>
                    </div>

                    <div tal:condition="python:result.EffectiveDate and result.EffectiveDate != 'None'">
                        &nbsp; &nbsp;
                        <span i18n:translate="box_effective">
                            Published on
                        </span>
                        <span tal:replace="python:view.plone_view.toLocalizedTime(result.EffectiveDate, long_format=1)">
                            August 16, 2001 at 23:35:59
                        </span>
                    </div>

                    <div tal:condition="python:result.ExpirationDate and result.ExpirationDate != 'None'">
                        &nbsp; &nbsp;
                        <span i18n:translate="box_expiration">
                            Expires on
                        </span>
                        <span tal:replace="python:view.plone_view.toLocalizedTime(result.ExpirationDate, long_format=1)">
                            August 16, 2001 at 23:35:59
                        </span>
                    </div>
                </span>

                <div tal:define="state result/review_state|nothing"
                     tal:condition="state">
                    &mdash;
                    <tal:state i18n:translate="label_review_state">Workflow State:</tal:state>
                    <span tal:replace="result/review_state"/>
                </div>

                <div class="objectFiles"
                    tal:condition="result/getFileNames | nothing"
                    i18n:translate="text_filenames">
                    &mdash;
                    Attached Files:
                    <a tal:repeat="file result/getFileNames"
                       tal:attributes="href string:${result/getPath}"
                       i18n:name="name"
                       tal:content="file">
                    </a>
                </div>

                <span id="category"
                      tal:define="categories result/Subject|nothing"
                      tal:condition="categories">
                    &mdash;
                    <tal:filedunder i18n:translate="label_filed_under">Filed under:</tal:filedunder>
                        <span tal:repeat="category categories">
                            <a href=""
                               class="link-category"
                               rel="tag"
                               tal:content="category"
                               tal:attributes="href python:view.filed_under_link(category)">
                               Category
                            </a><tal:separator condition="not: repeat/category/end">,</tal:separator>
                        </span>
                </span>


            </span>
            </dd>
        </tal:entry>