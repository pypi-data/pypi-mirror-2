<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">

<xi:include href="master.html" />
<head>
	<title py:if="hasattr(value, 'display_name')"
	  py:content="'%s (tube #%s)' % (value.display_name, value.tube_id)" />
	<title py:if="not hasattr(value, 'display_name')"
	  py:content="'Change %s' % model" />
	<style type="text/css">
		tr[id="tasks.container"],
		tr[id="events.container"],
		tr[id="layers.container"],
		tr[id="dispatchs.container"]{
			display: none;
		}
		.CodeMirror-line-numbers {
        width: 2.2em;
        color: #aaa;
        background-color: #eee;
        text-align: right;
        padding-right: .3em;
        font-size: 10pt;
        font-family: monospace;
        padding-top: .4em;
      }
	  .labelcol {
	  	width: 100px;
	  }
	  
	  form table {
	  	width: 100%;
	  }
	</style>
	<script src="${tg.url('/scripts/codemirror/codemirror.js')}" type="text/javascript"></script>
	<script type="text/javascript">
	window.addEvent('domready', function(){
		var editor = CodeMirror.fromTextArea('payload', {
		    height: "350px",
			width: "100%",
		    parserfile: "parsexml.js",
		    stylesheet: "${tg.url('/css/xmlcolors.css')}",
		    path: "${tg.url('/scripts/codemirror/')}",
		    continuousScanning: 500,
		    lineNumbers: true,
		    textWrapping: false
		  });
	});
	</script>
</head>
<body>
	<div id="content" style="margin-left: 20px;">
		<h2 py:if="hasattr(value, 'display_name')"
		  py:content="'%s (tube #%s)' % (value.display_name, value.tube_id)" />
		<h2 py:if="not hasattr(value, 'display_name')"
		  py:content="'Change %s' % model" />
		${XML(tmpl_context.widget(value=value, action='./'))}
	</div>
</body>
</html>
