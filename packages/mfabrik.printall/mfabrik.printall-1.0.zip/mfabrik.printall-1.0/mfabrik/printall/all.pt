<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n" 
      metal:use-macro="context/main_template/macros/master">
<body>

<metal:slot metal:fill-slot="header" i18n:domain="cmf_default">
  <h1 tal:content="context/Title" />
</metal:slot>

<metal:block fill-slot="top_slot" tal:define="dummy python:request.set('disable_border',1)" />

<metal:slot metal:fill-slot="main" i18n:domain="cmf_default">

    <div class="print-all">
        <tal:rep repeat="page view/objects">
            <tal:def define="body page/object/getText|nothing;title page/object/Title;level page/level">
            
                <div tal:condition="python:level==1" style="page-break-before:always"><!-- --></div>
                <h1 tal:condition="python:level==1" tal:content="title" style="font-weight: bold"/> 
                <h2 tal:condition="python:level==2" tal:content="title" />
                <h3 tal:condition="python:level>2" tal:content="title" />
                
                <div class="print-all-body" style="padding-left: 1em">
                    <tal:body tal:replace="structure body" />
                </div>
                                                
            </tal:def>
        </tal:rep>
    </div>
</metal:slot>
</body>
</html>
