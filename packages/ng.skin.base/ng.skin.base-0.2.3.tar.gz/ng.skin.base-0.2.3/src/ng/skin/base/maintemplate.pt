<metal:block define-macro="page"><metal:block define-slot="doctype"><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"
></metal:block>
<html xmlns="http://www.w3.org/1999/xhtml">
<head metal:define-macro="head">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

    <tal:block 
      tal:define="
          ps context/++nsinterface++ng.app.converter.object2psadapter.interfaces.IPropertySheet | nothing;
          dc context/++nsinterface++zope.dublincore.interfaces.IZopeDublinCore | nothing;
          title context/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title | nothing;">
	  
        <title metal:define-slot="title" tal:content="title">О проекте</title>
        <META tal:on-error="nothing" Name="Title" content="" tal:attributes="content python:dc.title or title"/>

        <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
        <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" />

        <tal:block on-error="nothing"><meta name="DC.title" content="Заголовок" tal:attributes="content python:dc.title or path('context/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title')"/></tal:block>
        <tal:block on-error="nothing"><meta name="DC.creator" content="Вася Иванов"  tal:attributes="content context/author"/></tal:block>

        <tal:block on-error="string:" define="psk ps/keywords | nothing; pska ps/keywords_abstract | python: '';  keywords python:', '.join(set(dc.subjects or (psk.split(', ') + pska.split(', '))))">
          <META tal:on-error="nothing" Name="Keyword" content="" tal:attributes="content keywords"/>
          <META name="DC.subject" content="Вася Иванов"  tal:attributes="content keywords"/>
        </tal:block>

        <tal:block on-error="string:">
          <META name="DCTERMS.issued" scheme="DCTERMS.W3CDTF" content="2007-07-29" 
          tal:attributes="content python:context.created.strftime('%Y-%m-%d')"/>
        </tal:block>


        <tal:block on-error="nothing" define="abstract  ps/popup | ps/summary | ps/autosummary |nothing">
          <META Name="Description" content=""
              tal:attributes="content python:dc.description or abstract"
            />
          <meta name="DCTERMS.abstract" content="Абстракт" 
              tal:attributes="content python:dc.description or abstract"
            />
        </tal:block>

        <meta name="DC.identifier" scheme="DCTERMS.URI" tal:attributes="content context/@@adaptive_url"/>

        <meta name="DC.format" scheme="DCTERMS.IMT" content="text/html" />
        <meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text" />
    </tal:block>

    <meta tal:on-error="python:''" name="yandex-verification" content="" tal:attributes="content context/++registry++yandex-verification:" />
    <meta tal:on-error="python:''" name="google-site-verification" content="" tal:attributes="content context/++registry++google-verification:" />

    <link rel="icon" type="image/icon" href="image/favicon.ico"
        tal:attributes="href context/++resource++icons/favicon.ico" />

    <link
        href="style.css" rel="stylesheet" type="text/css"
        tal:attributes="href context/++resource++style.css" /> 

    <style type="text/css">
  	  body {
	      font-family: verdana, tahoma, arial, sans-serif;
	    }
    </style>
    <link
        href="style_text.css" rel="stylesheet" type="text/css"
        tal:attributes="href context/++resource++style_text.css" />

    <link
        href="style_form.css" rel="stylesheet" type="text/css"
        tal:attributes="href context/++resource++style_form.css" /> 

    <link rel="alternate" title="RSS 1.0" type="application/rss+xml" href="@@rssview.html" 
        tal:attributes="href context/++registry++rss:@@rssview.html"
        />

    <tal:block tal:content="structure python:'<!--[if IE]>\n        <link href=&quot;%s&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;>\n    <![endif]-->' % path('context/++resource++style_ie.css')"/>

    <link rel="stylesheet" type="text/css" media="print"
        href="style_print.css"
        tal:attributes="href context/++resource++style_print.css" 
        />           

    <script 
        language="JavaScript"
        type="text/javascript"
        src="scripts.js"
        tal:attributes="src context/++resource++js/search.js">
    </script>

    <script 
        language="JavaScript"
        type="text/javascript"
        src="createrequestobject.js"
        tal:attributes="src context/++resource++js/createrequestobject.js">
    </script>

    <script 
        language="JavaScript"
        type="text/javascript"
        src="mouseposition.js"
        tal:attributes="src context/++resource++js/mouseposition.js">
    </script>

    <script 
        language="JavaScript"
        type="text/javascript"
        src="uploadshortviews.js"
        tal:attributes="src context/++resource++js/uploadshortviews.js">
    </script>

    <script 
        language="JavaScript"
        type="text/javascript"
        src="getelementsbyclassname.js"
        tal:attributes="src context/++resource++js/getelementsbyclassname.js">
    </script>

    <script 
        language="JavaScript"
        type="text/javascript"
        src="scrollgallery.js"
        tal:attributes="src context/++resource++js/scrollgallery.js">
    </script>


    <metal:block define-slot="other"/>
    
</head>
<body metal:define-slot="mainbody">

  <div id="logobar" metal:define-macro="logobar">
    <a href="" title="Главная страница" tal:attributes="href context/@@main/@@absolute_url"
      ><img id="logo" alt="logotype" metal:define-macro="logo" src="images/logo.gif" tal:attributes="src context/++resource++images/logo.gif"
      /></a><div id="authordata">
      <p class="author" tal:on-error="python:''" tal:content="python:path('context/@@nickname/')[context.author]">Степан Ломов</p>
      <p class="date" tal:on-error="python:''" tal:content="python:context.created.strftime('%Y-%m-%d')" >2009.01.01</p>
    </div>          
  </div>

  <div id="header" metal:define-macro="header">
      <img id="topdreambot" src="images/toplogo.png" alt="dreambot" tal:attributes="src context/++resource++images/toplogo.png"/>
      <div id="formplace"> 
        <div id="search"> 
            <form style="margin:0px; padding:0px;" action="@@searchpage.html"><img alt="search"
            src="images/search.png" tal:attributes="src context/++resource++icons/search.png"
            /><input type="text" name="common" value="NEURAL"
	        tal:define="word context/@@word"
                tal:attributes="value request/form/common | word | nothing;
		                onFocus string:clear_field(this,'${word}');
				onBlur string:restore_field(this,'${word}');"
            /><input type="image" src="images/ok.png"  tal:attributes="src context/++resource++icons/ok.png" value="OK"
            /></form>
        </div>  
     </div> 
     <metal:slot define-slot="breadcrumbs">
        <div id="breadcrumbs" metal:define-macro="breadcrumbs">
          <tal:block
             repeat="breadcrumb python:reversed(path('context/++breadcrumb++zope.app.container.interfaces.IContained'))"
            ><metal:block define-slot="header"><tal:block tal:condition="repeat/breadcrumb/start"><metal:block define-slot="prefix">&nbsp;</metal:block><a href="/"
                tal:attributes="
                href context/@@main/@@adaptive_url"
                i18n:translate="">Main</a
            ></tal:block></metal:block><span><metal:block define-slot="separator">&nbsp;::&nbsp;</metal:block><a href="" 
              tal:attributes="href breadcrumb/@@adaptive_url" 
              tal:content="breadcrumb/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title"
              >Раздел</a
            ></span></tal:block>
        </div>
      </metal:slot> 
  </div>
  
  <div id="menucolumn" metal:define-macro="menucolumn">
    <div id="menucolumnbr"><br/></div>
    <metal:block tal:content="structure provider:column">

      <metal:block define-macro="menublock">
        <div class="menublock">
          <metal:block define-slot="header">
            <a class="menuheader" href="" tal:attributes="href view/folder/@@absolute_url" tal:content="view/folder/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title">Публикации</a>
          </metal:block>
          <a href="" class="menuitem" tal:repeat="item view/values"
            tal:attributes="href item/@@absolute_url; title item/abstract | nothing"
            tal:content="item/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title | python: 'без названия'"
          >
            Шаблон сайта в CSS
          </a>
        </div>
      </metal:block>

      <metal:block define-macro="cloudblock">
        <div class="menublock">
          <metal:block define-slot="header">
            <a class="menuheader" href="" tal:attributes="href view/folder/@@absolute_url" tal:content="view/folder/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title">Публикации</a>
          </metal:block>
          <div><tal:block repeat="record view/records">
            <a href="" class="clouditem1" 
              tal:attributes="class string:clouditem${record/class};
                              href record/value/@@absolute_url; 
                              title record/value/abstract | nothing"
              tal:content="structure python:modules['pd.lib.hyphen'].hyphen(path('record/value/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title'))"
              tal:on-error="string:без названия"
            >
              Шаблон сайта в CSS
            </a>
          </tal:block></div>
          
        </div>
      </metal:block>

      <metal:block define-macro="subscribe">
        <div class="menublock">
          <div class="menuheader">Подписка на новости</div>
          <metal:block define-slot="content"/>
        </div>
      </metal:block>

      <metal:block define-macro="toolbox">
        <div class="menublock">
          <div class="menuheader">Инструменты</div>
          <div class="menubody"> 
            <tal:block on-error="python:''" repeat="view context/@@view_get_menu/toolbox">
              <a class="menuitem" href=""
                  tal:attributes="href view/action;
                                  class python: view['selected'] and 'menuitemactive' or 'menuitem'"
                  tal:content="view/title"
                  i18n:translate="">
                  label
              </a>
            </tal:block>
          </div>
        </div>
      </metal:block>

      <metal:block define-macro="loginbox">
        <div class="menublock">
          <div class="menuheader">Вход</div>
          <div class="menubody">
            <form action="." method="post" class="loginbox">
              <span class="head">OpenID:</span>
              <input type="text" id="loginbox-openid" name="openid"
                tal:attributes="value request/openid | nothing"/>
              <span>@</span><select name="provider" size="1">
                  <option value="">Не выбран</option>
                  <option value="AOL" tal:attributes="selected python:request.get('provider',None)=='AOL' or nothing">AOL</option>
                  <option value="Blogger" tal:attributes="selected python:request.get('provider',None)=='Blogger' or nothing">Blogger</option>
                  <option value="Flickr" tal:attributes="selected python:request.get('provider',None)=='Flickr' or nothing">Flickr</option>
                  <option value="LiveDoor" tal:attributes="selected python:request.get('provider',None)=='LiveDoor' or nothing">LiveDoor</option>
                  <option value="LiveJournal" tal:attributes="selected python:request.get('provider',None)=='LiveJournal' or nothing">LiveJournal</option>
                  <option value="SmugMug" tal:attributes="selected python:request.get('provider',None)=='SmugMug' or nothing">SmugMug</option>
                  <option value="Technorati" tal:attributes="selected python:request.get('provider',None)=='Technorati' or nothing">Technorati</option>
                  <option value="Vox" tal:attributes="selected python:request.get('provider',None)=='Vox' or nothing">Vox</option>
                  <option value="Yahoo" tal:attributes="selected python:request.get('provider',None)=='Yahoo' or nothing">Yahoo</option>
                  <option value="WordPress" tal:attributes="selected python:request.get('provider',None)=='WordPress' or nothing">WordPress</option>
                  <option value="Yandex" tal:attributes="selected python:request.get('provider',None)=='Yandex' or nothing">Yandex</option>
              </select>
              <input type="checkbox" id="loginbox-save" name="save"/> <span>запомнить меня</span> <hr/>
              <span class="head">Login:</span>
              <input type="text" id="loginbox-login" name="login" 
                tal:attributes="value request/login | nothing"/><br/>
              <span class="head">Пароль:</span>
              <input type="password" id="loginbox-password" name="password"/>
              <input type="submit" id="loginbox-submit" value="Войти" class="button" />
              <div class="error" tal:define="msg request/++nsinterface++ng.app.openid.interfaces.IOpenIDErrorMessage"
                  tal:condition="msg/haserror">
                  <span  tal:content="msg/title">Ужасная ошибка</span>
                  <hr/>
                  <span tal:content="msg/message">Неверно введен пароль или еще какая-то хрень</span>
              </div> 
              <div class="error" tal:define="msg request/++nsinterface++ng.app.openid.interfaces.IOpenIDErrorMessage"
                  tal:condition="python:not msg.haserror and 'login' in request.form and request.form['password'] and not request.form['login']">
                  <span>Не указан логин</span>
                  <hr/>
                  <span>Аутентификация с паролем используется только при указании логина</span>
              </div> 
              <a href="#" class="menuitem" tal:on-error="python:''" tal:attributes="href context/@@article/registration/@@absolute_url" class="more">Регистрация</a>
              <a href="#" class="menuitem" tal:on-error="python:''" tal:attributes="href context/@@article/restorepasswd" class="more">Забыли пароль?</a>
              <metal:block define-slot="hidden">
                  <tal:block define="a view/check" />
              </metal:block>
            </form>
          </div>
        </div>
      </metal:block>

      <metal:block define-macro="gallerybox">
        <div class="menublock">
          <div class="menuheader">Галерея</div>
          <div class="menubody">
            <div tal:attributes="onmouseover string:t=setInterval('scrollUp()', 30);
                                 onmouseout string: clearInterval(t)">
              <metal:block define-slot="scrollup">
                <a href="." tal:replace="string:вверх">вверх</a>
              </metal:block>
            </div>
            <div id="scrollblock">
              <a href=""
                tal:repeat="item view/values"
                tal:attributes="href item/@@absolute_url;
                        title item/title">
                <img src="images/nophoto-small.gif" alt="" class="scrollimage"
                  tal:attributes="src item/++attribute++logo/@@smartimagecontainer/small/url"
                />
              </a>
            </div>
            <div tal:attributes="onmouseover string:t=setInterval('scrollDown()', 30);
                                 onmouseout string: clearInterval(t)">
              <metal:block define-slot="scrolldown">
                <a href="." tal:replace="string:вниз">вниз</a>
              </metal:block>
            </div>
          </div>
        </div>
      </metal:block>
      
      <metal:block define-macro="search">
        <div class="menublock">
          <div class="menuheader">Поиск по сайту</div>
          <div class="menubody">
            <form action="@@searchpage.html">
	      <input type="text" name="common" value="NEURAL" id="searchfield"
	             tal:define="word context/@@word"
                     tal:attributes="value request/form/common | word | nothing;
		                onFocus string:clear_field(this,'${word}');
				onBlur string:restore_field(this,'${word}');"
	      />
	      <metal:block define-slot="searchincurrentfolder">
	        <table id="searchincurrentfolder">
		  <tr>
  	            <td>
                      <tal:block condition="request/form/urlpath | nothing">
                        <input type="checkbox" checked name="urlpath" value="1" />
                      </tal:block>

                      <tal:block condition="not:request/form/urlpath | nothing">
		        <input type="checkbox" unchecked name="urlpath" value="1" />
		      </tal:block> 

		    </td>
		    <td>Искать в текущем каталоге</td>
		  </tr>
		</table>
	      </metal:block>
	      <metal:block define-slot="searchbutton">
                <input type="submit" id="searchbutton" value="искать" />
	      </metal:block>
	    </form>
          </div>
        </div>
      </metal:block>


    </metal:block>
    <div id="menucolumnpad" metal:define-slot="other">
    </div> 
  </div>
    
  <div id="mainmenu" metal:define-macro="mainmenu">
     <metal:block define-slot="item_before"/>
     <a tal:repeat="item context/@@main/++nsinterface++ng.content.article.interfaces.IContentContainer/values" 
        class="mainmenuitem" 
        tal:attributes="
          href item/@@absolute_url; 
          class python:path('context/@@checksublocation').check(item) and 'mainmenuitemactive' or 'mainmenuitem';
        "
     tal:content="item/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title | item/__name__"> О проекте </a>
     <metal:block define-slot="item_after"/>
  </div>

  <div id="content" metal:define-macro="content" >
    <div id="localnavy" metal:define-macro="localnavy">
      <metal:block define-macro="localnavyenv">
        <tal:block on-error="python:''"  define="np context/@@nextprev">
          <metal:block define-slot="links">
           <a class="up"
              metal:define-macro="localnavyup"
              href=""
              tal:on-error="python:''" 
              tal:define="p np/up" 
              tal:condition="python:p is not None"
              tal:attributes="href p/@@tool_url"
            ><metal:block define-slot="uptext" 
              tal:content="p/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title">Выше</metal:block>
            </a>
            <a class="right"
              metal:define-macro="localnavyright"
              href=""
              tal:on-error="python:''"
              tal:define="p np/prev" 
              tal:condition="python:p is not None"
              tal:attributes="href p/@@tool_url">
              <metal:block define-slot="righttext"
                tal:content="p/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title">Позже</metal:block>
            </a>
            <a class="left"
               metal:define-macro="localnavyleft"
               href=""
               on-error="python:''"
               tal:define="p np/next" 
               tal:condition="python:p is not None"
               tal:attributes="href p/@@tool_url">
               <metal:block define-slot="lefttext"
                    tal:content="p/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title">Раньше</metal:block>
            </a>
           </metal:block>
        </tal:block>              
      </metal:block>
    </div>

    <div id="body"> 
      <metal:block define-slot="body">

          <metal:block define-macro="abstract">
              <h1 class="abstract" tal:content="context/ob/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title | nothing"> Шаблон сайта в CSS </h1> 
              <span class="abstractauthor" 
                tal:on-error="structure python:'&nbsp;'"
                tal:content="structure python:path('context/@@nickname')[context.author] + '&nbsp;'"/> 
              <span class="abstractdate"
                tal:on-error="structure python:'&nbsp;'"
                tal:define="datetimeformat context/++registry++datetimeformat:%Y-%m-%d"
                tal:content="python:context.created.strftime(str(datetimeformat))">2007.01.10</span>
            <div class="abstract" >
              
              <tal:block tal:on-error="structure python:'<!-- [image] -->'" tal:content="structure python:path('context/++attribute++logo/@@smartimagecontainer/big').tag(align='left')"> 
                  <img src="images/logo.gif" align="left"/> 
              </tal:block>             
                          
              <tal:block content="structure context/abstract | nothing">
                <p>Эта страница - шаблон общей страницы сайта. Его можно настраивать под свои нужды при помощи переписывания CSS для него,
                или же при помощи использования специального файла skeleton.pt, позволяющего переставить отдельные секции
                шаблона. В теории, шаблон можно редактировать в любом редакторе веб-страниц, хотя на самом деле, нет достоверных
                сведений о том, насколько такая операция может быть успешна.</p>
                
                <p>Кроме того, если шаблон изменить, то при выходе его обновлений будет необходимо включить эти
                обновления в измененный шаблон.</p>
                
                <p>По описанным причинам, рекомендуется не изменять этот шаблон, а ограничится лишь редактированием CSS или
                вызовом различных макросов из шаблона в skeleton.pt</p>
              </tal:block>
            </div> 
          </metal:block>
          
          <div class="profile" metal:define-macro="profile">
            <h1 class="profileheader"> Профиль </h1>

            <div class="profileinfo">

              <dl>
                <tal:block tal:condition="context/title">
                  <dt> Имя: </dt>
                  <dd tal:content="context/title | profile/nickname | nothing">Иван Иванов</dd>
                </tal:block>

                <tal:block tal:condition="python: context.created">
                  <dt>Дата регистрации:</dt>
                  <dd tal:on-error="structure python:'&nbsp;'"
                      tal:define="datetimeformat context/++registry++datetimeformat:%Y-%m-%d"
                      tal:content="python:context.created.strftime(str(datetimeformat))">1970-01-15
                  </dd>
                </tal:block>

                <tal:block tal:condition="context/profile/nickname">
                  <dt>Ник:</dt>
                  <dd  tal:content="context/profile/nickname">Иван Иванов</dd>
                </tal:block>

                <tal:block tal:condition="context/profile/city">
                  <dt>Город:</dt>
                  <dd tal:content="context/profile/city">Омск</dd>
                </tal:block>

                <tal:block tal:condition="context/profile/birthday">
                  <dt>Возраст:</dt>
                  <dd colspan="1" tal:content="context/profile/age">40</dd>
                </tal:block>

                <tal:block tal:condition="context/profile/sex">
                  <dt>Пол:</dt>
                  <dd tal:content="context/profile/sex">Мужчинко</dd>
                </tal:block>
  
                <tal:block tal:condition="context/profile/interests">
                  <dt>Области интересов:</dt>
                  <dd tal:content="python:', '.join(sorted(context.profile.interests))+'.'">Sex, Drugs, Rock'N'Roll</dd>
                </tal:block>
              </dl>
            </div>
            <div class="profilephoto">
              <tal:block 
                  tal:on-error="structure python:'<img height=\'100\' width=\'80\' src=\'/++resource++images/nophoto-big.gif\'>'">
                <tal:block
                    condition="python:path('context/++attribute++logo').getSize() > 0"
                    content="structure python:path('context/++attribute++logo/@@smartimagecontainer/big').tag()">
                </tal:block>
                <tal:block
                    condition="python:path('context/++attribute++logo').getSize() == 0">
                  <img height="100" width="80" src="images/nophoto-big.gif" tal:attributes="src context/++resource++images/nophoto-big.gif" alt="NO PHOTO" />
                </tal:block>
              </tal:block>
            </div>
            <tal:block condition="context/abstract">
              <h1 class="profileheader">Обо мне</h1>
              <div class="profileabout" tal:content="structure context/abstract | nothing ">
                <p>А я простой советский парень, когда рванул Чернобыльский реактор, подошел, подкурил от взрыва, и пошел
                себе дальше, в светлое коммунистическое будущее.
                </p>
              </div>
            </tal:block>
          </div>
          
          <div class="article" metal:define-macro="article_simple">
          <metal:block define-macro="division_simple">	  
            <tal:block tal:content="structure provider:annotations">
              <div class="annotations" metal:define-macro="annotations">
                <metal:block define-slot="content">
                  <metal:block define-macro="dictannotation">
                    <div class="annotation">
                      <h1 class="annotation">Словарь</h1>
                      <table border="1" width="100%" bordercolor="black" cellspacing="0">
                        <tr tal:condition="python:len(context.keyword) > 0"><td>Основная форма:</td><td tal:content="python: context.keyword[0]">Zopelada</td></tr>
                        <tal:block condition="context/area">
                        <tr><td colspan="2">Предметная область::</td></tr>
                        <tr><td colspan="2" align="right" tal:content="context/area"></td></tr>
                        </tal:block>
                        <tr tal:condition="context/gender"><td>Род:</td><td tal:content="context/gender">Мужской</td></tr>
                        <tr tal:condition="context/suffixes"><td>Падежное окончание:</td><td tal:content="context/suffixes">-oe</td></tr>
                        <tal:block condition="python:len(context.keyword) > 1">
                        <tr><td colspan="2">Синонимы:</td></tr>
                        <tr><td colspan="2" align="right" tal:content="python:', '.join(context.keyword[1:])"></td></tr>
                        </tal:block>
                        <tal:block tal:condition="context/wikiword">
                        <tr><td colspan="2"><a href="" tal:attributes="href python:path('view/parent/++registry++wikilink:%s') % path('context/wikiword')" tal:content="context/wikiword" rel="nofollow"></a> на вики</td></tr>
                        </tal:block>  
                      </table>
                    </div>
                  </metal:block>
                  
                  <metal:block define-macro="productannotation">
                    <div class="annotation">
                      <h1 class="annotation">Продукт</h1>
                      <table border="1" width="100%" bordercolor="black" cellspacing="0">
                        <tal:block tal:condition="context/title">
                        <tr><td colspan="2">Название:</td></tr>
                        <tr><td  colspan="2" align="right" tal:content="context/title">ng.app.fifo</td></tr>
                        </tal:block>
                        <tal:block tal:condition="context/ispypi">
                        <tr><td colspan="2"><a href="" tal:attributes="href python:path('view/parent/++registry++pypilink:%s') % path('context/title')" rel="nofollow">Выложен на PyPI</a></td></tr>
                        </tal:block> 
                        <tal:block tal:condition="context/repository">
                        <tr><td colspan="2"><a href="" tal:attributes="href context/repository" rel="nofollow">Репозиторий</a></td></tr>
                        </tal:block>
                        <tal:block tal:condition="context/archive">
                        <tr><td colspan="2"><a href="" tal:attributes="href context/archive" rel="nofollow">Архив</a></td></tr>
                        </tal:block>
                      </table>
                    </div>
                  </metal:block>

                  <metal:block define-macro="profileannotation">
                    <div class="annotation">
                      <h1 class="annotation">Профиль</h1>
                      <table border="1" width="100%" bordercolor="black" cellspacing="0">

                        <tal:block tal:condition="context/nickname">
                        <tr><td colspan="1">Ник:</td>
                          <td  colspan="1" align="right" tal:content="context/nickname">ng.app.fifo</td></tr>
                        </tal:block>

                        <tal:block tal:condition="context/city">
                        <tr><td colspan="1">Город:</td>
                          <td colspan="1" tal:content="context/city"></td></tr>
                        </tal:block> 
                        
                        <tal:block tal:condition="context/birthday">
                        <tr><td colspan="1">Дата рождения:</td>
                          <td colspan="1" tal:content="context/birthday"></td></tr>
                        <tr><td colspan="1">Возраст:</td>
                          <td colspan="1" tal:content="context/age"></td></tr>
                        </tal:block>

                        <tr><td colspan="1">Пол:</td>
                          <td colspan="1" tal:content="context/sex"></td></tr>
                      </table>
                    </div>
                  </metal:block> 

                  <metal:block define-macro="eventannotation">
                    <div class="annotation">
                      <h1 class="annotation">Событие</h1>
                      <table border="1" width="100%" bordercolor="black" cellspacing="0">
                        <tal:block tal:condition="context/date">
                        <tr tal:condition="context/date"><td>Дата:</td><td tal:content="python: context.date.strftime('%Y-%m-%d')">2001-10-01</td></tr>
                        <tr tal:condition="context/date"><td>Время:</td><td tal:content="python: context.date.strftime('%H:%M')">20:30</td></tr>
                        </tal:block>                      
                        <tal:block tal:condition="context/durability">
                        <tr><td colspan="2">Продолжительность:</td></tr>
                        <tr><td  colspan="2" align="right" tal:content="context/durability">1 час</td></tr>
                        </tal:block>
                        <tal:block 
                        >
                        <tr><td colspan="2">Место проведения:</td></tr>
                        <tr><td colspan="2" align="right" tal:content="context/place"></td></tr>
                        </tal:block>
                      </table>
                    </div>
                  </metal:block>
                </metal:block>
              </div>
            </tal:block> 
          </metal:block>
          <tal:block tal:condition="context/iscontent">
            <tal:block tal:condition="python:len(path('context/ob/++nsinterface++ng.content.article.interfaces.IPageContainer'))>0">
              <b>Содержание:</b>
              <ol>
                <li tal:repeat="item context/ob/++nsinterface++ng.content.article.interfaces.IPageContainer/values"
                    ><a tal:attributes="href item/@@absolute_url" tal:content="item/title | item/__name__">Раздел</a
                ></li>
              </ol>
              <hr>
            </tal:block> 
          </tal:block>   


          <tal:block tal:content="structure context/body">
            <p> adsas dasd asdas dasdas dasd as dasd asd asdasdas dasd asdasdasdas d
            asdas asdas das adas asdas das dasd asd as dasdas adsas das sadas das asd
            asd asdas dsad asds adas asd asd asdasas das asdas dasdas asd asads dasdasd
            as dasd as dasd assadas asd sad asas as dasdas das asdas das asdas adsd sa </p>
          </tal:block> 
          </div>

        <div class="article"  metal:define-macro="photo" style="text-align: center">
          
          <tal:block on-error="structure python:'<!-- [image] -->'" >
             <a href="" tal:attributes="href python:path('context/@@absolute_url') + '/@@view'">
           	<tal:block content="structure python:path('context/@@smartimagecontainer/full').tag()">
	          <img src="images/logo.gif"/> 
        	</tal:block>             
             </a>
          </tal:block>
                    
          <div>
            <a href="" tal:attributes="href python:path('context/@@absolute_url') + '/@@view'">Full view</a>
          </div>
	      </div>


        <div class="article"  metal:define-macro="article_compound">
          <div class="annotations" >
          <tal:block tal:content="structure provider:annotations">
            ViewLets
          </tal:block> 
          </div>

          <tal:block tal:condition="context/iscontent">
            <tal:block tal:condition="python:len(path('context/ob/++nsinterface++ng.content.article.interfaces.IPageContainer'))>0">
              <b>Содержание:</b>
              <ol>
                <li tal:repeat="item context/ob/++nsinterface++ng.content.article.interfaces.IPageContainer/values"
                    ><a tal:attributes="href python:'#%s' % repeat['item'].number()" tal:content="item/title | item/__name__">Раздел</a
                ></li>
              </ol>
              <hr>
            </tal:block> 
          </tal:block>   
          <tal:block tal:content="structure context/body"/> 
          <tal:block tal:repeat="item context/ob/++nsinterface++ng.content.article.interfaces.IPageContainer/values">
            <h1 class="abstract"><a href="#content" tal:attributes="id python:'%s' % repeat['item'].number()" tal:content="item/title | item/__name__">Раздел</a></h1>
            <tal:block tal:content="structure item/@@body">
              adasdas asdas das adsa ads asdas asd asdas asdas asd adas dasd asdas dasd
              asd asdas adsas asd adas asdas dasd asdas adsas das dfgdffghghj jkh hjkhjk
              asd d gertrty hjty  bnm bnmn mnytuyyuyu  h5yt tyyt gh bn bvn tytutyuytty ytu 
            </tal:block>
          </tal:block>      
        </div>

        <div class="comments"
          metal:define-macro="comment">
          <tal:block condition="python: len(view.comments.values())">

            <div class="commentsheader" metal:define-slot="header">Комментарии</div>
            <tal:block repeat="comment view/comments/values">
              <div class="comment">
                <div class="commentheader">
                  <div class="commentauthor"
                    tal:on-error="structure python:'Unknown Author'"
                    tal:content="structure python:path('comment/@@nickname')[comment.author]"
                  >Иван Иванов</div>
                  <span 
                    class="commentdate"
                    tal:define="datetimeformat context/++registry++datetimeformat:%Y-%m-%d"
                    tal:content="python:comment.created.strftime(str(datetimeformat))"
                  >2009-08-01</span>
                </div>

                <div class="commentauthorimage">
                  <tal:block
                    define="profile python:view.profile(comment.author)"
                    on-error="structure python:'<img src=\'/++resource++images/nophoto-small.gif\'/>'"> 
                    <a href="" tal:attributes="href profile/@@absolute_url">
                      <tal:block
                        condition="python:path('profile/++attribute++logo').getSize() > 0"
                        content="structure python:path('profile/++attribute++logo/@@smartimagecontainer/small').tag()">
                        <img src="images/nophoto-small.gif">
                      </tal:block>
                      <tal:block
                        condition="python:path('profile/++attribute++logo').getSize() == 0">
                        <img src="images/nophoto-small.gif" tal:attributes="src string:/++resource++images/nophoto-small.gif" alt="NO PHOTO" />
                      </tal:block>
                    </a>
                  </tal:block> 
                </div>

                <div class="commentabstract" tal:content="structure comment/++nsinterface++ng.app.converter.object2psadapter.interfaces.IPropertySheet/abstract">
                  Это тестовый комментарий, написанный для того, чтобы можно было увидеть самый настоящий комментари. Обычно для форматирования
                  комментариев используется облегченный структурированный текст, который позволяет:
                  
                    <ul>
                       <li>вести нумерованные списки</li>
                       <li>вести ненумерованые списки</li>
                       <li>выделять параграфы</li>
                    </ul>
                   также возможно выделение жирного и наклонного шрифта.  
                   
                </div>
              </div>
            </tal:block>
          </tal:block>
          <div class="commentadd" tal:condition="context/++nsinterface++ng.content.comment.interfaces.ICommentAnnotation/isallow"><a href="@@addcomment.html">Добавить комментарий</a></div>
        </div>


        <div class="reference" metal:define-macro="reference" tal:define="backref python:list(view.backref)" tal:condition="backref"> 
          <tal:block repeat="item backref"> 
            <h1 class="reference" tal:condition="repeat/item/start"> Ссылки на эту статью: </h1>
            <a class="reference" href="" tal:attributes="href item/@@adaptive_url">
              <tal:block content="item/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title">
                Статья, которая ссылается на эту
              </tal:block> 
            </a>    
          </tal:block>
        </div>


        <div class="values" tal:condition="python:pager.len > 0" metal:define-macro="values" >  
          <h1 class="values"><metal:block define-slot="title">Найдено:</metal:block></h1>

          <div class="leftvalues" tal:condition="pager/have_before">
            <a class="leftvalues" href="" tal:attributes="href pager/beforeURL"> &lt;&lt;&lt; </a>
            <tal:block repeat="item python:zip(range(1,10),pager.beforeURLs)">
              [<a href="" class="values" tal:attributes="href python:item[1]" tal:content="python:item[0]"/>]
            </tal:block>			    
          </div>

          <tal:block tal:repeat="item pager/chunk">
	   <!--  -->
            <tal:block tal:on-error="structure python:'<div class=short>'+item.__name__+'</div>'">
		          <metal:block define-slot="item">
                    <tal:block tal:content="structure item/@@short">
                        <div class="short" metal:define-macro="docshort">
                          <div class="shortheader">
                            <a class="shorttitle" href=""  tal:attributes="href context/@@adaptive_url" tal:content="context/title | context/__name__">Аннотация статьи с рисунком</a>                
                            <span class="shortdate"
                              tal:on-error="structure string:&nbsp;"
                              tal:define="datetimeformat context/++registry++datetimeformat:%Y-%m-%d"
                              tal:content="python:context.created.strftime(str(datetimeformat))">2007.01.10</span>
                            <span class="shortauthor" tal:on-error="context/author" tal:content="structure python:path('context/@@nickname')[context.author] + '&nbsp;'">Andrey Orlov</span>
                          </div> 
                          
                          <div class="shortabstract">
                            <tal:block on-error="structure python:'<!-- [image] -->'">
			      <a href="" tal:attributes="href context/@@adaptive_url">
                            	<tal:block content="structure python:path('context/++attribute++logo/@@smartimagecontainer/small').tag(align='left')">             
                                	<img src="images/logo.gif" align="left"/> 
                            	</tal:block>             
                              </a>
                            </tal:block>
                            <tal:block content="structure context/abstract">
                              <p>Это аннотация статьи с рисунком. Рисунок сбоку от абстракта и плавно обтекается 
                              текстом. При разработке верстки необходимо внимательно следить, что бы 
                              при коротких абстрактах текст следующей аннотации всегда начинался с новой строки, а не обтекал картинку
                              предыдущей аннотации.</p>

                              <p>Аннотации бывают двух видов:</p>
                                <li>Аннотации с картинкой (логотипом);</li>
                                <li>Аннотации без картинки (логотипа).</li>

                              <p>Логотип автоматически масштабируется к нужному размеру посредством продукта smartimages, слот big</p>
                            </tal:block>
                          </div> 
			  <metal:block define-slot="readmore"></metal:block>
                        </div> 

                        <div class="short" metal:define-macro="photoshort">
                          <div class="shortheader">
                            <a class="shorttitle" href=""  tal:attributes="href context/__name__" tal:content="context/title | context/__name__">Забавная ошибка с IAnnotations</a>                
                            <span class="shortdate"
                              tal:on-error="structure string:&nbsp;"
                              tal:define="datetimeformat context/++registry++datetimeformat:%Y-%m-%d"
                              tal:content="python:context.created.strftime(str(datetimeformat))">2007.01.10</span>
                            <span class="shortauthor" tal:on-error="context/author | nothing " tal:content="structure python:path('context/@@nickname')[context.author] + '&nbsp;'">Andrey Orlov</span>
                          </div> 
                          
                          <div class="shortabstract">
                            <tal:block on-error="structure python:'<!-- [image] -->'">
			      <a href="" tal:attributes="href context/@@adaptive_url">
                            	<tal:block content="structure python:path('context/++attribute++logo/@@smartimagecontainer/small').tag(align='left')">             
                                	<img src="images/logo.gif" align="left"/> 
                            	</tal:block>             
                              </a>
                            </tal:block>
                            <tal:block content="structure context/abstract">
                              <p>Сколько я предупреждал всех участников своих семинаров о том, что
                              интерфейс IAnnotations никогда не назначается напрямую, и все-таки в
                              результате сам наступил на эти своеобразные грабли. Так как
                              IAnnotations я назначил контейнеру, интерфейс которого частично
                              совпадает с интерфейсом IAnnotations, то в принципе ничего страшного
                              не произошло: все аннотации аккуратно посоздавались внутри
                              контейнера, причем все виды контейнера для этих аннотаций аккуратно
                              открывались и делали свою работу.</p>

                              <p>Отсюда следует два забавных вывода:</p>
                                <li>Не надо так делать, тем более что это работает!</li>
                                <li> Раз уж это работает, то хорошо бы придумать идею, как это
                               применить.</li>

                              <p>Такой уж вот парадокс :)</p>
                            </tal:block> 
                          </div> 
                        </div> 

                        <div class="short" metal:define-macro="remotecontainershort">
                          <div class="shortheader">
                            <a class="shortheader" href="" tal:content="context/title" tal:attributes="href context/@@absolute_url">Забавная ошибка с IAnnotations</a><span
                              class="shortdate" tal:content="python:context.date.strftime('%Y-%m-%d %H:%M')">2007.01.10</span>
                          </div>
                        </div>
                    </tal:block>            
		             </metal:block>
            </tal:block>      				
          </tal:block>

          <div class="jslink" tal:condition="pager/have_after">
            <a href="" tal:define="query python:pager.requestext.query(current=pager.after)" tal:attributes="href string:${context/@@absolute_url}/@@shorturls.html?${query}"></a>
          </div>

          <div class="rightvalues" tal:condition="pager/have_after">
            <tal:block repeat="item python:zip(range(1,10),pager.afterURLs)">
              [<a href="" class="values" tal:attributes="href python:item[1]" tal:content="python:item[0]"/>]
            </tal:block>			    
            <a href="" class="rightvalues" tal:attributes="href pager/afterURL">  &gt;&gt;&gt; </a>
          </div>


        </div>
        
        <div class="contenticons" metal:define-macro="contenticons" tal:define="images python:list(view.images)" tal:condition="images">
          <table>
            <tr>
              <tal:block repeat="image images">
              <td>
                <a href="" tal:attributes="href image/@@absolute_url">
                   <tal:block content="structure image/@@smartimagecontainer/small/tag"><img src="images/logo.gif"></tal:block>
                </a>
              </td>
              </tal:block>
            </tr>
          </table>
        </div>
        <div class="shareit" metal:define-macro="shareit"
	  tal:define="url context/@@absolute_url;
	              title context/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title | nothing;
		      abstract context/++nsinterface++ng.app.converter.object2psadapter.interfaces.IPropertySheet/abstract | nothing;
		      source string:DreamBot;
		      d string: Описание ссылки;">
	<noindex>
	  <a href="." rel="nofollow" target="_blank" title="Запостить в ЖЖ" tal:attributes="href string:http://www.livejournal.com/update.bml?subject=${title}&event=${url}"><img src="images/livejournal.png" alt="" tal:attributes="src context/++resource++icons/livejournal.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Google Buzz" tal:attributes="href string:http://www.google.com/buzz/post?url=${url}&message=${title}"><img src="images/googlebuzz.png" alt="" tal:attributes="src context/++resource++icons/googlebuzz.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Facebook" tal:attributes="href string:http://www.facebook.com/sharer.php?u=${url}"><img src="images/facebook.png" alt="" tal:attributes="src context/++resource++icons/facebook.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Twitter" tal:attributes="href string:http://twitter.com/home/?status=${title} ${url}"><img src="images/twitter.png" alt="" tal:attributes="src context/++resource++icons/twitter.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Blogger" tal:attributes="href string:http://www.blogger.com/blog_this.pyra?t&u=${url}&n=${title}&a=ADD_SERVICE_FLAG&passive=true&alinsu=0&aplinsu=0&alwf=true&hl=ru&skipvpage=true&rm=false&showra=1&fpui=2&naui=8"><img src="images/blogger.png" alt="" tal:attributes="src context/++resource++icons/blogger.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Мой.Мир" tal:attributes="href string:http://connect.mail.ru/share?share_url=${url}"><img src="images/mymail.png" alt="" tal:attributes="src context/++resource++icons/mymail.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Я.ру" tal:attributes="href string:http://my.ya.ru/posts_add_link.xml?title=${title}&URL=${url}"><img src="images/yaru.png" alt="" tal:attributes="src context/++resource++icons/yaru.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Li.ru" tal:attributes="href string:http://www.liveinternet.ru/journal_post.php?action=n_add&cntitle=${title}&cnurl=${url}"><img src="images/liru.png" alt="" tal:attributes="src context/++resource++icons/liru.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Разместить Вконтакте" tal:attributes="href string:http://vkontakte.ru/share.php?url=${url}"><img src="images/vkontakte.png" alt="" tal:attributes="src context/++resource++icons/vkontakte.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Memori.ru" tal:attributes="href string:http://memori.ru/link/?sm=1&u_data[url]=${url}&u_data[name]=${title}"><img src="images/memori.png" alt="" tal:attributes="src context/++resource++icons/memori.png" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в MySpace.com" tal:attributes="href string:http://www.myspace.com/Modules/PostTo/Pages/?l=3&u=${url}&t=${title}"><img src="images/myspace.png" alt="" tal:attributes="src context/++resource++icons/myspace.png" /></a>
<!--
          <a href="." rel="nofollow" onclick="return add_favorite(this);" title="Добавить в Избранное"><img src="images/favorite.png" alt="" tal:attributes="src context/++resource++icons/favorite.png" /></a>
	  <a href="#" rel="nofollow" onclick="print();" title="Распечатать"><img src="images/print.png" alt="" tal:attributes="src context/++resource++icons/print.png;" /></a>
	  <a href="#" title="Отправить по почте" tal:attributes="href string:mailto:?subject=${title}&body=${url}"><img src="images/mail.png" alt="" tal:attributes="src context/++resource++icons/mail.png;" /></a>
-->
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Google Bookmarks" tal:attributes="href string:http://www.google.com/bookmarks/mark?op=add&bkmk=${url}&title=${title}"><img src="images/googlebookmarks.gif" alt="" tal:attributes="src context/++resource++icons/googlebookmarks.gif" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в LinkedIn" tal:attributes="href string:http://www.linkedin.com/shareArticle?mini=true&url=${url}&title=${title}&summary=${title}&source=${source};"> <img src="images/linkedin.gif" alt="" tal:attributes="src context/++resource++icons/linkedin.gif" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Yahoo! Bookmarks" tal:attributes="href string:http://bookmarks.yahoo.com/toolbar/savebm?u=${url}&t=${title}&opener=bm&ei=UTF-8&d=${d};"> <img src="images/yahoobookmarks.gif" alt="" tal:attributes="src context/++resource++icons/yahoobookmarks.gif" /></a>
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Одноклассники" tal:attributes="href string:http://www.odnoklassniki.ru/dk?st.cmd=addShare&st._surl=${url};"> <img src="images/odnoklassniki.gif" alt="" tal:attributes="src context/++resource++icons/odnoklassniki.gif" /></a>
<!--
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Google Reader" tal:attributes="href string:http://www.google.com/bookmarks/mark?op=add&bkmk=${url}&title=${title}"><img src="images/googlebookmarks.gif" alt="" tal:attributes="src context/++resource++icons/googlebookmarks.gif" /></a>
-->
	  <a href="." rel="nofollow" target="_blank" title="Добавить в Яндекс.Закладки" tal:attributes="href string:http://zakladki.yandex.ru/userarea/links/addfromfav.asp?bAddLink_x=1&lurl=${url}&lname=${title};"><img src="images/yandexbookmarks.gif" alt="" tal:attributes="src context/++resource++icons/yandexbookmarks.gif" /></a>
	</noindex>
	</div>
        <div class="facebook" metal:define-macro="facebook"
	  tal:define="url context/@@absolute_url;
	              title context/++nsinterface++ng.adapter.ianytitle.interfaces.IAnyTitle/title | nothing;">
          <iframe
	      src="#"
	      scrolling="no" frameborder="0"
	      style="border:none; overflow:hidden; width:470px; height:35px;"
	      allowTransparency="true"
	      tal:attributes="src string:http://www.facebook.com/plugins/like.php?href=${url}&layout=standard&locale=ru_RU&show_faces=false&width=470&action=recommend&colorscheme=light&height=35">
	  </iframe>
        </div>
      </metal:block>
    </div> 
  </div>

  <div id="referencemenu" metal:define-macro="referencemenu"> 
      <a tal:repeat="url context/@@main/urls" class="mainmenuitem"
      tal:attributes="href url/URL; title url/alternative"
      tal:content="url/title"
      >  Эпицентр </a>
  </div> 

  <div id="footer" metal:define-macro="footer">
      <img id="bottomdreambot" alt="logo" src="images/bottomlogo.png" tal:attributes="src context/++resource++images/bottomlogo.png"/> 
      <div id="bottomformplace">
         <div id="login"><form class="login" action="@@home.html" tal:attributes="action python:path('context/@@absolute_url') + '/@@home.html'" method="post"><img alt="login"
            src="images/login.png"  tal:attributes="src context/++resource++icons/login.png"
            /><input size="6" type="text" name="login" tal:attributes="value request/login | nothing"
            /><input type="password" size="8" name="password"
            /><input type="image" src="images/enter.png" tal:attributes="src context/++resource++icons/enter.png" value="ENTER"
            /><input type="hidden" name="save" value="on"/></form></div>
      </div>
      <div id="bottombreadcrumb">  </div> 
  </div> 

 <div id="smartbanner" metal:define-macro="smartbanner" tal:content="structure context/@@smartbannerview"/> 

</body>
</html>
</metal:block>

