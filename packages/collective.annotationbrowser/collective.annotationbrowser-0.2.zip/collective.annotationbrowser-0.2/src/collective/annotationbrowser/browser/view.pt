<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="collective.annotationbrowser">

<body>

    <div metal:fill-slot="main" 
         tal:define="ann_dict view/ann_dict;
                     num_blacklisted view/num_blacklisted">
        <h1>Annotations of <span tal:replace="context/Title">Title</span></h1>
        <dl tal:condition="ann_dict">
            <p tal:condition="num_blacklisted" 
               i18n:translate="text_has_blacklisted">
                <span tal:replace="num_blacklisted" i18n:name="number">5</span>
                  blacklisted key(s) found.
            </p>
            <tal:block tal:repeat="ann ann_dict/keys">
                <dt><a href="" 
                       tal:attributes="href string:${context/absolute_url}/++annotation++${ann}"
                       tal:content="ann">KEY</a>&nbsp;
                    <a tal:attributes="href string:${context/absolute_url}/ann_remove?keyname=${ann}"
                       title="DELETE KEY">X</a></dt>
                <dd tal:content="ann_dict/?ann/value">VALUE</dd>
            </tal:block>
        </dl>
        <p tal:condition="not:ann_dict">
            There are no annotation keys available.
            <span tal:condition="num_blacklisted" 
                  i18n:translate="text_has_blacklisted">
                <span tal:replace="num_blacklisted" i18n:name="number">5</span>
                blacklisted key(s) found.
            </span>
        </p>
        <a href="" tal:attributes="href string:${context/absolute_url}/ann_edit">edit</a>
    </div>
    
</body>
</html>