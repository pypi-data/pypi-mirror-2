<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="collective.annotationbrowser">

<body>

    <div metal:fill-slot="main" 
         tal:define="ann_dict view/ann_dict;
                     num_blacklisted view/num_blacklisted">
        <h1>Annotations of <span tal:replace="context/Title">Title</span> (edit)</h1>
        <form action="#" tal:attributes="action string:${context/absolute_url}/ann_edit_save"
              method="POST">
            <dl tal:condition="ann_dict">
                <p tal:condition="num_blacklisted" 
                   i18n:translate="text_has_blacklisted">
                    <span tal:replace="num_blacklisted" i18n:name="number">5</span>
                      blacklisted key(s) found.
                </p>
                <tal:block tal:repeat="ann ann_dict/keys">
                    <dt tal:content="ann">KEY</dt>
                    <dd tal:condition="not:ann_dict/?ann/editable" tal:content="ann_dict/?ann/value">VALUE</dd>
                    <dd tal:condition="ann_dict/?ann/editable">
                        <input type="text" 
                               tal:attributes="name string:${ann}:${ann_dict/?ann/typ};
                                               value ann_dict/?ann/value" />
                        <span tal:content="ann_dict/?ann/typ">TYP</span>
                    </dd>
                </tal:block>
            </dl>
            <p tal:condition="not:ann_dict">
                There are no annotation keys available.
                <span tal:condition="num_blacklisted" 
                      i18n:translate="text_has_blacklisted">
                    <span tal:replace="num_blacklisted" i18n:name="number">5</span>
                    blacklisted key(s) found.
                </span>
            </p>
            <input type="hidden" name="form.submitted" value="1" />
            <input type="submit" name="submit" class="destructive" value="submit" />
            <input type="submit" name="cancel" class="context" value="cancel" />
        </form>
    </div>
    
</body>
</html>