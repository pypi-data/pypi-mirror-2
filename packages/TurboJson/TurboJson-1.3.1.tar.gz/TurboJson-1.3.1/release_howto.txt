Making a TurboJson release How-to
=================================

:Author: Florent Aide
:Author: Christopher Arndt
:Date: 2010-09-19
:Revision: 3

.. note:: Howto started by Florent, please correct, improve, etc...

1) Make sure all tests pass and setup.py contains the desired
   version number.

   .. note::
        The TurboJson trunk starting with version 1.2 removed the dependency on
        RuleDispatch and uses PEAK-Rules instead. TurboJson versions >= 1.2 are
        intended to be used with TurboGears 1.1.x. If you want to update
        TurboJson for TurboGears 1.0.x, please use the TurboJson 1.1 branch.

   You should run the tests with Python 2.4 to 2.7, and various versions
   of SQLObject and SQLAlchemy (e.g. SQLAlchemy 0.3.10, 0.4.6, 0.5.x, 0.6.x).
   Also check with the minimum required and current versions of PEAK-Rules.

2) Create the eggs with the desired Python version using the following
   command line. This command will ignore the version numbers and svn
   tagging put in the setup.cfg file::

        python setup.py egg_info -RDb "" sdist bdist_egg

3) Upload the eggs to the TurboGears Egg Basket (http://pypi.turbogears.org):

        python setup.py egg_info -RDb "" sdist bdist_egg upload -r http://pypi.turbogears.org/upload

4) Upload the eggs to the Cheese Shop (http://pypi.python.org)::

        python setup.py egg_info -RDb "" sdist bdist_egg register upload

5) Create a tag in SVN and increase the version number in the trunk.

6) Announce at the ML, etc, etc...
