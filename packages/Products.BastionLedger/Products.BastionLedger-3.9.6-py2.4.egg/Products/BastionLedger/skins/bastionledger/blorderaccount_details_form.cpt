<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="bastionledger">
 
<body>
 
    <div metal:fill-slot="main"
         tal:define="errors options/state/getErrors;
                     lockable python:hasattr(here, 'wl_isLocked');
                     isLocked python:lockable and here.wl_isLocked();">


      <h1><img src="" alt="" tal:define="icon python:context.getIcon(1)" tal:attributes="src string:${utool}/${icon}">&nbsp;<span tal:replace="here/prettyTitle"/></h1>

        <a href=""
           class="link-parent"
           tal:define="ledger_url python:context.navigationParent(context.aq_parent, template.getId())"
           tal:condition="ledger_url"
           tal:attributes="href ledger_url"
           i18n:translate="go_to_ledger_url">
        Ledger
        </a>

      <div class="formHelp">Contact and delivery details of the account. The actual account-holder could
          maintain this.  If the email address matches a portal-member's email then that person is linked
          to the account if they wish to do this.</div>

      <form name="edit_form"  action="."  method="post"  enctype="multipart/form-data"
            tal:attributes="action string:${here/getId}/${template/getId}" >


          <div class="field"
               tal:define="error errors/title|nothing;
                           Title request/title | here/Title;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="title" i18n:translate="label_title">Title</label>

            <span class="fieldRequired" title="Required"
                  i18n:attributes="title"
                  i18n:translate="label_required">(Required)</span>

            <div tal:content="error">Validation error output</div>

            <input type="text" id="title" name="title" value="" size="40"
                   tabindex="" tal:attributes="value Title; tabindex tabindex/next;"/>

          </div>

          <div class="field"
               tal:define="error errors/title|nothing;
                           Description request/description | here/Description;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="title" i18n:translate="label_title">Description</label>

            <div tal:content="error">Validation error output</div>

            <textarea id="description" rows="3" name="description" tabindex="" 
                      tal:content="Description" tal:attributes="tabindex tabindex/next;"/>

          </div>

          <div class="field"
               tal:define="error errors/address|nothing;
                           Address request/address | here/address;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label>Address</label>

            <div tal:content="error">Validation error output</div>

            <textarea id="address:text" name="address"  tabindex="" rows="6"
                      tal:attributes="tabindex tabindex/next;" tal:content="Address"/>

          </div>

          <div class="field"
               tal:define="error errors/contact|nothing;
                           Contact request/contact | here/contact;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="type" i18n:translate="label_type">Contact Person</label>

            <div tal:content="error">Validation error output</div>
            <input type="text" id="contact" name="contact" value="" size="40"
                   tabindex="" tal:attributes="value Contact; tabindex tabindex/next;"/>

          </div>

          <div class="field"
               tal:define="error errors/phone|nothing;
                           Phone request/phone | here/phone;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="phone" i18n:translate="label_phone">Phone</label>

            <div tal:content="error">Validation error output</div>

            <input type="text" name="phone" value=""
                         tal:attributes="value here/phone"/>
          </div>

          <div class="field"
               tal:define="error errors/fax|nothing;
                           Fax request/fax | here/fax;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="fax" i18n:translate="label_fax">Fax</label>

            <div tal:content="error">Validation error output</div>

            <input type="text" name="fax" value=""
                         tal:attributes="value here/fax"/>
          </div>

          <div class="field"
               tal:define="error errors/email|nothing;
                           Email request/email | here/email;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="email" i18n:translate="label_email">Email</label>

            <span class="fieldRequired" title="Required"
                  i18n:attributes="email"
                  i18n:translate="label_required">(Required)</span>

            <div tal:content="error">Validation error output</div>

            <input type="text" name="email" value="" size="30"
                         tal:attributes="value here/email"/>
          </div>

          <div class="field"
               tal:define="error errors/shiptoname|nothing;
                           Shiptoname request/shiptoname | here/shiptoname;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="shiptoname" i18n:translate="label_shiptoname">Ship to Name</label>

            <div tal:content="error">Validation error output</div>

            <input type="text" id="shiptoname" name="shiptoname" value="" size="40"
                   tabindex="" tal:attributes="value Shiptoname; tabindex tabindex/next;"/>

          </div>


          <div class="field"
               tal:define="error errors/shiptoaddress|nothing;
                           Shiptoaddress request/shiptoaddress | here/shiptoaddress;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label>Ship to Address</label>

            <div tal:content="error">Validation error output</div>

            <textarea id="shiptoaddress:text" name="shiptoaddress" value="" tabindex=""
                      tal:attributes="tabindex tabindex/next;" tal:content="Shiptoaddress"/>

          </div>

          <div class="field"
               tal:define="error errors/shiptocontact|nothing;
                           Shiptocontact request/shiptocontact | here/shiptocontact;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="type" i18n:translate="label_type">Ship to Contact</label>

            <div tal:content="error">Validation error output</div>

            <input type="text" id="shiptocontact" name="shiptocontact" value="" size="40"
                   tabindex="" tal:attributes="value Shiptocontact; tabindex tabindex/next;"/>

          </div>

          <div class="field"
               tal:define="error errors/shiptophone|nothing;
                           Shiptophone request/shiptophone | here/shiptophone;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="shiptophone" i18n:translate="label_shiptophone">Ship to Phone</label>

            <div tal:content="error">Validation error output</div>

            <input type="text" name="shiptophone" value=""
                         tal:attributes="value here/shiptophone"/>
          </div>

          <div class="field"
               tal:define="error errors/shiptofax|nothing;
                           Shiptofax request/shiptofax | here/shiptofax;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="shiptofax" i18n:translate="label_shiptofax">Ship to Fax</label>

            <div tal:content="error">Validation error output</div>

            <input type="text" name="shiptofax" value=""
                         tal:attributes="value here/shiptofax"/>
          </div>

          <div class="field"
               tal:define="error errors/shiptoemail|nothing;
                           Shiptoemail request/shiptoemail | here/shiptoemail;"
               tal:attributes="class python:test(error, 'field error', 'field')">

            <label for="shiptoemail" i18n:translate="label_shiptoemail">Ship to Email</label>

            <div tal:content="error">Validation error output</div>

            <input type="text" name="shiptoemail" value="" size="30"
                         tal:attributes="value here/shiptoemail"/>
          </div>

          <div class="formControls"
               tal:define="process_creation request/process_creation|nothing;">

            <img src="" class="context"
                   tal:define="locked portal/lock_icon.gif;"
                   tal:condition="isLocked"
                   tal:replace="structure python:locked.tag(title='This item is locked')"
                   alt="Object locked"
                   i18n:attributes="alt"/>

            <input class="context"
                   tabindex=""
                   type="submit"
                   name="form.button.Save"
                   value="Save"
                   i18n:attributes="value"
                   tal:attributes="tabindex tabindex/next;
                                   disabled python:test(isLocked, 'disabled', None);" />

          </div>

        <input type="hidden" name="form.submitted" value="1" />

      </form>

      <!--div metal:use-macro="here/document_byline/macros/byline">
        Get the byline - contains details about author and modification date.
      </div-->

    </div>
 
</body>
</html>
