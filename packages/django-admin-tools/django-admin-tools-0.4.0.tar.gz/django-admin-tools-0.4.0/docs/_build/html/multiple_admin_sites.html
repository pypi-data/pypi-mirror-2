

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Working with multiple admin sites &mdash; django-admin-tools v0.4.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-admin-tools v0.4.0 documentation" href="index.html" />
    <link rel="next" title="The django-admin-tools menu and menu items API" href="menu.html" />
    <link rel="prev" title="Customization of the django-admin-tools modules" href="customization.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="menu.html" title="The django-admin-tools menu and menu items API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="customization.html" title="Customization of the django-admin-tools modules"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">django-admin-tools v0.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="working-with-multiple-admin-sites">
<span id="multiple-admin-sites"></span><h1>Working with multiple admin sites<a class="headerlink" href="#working-with-multiple-admin-sites" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Django supports custom admin sites, and of course you can have as many
admin sites as you want, django-admin-tools provides basic support for
this, you can setup a custom dashboard for each admin site.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Multiple admin site support in django-admin-tools is, at the moment,
limited to dashboards. This means you cannot have different menus or
theming for each instance of admin sites. This will change in the near
near future though.</p>
</div>
</div>
<div class="section" id="setting-up-a-different-dashboard-for-each-admin-site-instance">
<h2>Setting up a different dashboard for each admin site instance<a class="headerlink" href="#setting-up-a-different-dashboard-for-each-admin-site-instance" title="Permalink to this headline">¶</a></h2>
<p>In the following example we will assume that you have two admin site
instances: the default django admin site and a custom admin site of your
own. In your urls, you should have something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">yourproject.admin</span> <span class="kn">import</span> <span class="n">admin_site</span>

<span class="n">admin</span><span class="o">.</span><span class="n">autodiscover</span><span class="p">()</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="p">(</span><span class="s">r&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
    <span class="p">(</span><span class="s">r&#39;^myadmin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">admin_site</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Now to configure your dashboards, you could do:</p>
<div class="highlight-python"><pre>python manage.py customdashboard django_admin_dashboard.py
python manage.py customdashboard my_admin_dashboard.py</pre>
</div>
<p>And to tell django-admin-tools to use your custom dashboards depending on
the admin site being used, you just have to add the following to your project
settings file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ADMIN_TOOLS_INDEX_DASHBOARD</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;django.contrib.admin.site&#39;</span><span class="p">:</span> <span class="s">&#39;yourproject.django_admin_dashboard.CustomIndexDashboard&#39;</span><span class="p">,</span>
    <span class="s">&#39;yourproject.admin.admin_site&#39;</span><span class="p">:</span> <span class="s">&#39;yourproject.my_admin_dashboard.CustomIndexDashboard&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the same applies for the <tt class="docutils literal"><span class="pre">ADMIN_TOOLS_APP_INDEX_DASHBOARD</span></tt>
settings variable.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Working with multiple admin sites</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#setting-up-a-different-dashboard-for-each-admin-site-instance">Setting up a different dashboard for each admin site instance</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="customization.html"
                        title="previous chapter">Customization of the django-admin-tools modules</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="menu.html"
                        title="next chapter">The django-admin-tools menu and menu items API</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/multiple_admin_sites.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="menu.html" title="The django-admin-tools menu and menu items API"
             >next</a> |</li>
        <li class="right" >
          <a href="customization.html" title="Customization of the django-admin-tools modules"
             >previous</a> |</li>
        <li><a href="index.html">django-admin-tools v0.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, David Jean Louis.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
  </body>
</html>