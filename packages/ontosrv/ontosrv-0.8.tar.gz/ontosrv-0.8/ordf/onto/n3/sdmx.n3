@prefix rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:     <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdfg:     <http://www.w3.org/2004/03/trix/rdfg-1/> .
@prefix xsd:      <http://www.w3.org/2001/XMLSchema#> .
@prefix fresnel:  <http://www.w3.org/2004/09/fresnel#> .
@prefix dc:       <http://purl.org/dc/terms/> .
@prefix foaf:     <http://xmlns.com/foaf/0.1/> .
@prefix ordf:     <http://purl.org/NET/ordf/> .
@prefix sdmx:        <http://purl.org/linked-data/sdmx#> .
@prefix sdmxconcept: <http://purl.org/linked-data/sdmx/2009/concept#> .
@prefix sdmxdim:     <http://purl.org/linked-data/sdmx/2009/dimension#> .
@prefix sdmxattr:    <http://purl.org/linked-data/sdmx/2009/attribute#> .
@prefix sdmxmeasure: <http://purl.org/linked-data/sdmx/2009/measure#> .
@prefix sdmxcode:    <http://purl.org/linked-data/sdmx/2009/code#> .
@prefix sdmxsubject: <http://purl.org/linked-data/sdmx/2009/subject#> .
@prefix :            <http://ordf.org/lens/sdmx#> .

<http://ordf.org/lens/sdmx> a rdfg:Graph ;
	rdfs:label "SDMX Statistical Data" ;
	ordf:lens <http://ordf.org/lens/fresnel> .

:DataSet a fresnel:Lens ;
	fresnel:purpose fresnel:defaultLens ;
	fresnel:classLensDomain sdmx:DataSet ;
	fresnel:group :sdmxGroup ; 
	fresnel:showProperties (
		rdfs:label
		dc:title
		dc:description
		rdfs:comment
        dc:isPartOf
        dc:source
        sdmx:structure
        sdmx:slice
		fresnel:allProperties
	) ;
    fresnel:hideProperties (
        rdf:type
        ordf:lens
    ) .

:TimeSeries a fresnel:Lens ;
    fresnel:purpose fresnel:defaultLens;
    fresnel:classLensDomain sdmx:TimeSeries;
    fresnel:group :sdmxGroup;
    fresnel:showProperties (
        sdmx:dataSet
        [ a fresnel:PropertyDescription ;
            fresnel:property sdmx:observation ;
            fresnel:sublens :Observation ]
        fresnel:allProperties
    ) ;
    fresnel:hideProperties (
        ordf:lens
        rdf:type
    ) .

:Observation a fresnel:Lens ;
    fresnel:purpose fresnel:defaultLens ;
    fresnel:instanceLensDomain sdmx:Observation;
    fresnel:group :sdmxGroup;
    fresnel:showProperties (
        sdmxdim:refPeriod
        sdmx:obsValue
        fresnel:allProperties
    ) ;
    fresnel:hideProperties (
        rdf:type
    ) .

:sdmxGroup a fresnel:Group ;
	fresnel:stylesheetLink <http://ordf.org/css/fresnel.css> ;
    fresnel:stylesheetLink <http://eu5.okfn.org/wdmmg/css/sdmx.css> .

:labelFormat a fresnel:Format ;
	fresnel:propertyFormatDomain rdfs:label ;
	fresnel:label fresnel:none ;
	fresnel:propertyStyle "h1_container"^^fresnel:styleClass ;
	fresnel:valueStyle "h1"^^fresnel:styleClass ;
	fresnel:group :sdmxGroup .

:titleFormat a fresnel:Format ;
	fresnel:propertyFormatDomain dc:title ;
	fresnel:label "Title" ;
	fresnel:group :sdmxGroup .

:descriptionFormat a fresnel:Format ;
	fresnel:propertyFormatDomain dc:description ;
	fresnel:label "Description" ;
	fresnel:group :sdmxGroup .

:commentFormat a fresnel:Format ;
	fresnel:propertyFormatDomain rdfs:comment ;
	fresnel:label "Comment" ;
	fresnel:group :sdmxGroup .

:depictionFormat a fresnel:Format ;
	fresnel:propertyFormatDomain foaf:depiction ;
	fresnel:label fresnel:none ;
	fresnel:value fresnel:image ;
	fresnel:propertyStyle "display: block; width: 100%;"^^fresnel:stylingInstructions ;
	fresnel:group :sdmxGroup .

:dataSetFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dc:isPartOf;
    fresnel:propertyFormatDomain sdmx:dataSet;
    fresnel:label "Part of";
    fresnel:group :sdmxGroup .

:sourceFormat a fresnel:Format ;
    fresnel:propertyFormatDomain dc:source;
    fresnel:label "Derived from";
    fresnel:group :sdmxGroup .

:sliceFormat a fresnel:Format ;
    fresnel:propertyFormatDomain sdmx:slice;
    fresnel:label "Contains slice";
    fresnel:group :sdmxGroup .

:observationFormat a fresnel:Format ;
    fresnel:propertyFormatDomain sdmx:observation ;
    fresnel:label "Observation" ;
	fresnel:propertyStyle "sdmx_obs"^^fresnel:styleClass ;
    fresnel:group :sdmxGroup .

:refPeriodFormat a fresnel:Format ;
    fresnel:propertyFormatDomain sdmxdim:refPeriod ;
    fresnel:label "Time";
    fresnel:group :sdmxGroup.

:valueFormat a fresnel:Format;
    fresnel:propertyFormatDomain sdmx:obsValue;
    fresnel:label "Value";
    fresnel:group :sdmxGroup.

:unitFormat a fresnel:Format;
    fresnel:propertyFormatDomain sdmxattr:unitMeasure;
    fresnel:label "Units";
    fresnel:group :sdmxGroup.
