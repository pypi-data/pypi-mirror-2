<html xmlns="http:///www.w3.org/1999/xhtml"
  xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  lang="en"
  i18n:domain="collective.types.externalsearch">

  <body>
    
      <div class="cte_external-search">

	<a href="#somelink"
	    tal:attributes="href context/getTitleLink|nothing"
	    tal:omit-tag="not:context/getTitleLink|nothing">
	<label tal:content="context/Title"
	       class="cte_external-search-group_item_title"
	       tal:attributes="for context/id_string">
	  [Title]
	</label>
	</a>
	
	<!-- The icon representing the site to be searched. -->
	<img tal:replace="structure context/getImage|nothing" />
       
	<form method="post" 
	      tal:attributes="action context/getActionURL;
                              method context/getFormMethod;
                              name   string:${context/id_string}_form;
			      target python:context.getNewWindow() and '_blank' or None;"
	      name="external_searchform">
        
        <tal:fields
         tal:define="fields context/getHiddenFields">
            <input type="hidden"
                   tal:repeat="field fields"
                   tal:attributes="value field/fieldValue;
                                   name  field/fieldName;"
            />
        
        </tal:fields>
          <input type="text"
                 tal:attributes="name  context/getSearchBoxName;
                                 value context/getSearchBoxValue|nothing;
                                 id    context/id_string;"
                 />
	  <input tal:define="name context/getSubmitName|nothing;
			     value context/getSubmitValue|nothing"
		 tal:attributes="name python:name and name or None;
                                 value python:value and value or None;"
		 type="submit"
                 value="Search" />
	</form>
      </div>

  </body>

</html>