<configure
   xmlns="http://namespaces.zope.org/zope"
   xmlns:browser="http://namespaces.zope.org/browser"
   xmlns:z3c="http://namespaces.zope.org/z3c"
   i18n_domain="ice.control">

  <adapter factory=".xmlbase.XMLBase" />
  <adapter factory=".xmlnice.XMLReadContainer" />
  <adapter factory=".xmlnice.XMLSite" />

  <z3c:pagelet
     for="ice.control.browser.interfaces.IControl"
     name="tree.html"
     class=".tree.Pagelet"
     layer="z3c.layer.pagelet.IPageletBrowserLayer"
     permission="zope.ManageServices"
     provides="ice.control.browser.interfaces.IControlPagelet"
     title="Tree"
     weight="10"
     />

  <z3c:template
     for=".tree.Pagelet"
     layer="z3c.layer.pagelet.IPageletBrowserLayer"
     template="tree.pt"
     />

  <browser:defaultView
     for="ice.control.browser.interfaces.IControl"
     name="tree.html"
     />

  <browser:page
     name="getControlTreeNode.xml"
     class=".ajax.Ajax"
     attribute="getControlTreeNode"
     permission="zope.ManageServices"
     />

  <browser:page
     name="getControlTreeChildren.xml"
     class=".ajax.Ajax"
     attribute="getControlTreeChildren"
     permission="zope.ManageServices"
     />

  <!--
      Details menu
      -->
  
  <browser:menu
     id="control_details"
     title="Object Details"
     />

  <browser:page
     for="*"
     name="getControlDetailsMenu"
     template="menu.pt"
     permission="zope.ManageServices"
     />

  <include package=".resources" />

</configure>
