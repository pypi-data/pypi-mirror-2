{% extends "dashboard_app/base.html" %}

{% load i18n %}
{% load stylize %}

{% block title %}
{{ block.super }} | {% trans "Reports" %} | {{ report.title }}
{% endblock %}

{% block extrahead %}
{{ block.super }}
<!--[if IE]><script type="text/javascript" src="{{ STATIC_URL }}js/excanvas.min.js"></script><![endif]-->
<script type="text/javascript" src="{{ STATIC_URL }}lava/js/jquery-1.5.1.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}lava/js/jquery-ui-1.8.12.custom.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jquery.rpc.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jquery.flot.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jquery.dashboard.js"></script>
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}lava/css/Aristo/jquery-ui-1.8.7.custom.css"/>
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/pygments.css"/>
{% endblock %}


{% block breadcrumbs %}
<li><a href="{% url dashboard_app.views.report_list %}">{% trans "Reports" %}</a></li>
<li><a href="{{ report.get_absolute_url }}">{{ report.title }}</a></li>
{% endblock %}

{% block sidebar %}
<h3>Basic information</h3>
<dl>
  <dt>Title</dt>
  <dd>{{report.title}}</dd>
  <dt>Author</dt>
  <dd>{{report.author|default:"Unspecified"}}</dd>
  <dt>Bug report URL</dt>
  <dd>{{report.bug_report_url|default:"Unspecified"}}</dd>
</dl>
<h3>Third party content notice</h3>
<p>Reports are a combination of client side programs written in JavaScript
and sever side SQL queries. As such they are exposed to different JavaScript
implementations. If a report does not work correctly contact the author or
maintainer to debug the problem.</p> 
<h3>Source Code</h3>
<button id="show-source">Show source</button>
<script type="text/javascript">
  $(function() {
    $("#report-source").dialog({ autoOpen: false, modal: true, width: "auto", title: "Source code"});
    $("#show-source").button().click(function() {
      $("#report-source").dialog("open");
    });
  });
</script>
{% endblock %}


{% block content %}
{{ report.get_html|safe}}
<div id="report-source" style="display: none">
  {% stylize "html" %}{{ report.get_html }}{% endstylize %}
</div>
{% endblock %}
