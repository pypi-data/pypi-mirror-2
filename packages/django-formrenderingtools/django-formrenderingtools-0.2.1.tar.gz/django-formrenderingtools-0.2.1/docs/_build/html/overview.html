

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Overview &mdash; django-formrenderingtools v0.2.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-formrenderingtools v0.2.1 documentation" href="index.html" />
    <link rel="next" title="Installation" href="INSTALL.html" />
    <link rel="prev" title="django-formrenderingtools’s documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="INSTALL.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="django-formrenderingtools’s documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">django-formrenderingtools v0.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>This Django application provides tools for the web designer to customize
the rendering of forms in templates.</p>
<div class="section" id="rendering-forms-with-django-is-boring">
<h2>Rendering forms with Django is boring<a class="headerlink" href="#rendering-forms-with-django-is-boring" title="Permalink to this headline">¶</a></h2>
<p>For an introduction to Django forms, see the <a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/forms/">Django documentation about forms</a>.</p>
<p>The following section will point out some limitations of the Django&#8217;s standard
way to display forms in templates. Here is a short list of common problems:</p>
<ul class="simple">
<li>how to add CSS classes to the form elements?</li>
<li>how to display the fields in a different order than specified in the form&#8217;s
python class definition?</li>
<li>how to display only a subset of the form? How to display fieldsets?</li>
<li>how to customize only a few fields in the form?</li>
</ul>
<p>If you are already aware of these problems, you can read about
<a class="reference internal" href="#form-layouts-overview"><em>the form_layouts template tag library</em></a> in the
next section.</p>
<p>Otherwise, let&#8217;s begin by considering the following Django form:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>

<span class="k">class</span> <span class="nc">ContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">subject</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">sender</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">()</span>
    <span class="n">cc_myself</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Django&#8217;s standard way to render forms is to use the form.as_p() method or
similar:</p>
<div class="highlight-django"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">my_form.as_p</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>You get something like this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;id_subject&quot;</span><span class="nt">&gt;</span>Subject:<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;id_subject&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;subject&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;100&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;id_message&quot;</span><span class="nt">&gt;</span>Message:<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;message&quot;</span> <span class="na">id=</span><span class="s">&quot;id_message&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;id_sender&quot;</span><span class="nt">&gt;</span>Sender:<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;sender&quot;</span> <span class="na">id=</span><span class="s">&quot;id_sender&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;id_cc_myself&quot;</span><span class="nt">&gt;</span>Cc myself:<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name=</span><span class="s">&quot;cc_myself&quot;</span> <span class="na">id=</span><span class="s">&quot;id_cc_myself&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div>
<p>Seems magic...</p>
<p>HTML output is fully controlled by Python scripts. This is efficient, but the
template designer does not have control on it. This does not contribute to
the separation between logic and design.</p>
<p>Now, what if the template designer wants to add a &#8220;required&#8221; CSS class
attribute to the required fields in a form? He has to write code.
As explained in the the <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/forms/#customizing-the-form-template">Django documentation about form templates</a>,
you can write a loop:</p>
<div class="highlight-django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="k">in</span> <span class="nv">form</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;div class=&quot;fieldWrapper</span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.field.required</span> <span class="cp">%}</span><span class="x"> required</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x">&quot;&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">field.errors</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">field.label_tag</span> <span class="cp">}}</span><span class="x">: </span><span class="cp">{{</span> <span class="nv">field</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Now what if the template designer want to customize only one field in the form?
He has to write down the complete form. Here is an example where subject&#8217;s
help text is displayed before field, and message label is &#8220;Your message&#8221;:</p>
<div class="highlight-django"><div class="highlight"><pre><span class="x">&lt;div class=&quot;fieldWrapper&quot;&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.subject.errors</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.subject.label_tag</span> <span class="cp">}}</span><span class="x">:</span>
<span class="x">  &lt;span class=&quot;helptext&quot;&gt;</span><span class="cp">{{</span> <span class="nv">form.subject.help_text</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.subject</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
<span class="x">&lt;div class=&quot;fieldWrapper&quot;&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.message.errors</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  &lt;label for=&quot;id_message&quot;&gt;Your message:&lt;/label&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.message</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  &lt;span class=&quot;helptext&quot;&gt;</span><span class="cp">{{</span> <span class="nv">form.message.help_text</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
<span class="x">&lt;/div&gt;</span>
<span class="x">&lt;div class=&quot;fieldWrapper&quot;&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.sender.errors</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.sender.label_tag</span> <span class="cp">}}</span><span class="x">:</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.sender</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
<span class="x">&lt;div class=&quot;fieldWrapper&quot;&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.cc_myself.errors</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.cc_myself.label_tag</span> <span class="cp">}}</span><span class="x">:</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">form.cc_myself</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
<p>And what if you want to customize many fields in many forms? Then it gets
really boring, isn&#8217;t it?</p>
<p>The <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/forms/#reusable-form-templates">Django documentation about reusable form templates</a>
says:</p>
<div class="highlight-python"><pre>If you find yourself doing this often, you might consider creating a custom
inclusion tag.</pre>
</div>
<p>So, here comes django-formrenderingtools.
This application uses templates to render forms, wherever it is possible.
Default templates can be reused, and specific templates can be created if
necessary.</p>
</div>
<div class="section" id="introducing-the-form-layouts-template-tag-library">
<span id="form-layouts-overview"></span><h2>Introducing the &#8220;form_layouts&#8221; template tag library<a class="headerlink" href="#introducing-the-form-layouts-template-tag-library" title="Permalink to this headline">¶</a></h2>
<p>Consider the form used in the previous section.</p>
<p>Here is how you can use django-formrenderingtools to display it:</p>
<div class="highlight-django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">form_layouts</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">form</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Now, if you want to customize the &#8220;subject&#8221; field, create a
&#8220;form_layouts/contact/fields/subject.html&#8221; template.
Write &#8220;Hello world!&#8221; in this template.</p>
<p>By doing this, you have created a &#8220;contact&#8221; form layout (the directory name)
and a custom template for the &#8220;subject&#8221; field.
So the new template code is:</p>
<div class="highlight-django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">form_layouts</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">form</span> <span class="nv">layout</span><span class="o">=</span><span class="s2">&quot;contact&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Refresh your page. You should see &#8220;Hello world!&#8221; instead of the subject field.</p>
<p>Notice that the template name is important. If the template does not have
the &#8220;good&#8221; name, then the template tag will not be able to find it.
See <a class="reference internal" href="reference/template_names.html"><em>Template names and directory structure</em></a> for details.</p>
<p>Have a look on the &#8220;djc/formrenderingtools/templates/form_layouts/default/&#8221;
directory to get the default templates used by the &#8220;form_layouts&#8221;
template tags.</p>
<p>You can customize more fields, forms, labels by creating templates.</p>
<p>You can reuse the &#8220;contact&#8221; form layout for other forms.</p>
<p>You can override the default form layout so that it fits your coding
conventions.</p>
<p>Learn more by reading the <a class="reference internal" href="reference/index.html"><em>Reference</em></a> or <a class="reference internal" href="demo.html"><em>Demo project</em></a> sections of
this documentation.</p>
</div>
<div class="section" id="concepts">
<h2>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h2>
<p>The goal of this application is to provide a pack of template tags which helps
you render each element in a form: full form, list of fields, non field errors
(global errors), field errors (specific errors), field, label, help text...
It is intended to be simple to learn and easy to extend.</p>
<p>Every form element has a corresponding template tag, which uses templates to
generate the output. Template designers no longer rely on developers to
customize the form output.</p>
<p>This application provides a &#8220;form_layouts&#8221; template tag library
which itself provides the following template tags:</p>
<ul class="simple">
<li>form: renders a full form, i.e. non field errors, all fields, field
errors, labels and help texts</li>
<li>form_errors: renders global form errors, i.e. non field errors</li>
<li>field_list: renders a set of fields in a form, with corresponding
field errors, labels and help texts</li>
<li>field: renders a field, with field errors, label and help text</li>
<li>field_errors: renders errors related to a field</li>
<li>label: renders a field&#8217;s label</li>
<li>help_text: renders a field&#8217;s help text</li>
</ul>
<p>For a deeper description of each template tag, see
<a class="reference internal" href="reference/template_tags.html"><em>Template tags</em></a>.</p>
<p>This application uses a template-naming system that lets you reuse generic
templates or use specific ones, depending on your needs. You can reuse built-in
templates, override them or create your own templates. See
<a class="reference internal" href="reference/template_names.html"><em>Template names and directory structure</em></a> for details.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Overview</a><ul>
<li><a class="reference internal" href="#rendering-forms-with-django-is-boring">Rendering forms with Django is boring</a></li>
<li><a class="reference internal" href="#introducing-the-form-layouts-template-tag-library">Introducing the &#8220;form_layouts&#8221; template tag library</a></li>
<li><a class="reference internal" href="#concepts">Concepts</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">django-formrenderingtools&#8217;s documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="INSTALL.html"
                        title="next chapter">Installation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/overview.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="INSTALL.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="django-formrenderingtools’s documentation"
             >previous</a> |</li>
        <li><a href="index.html">django-formrenderingtools v0.2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, Benoit Bryon.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>