[buildout]
parts =
    docs
    filetemplates
    interpreter
    pylint
    tags
    test
unzip = true
develop = .

[interpreter]
recipe = z3c.recipe.scripts
interpreter = py
eggs =
    mailman

[tags]
recipe = z3c.recipe.tag:tags
eggs = mailman

[test]
recipe = zc.recipe.testrunner
eggs =
    mailman
defaults = '--tests-pattern ^tests --exit-with-status'.split()
# Hack in extra arguments to zope.testrunner.
initialization = from mailman.testing.layers import ConfigLayer;
    ConfigLayer.enable_stderr();
    ConfigLayer.set_root_directory('${buildout:directory}')

[docs]
recipe = z3c.recipe.sphinxdoc
eggs = mailman [docs]
index-doc = docs/README
default.css =
layout.html =
extensions = sphinxconf

[filetemplates]
recipe = z3c.recipe.filetemplate
source-directory = .buildout
package = mailman
eggs = mailman

[pylint]
recipe = z3c.recipe.scripts
eggs =
    pylint
entry-points = pylint=pylint.lint:Run
arguments = sys.argv[1:]
