

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Generating aliases &mdash; mailman v3.0.0a6 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.0.0a6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="mailman v3.0.0a6 documentation" href="../../index.html" />
    <link rel="next" title="Starting and stopping Mailman" href="control.html" />
    <link rel="prev" title="Mailman queue runner control" href="../../bin/docs/master.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="control.html" title="Starting and stopping Mailman"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../bin/docs/master.html" title="Mailman queue runner control"
             accesskey="P">previous</a> |</li>
        <li><a href="../../docs/README.html">mailman v3.0.0a6 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="generating-aliases">
<h1>Generating aliases<a class="headerlink" href="#generating-aliases" title="Permalink to this headline">¶</a></h1>
<p>For some mail servers, Mailman must generate a data file that is used to hook
Mailman up to the mail server.  The details of this differ for each mail
server.  Generally these files are automatically kept up-to-date when mailing
lists are created or removed, but you might occasionally need to manually
regenerate the file.  The &#8216;bin/mailman aliases&#8217; command does this.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">FakeArgs</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">output</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mailman.commands.cli_aliases</span> <span class="kn">import</span> <span class="n">Aliases</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command</span> <span class="o">=</span> <span class="n">Aliases</span><span class="p">()</span>
</pre></div>
</div>
<p>For example, connecting Mailman to Postfix is generally done through the LMTP
protocol.  Mailman starts an LMTP server and Postfix delivers messages to
Mailman as an LMTP client.  By default this is done through Postfix transport
maps.</p>
<p>Selecting Postfix as the source of incoming messages enables transport map
generation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s">&#39;postfix&#39;</span><span class="p">,</span> <span class="s">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s">[mta]</span>
<span class="gp">... </span><span class="s">incoming: mailman.mta.postfix.LMTP</span>
<span class="gp">... </span><span class="s">lmtp_host: lmtp.example.com</span>
<span class="gp">... </span><span class="s">lmtp_port: 24</span>
<span class="gp">... </span><span class="s">postfix_map_cmd: true</span>
<span class="gp">... </span><span class="s">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s create a mailing list and then display the transport map for it.  We&#8217;ll
send the output to stdout.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">FakeArgs</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="s">&#39;-&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlist</span> <span class="o">=</span> <span class="n">create_list</span><span class="p">(</span><span class="s">&#39;test@example.com&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">FakeArgs</span><span class="p">)</span>
<span class="go"># AUTOMATICALLY GENERATED BY MAILMAN ON ...</span>
<span class="go">#</span>
<span class="go"># This file is generated by Mailman, and is kept in sync with the ...</span>
<span class="go"># file.  YOU SHOULD NOT MANUALLY EDIT THIS FILE unless you know what you&#39;re</span>
<span class="go"># doing, and can keep the two files properly in sync.  If you screw it up,</span>
<span class="go"># you&#39;re on your own.</span>
<span class="go">&lt;BLANKLINE&gt;</span>
<span class="go"># Aliases which are visible only in the @example.com domain.</span>
<span class="go">&lt;BLANKLINE&gt;</span>
<span class="go">test@example.com               lmtp:[lmtp.example.com]:24</span>
<span class="go">test-bounces@example.com       lmtp:[lmtp.example.com]:24</span>
<span class="go">test-confirm@example.com       lmtp:[lmtp.example.com]:24</span>
<span class="go">test-join@example.com          lmtp:[lmtp.example.com]:24</span>
<span class="go">test-leave@example.com         lmtp:[lmtp.example.com]:24</span>
<span class="go">test-owner@example.com         lmtp:[lmtp.example.com]:24</span>
<span class="go">test-request@example.com       lmtp:[lmtp.example.com]:24</span>
<span class="go">test-subscribe@example.com     lmtp:[lmtp.example.com]:24</span>
<span class="go">test-unsubscribe@example.com   lmtp:[lmtp.example.com]:24</span>
<span class="go">&lt;BLANKLINE&gt;</span>
</pre></div>
</div>
<div class="section" id="clean-up">
<h2>Clean up<a class="headerlink" href="#clean-up" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;postfix&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../docs/README.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Generating aliases</a><ul>
<li><a class="reference internal" href="#clean-up">Clean up</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../../bin/docs/master.html"
                        title="previous chapter">Mailman queue runner control</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="control.html"
                        title="next chapter">Starting and stopping Mailman</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/commands/docs/aliases.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="control.html" title="Starting and stopping Mailman"
             >next</a> |</li>
        <li class="right" >
          <a href="../../bin/docs/master.html" title="Mailman queue runner control"
             >previous</a> |</li>
        <li><a href="../../docs/README.html">mailman v3.0.0a6 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright The Mailman Developers.
      Last updated on Sep 20, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>