<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="plone">
<body>

<!-- Navigation -->
<div class="listingBar"
     metal:define-macro="navigation"
     tal:define="request request|here/request|container/request|nothing;
                 batch batch|nothing;
                 template_id template_id|template/getId;
                 mq python:modules['ZTUtils'].make_query;
                 url here/absolute_url;
                 currentpage batch/pagenumber;
                 bv nocall:context/@@seobatching_view"
     tal:condition="python:batch.next or batch.previous">

    <span class="previous"
      tal:define="p batch/previous | nothing"
      tal:condition="p">
        <a href=""
           tal:attributes="href python:bv.pageurl(batch, url, b_start=p.first)">
           &laquo;
           <span i18n:translate="batch_previous_x_items" tal:omit-tag="">
               Previous
               <span i18n:name="number" tal:omit-tag="" tal:content="p/length">n</span>
               items
           </span>
        </a>
    </span> 

    <span class="next"
      tal:define="n batch/next | nothing"
      tal:condition="n">
        <a href=""
           tal:attributes="href python:bv.pageurl(batch, url, b_start=n.first)">
           <span i18n:translate="batch_next_x_items" tal:omit-tag="">
               Next
               <span i18n:name="number" tal:omit-tag="" tal:content="n/length">n</span>
               items
           </span>
           &raquo;
        </a>
    </span>

    <!-- Link to first -->
    <span tal:condition="python: 1 not in batch.navlist">
        <a href=""
           tal:attributes="href url">1</a>
        <span tal:condition="python: 2 not in (batch.prevlist or batch.leapback)"
              tal:omit-tag="">
           &hellip;
        </span>
    </span>

    <!-- Pagelist with quantum leap links to previous pages for quick navigation -->
    <span tal:repeat="linklist python:bv.navurls(batch, url, navlist=batch.leapback)"
          tal:condition="batch/leapback"
          tal:omit-tag="">
        <a href=""
           tal:content="python:linklist[0]"
           tal:attributes="href python:linklist[1]">
        </a>
        &hellip;
    </span>

    <!-- Pagelist with links to previous pages for quick navigation -->
    <span tal:repeat="linklist python:bv.prevurls(batch, url)"
          tal:condition="batch/prevlist"
          tal:omit-tag="">
        <a href=""
           tal:content="python:linklist[0]"
           tal:attributes="href python:linklist[1]">
        </a>
    </span>

    <!-- Current page -->
    <span tal:condition="batch/navlist" class="current"
           tal:content="batch/pagenumber">Current page number</span>

    <!-- Pagelist with links to next pages for quick navigation -->
    <span tal:repeat="linklist python:bv.nexturls(batch, url)"
          tal:condition="batch/nextlist"
          tal:omit-tag="">
        <a href=""
           tal:content="python:linklist[0]"
           tal:attributes="href python:linklist[1]">
        </a>
    </span>

    <!-- Pagelist with quantum leap links to next pages for quick navigation -->
    <span tal:repeat="linklist python:bv.navurls(batch, url, navlist=batch.leapforward)"
          tal:condition="batch/leapforward"
          tal:omit-tag="">
        &hellip;
        <a href=""
           tal:content="python:linklist[0]"
           tal:attributes="href python:linklist[1]">
        </a>
    </span>

    <!-- Link to last -->
    <span tal:condition="python:batch.numpages not in batch.navlist">
        <span tal:condition="python: batch.numpages - 1 not in (batch.nextlist or batch.leapforward)"
              tal:omit-tag="">
        &hellip;
        </span>
        <a href=""
           tal:attributes="href python:bv.pageurl(batch, url, pagenumber=batch.numpages)"
           tal:content="batch/numpages">3457</a>
    </span>

</div>

</body>
</html>