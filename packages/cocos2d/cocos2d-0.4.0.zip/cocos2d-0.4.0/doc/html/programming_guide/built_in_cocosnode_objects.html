<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>Built-in cocosnode objects</title>
<link rel="stylesheet" href="doc.css" type="text/css" />
</head>
<body>
<div class="document">
<div class="navigation navigation-header container">
<span class="previous">Previous: <a class="reference" href="cocosnodes.html" title="CocosNodes">CocosNodes</a></span><span class="next">Next: <a class="reference" href="creating_your_own_objects.html" title="Creating your own objects">Creating your ...</a></span><span class="breadcrumbs"><a class="reference" href="index.html" title="Programming Guide">Programming Guide</a> » <a class="reference" href="cocosnodes.html" title="CocosNodes">CocosNodes</a> » Built-in cocosnode objects</span></div>
<h1 class="title">Built-in cocosnode objects</h1>

<div class="section" id="cocosnode">
<h1><a class="toc-backref" href="#id106">CocosNode</a></h1>
<p>In cocos2d, every object that is part of an scene is a <a class="reference apilink" href="../api/cocos.cocosnode.CocosNode-class.html " title="cocos.cocosnode.CocosNode">CocosNode</a> object.
For example:</p>
<blockquote>
<ul class="simple">
<li>sprites</li>
<li>labels</li>
<li>menus</li>
<li>layers</li>
<li>scenes</li>
</ul>
</blockquote>
<p>Every <cite>CocosNode</cite> object has these attributes
<em>(see below for some exceptions)</em> :</p>
<blockquote>
<ul class="simple">
<li>position</li>
<li>color</li>
<li>opacity</li>
<li>scale</li>
<li>rotation</li>
<li>visible</li>
<li>camera</li>
<li>grid</li>
</ul>
</blockquote>
<p>and these attributes can be modified manually.
Example:</p>
<pre class="py-doctest">
<span class="py-comment"># place the sprite in 320,240</span>
sprite.position = (320,240)</pre>
<p>or by using actions.
Example:</p>
<pre class="py-doctest">
<span class="py-comment"># move the sprite to 320,240 in 5 seconds</span>
sprite.do( MoveTo( (320,240, duration=2 ) )</pre>
<p>You can modify these attributes to <strong>any</strong> <cite>CocosNode</cite> object.
For example:</p>
<pre class="py-doctest">
scene.do( ScaleTo(2, duration=2) )

layer.do( RotateBy(360, duration=3) )

sprite.do( Blink(5, duration=1 ) )

label.do( JumpBy( (100,100), 50, 5, duration=3) )</pre>
<p>Another important feature common to <strong>any</strong> <cite>CocosNode</cite> object, is that
is is also a container, it can have children.
For example:</p>
<pre class="py-doctest">
<span class="py-comment"># a scene with 2 layers</span>
scene.add( background_layer, z=0 )
scene.add( game_layer, z=1 )

<span class="py-comment"># the layer with 1 sprite</span>
game_layer.add( sprite )

<span class="py-comment"># the sprite, with 2 sprites</span>
sprite.add( ship1_sprite )
sprite.add( ship2_sprite )</pre>
<p>and you can remove any children from any <cite>CocosNode</cite> object
using <em>remove</em>. For example:</p>
<pre class="py-doctest">
layer.add( sprite1 )
layer.add( sprite2, name=<span class="py-string">&quot;car&quot;</span> )

<span class="py-comment"># remove by reference</span>
layer.remove( sprite )

<span class="py-comment"># remove by name</span>
layer.remove( <span class="py-string">&quot;car&quot;</span> )</pre>
<p>Note that in current cocos if you add with name then you should remove by name,
else the name will become unusable for new additions.</p>
<p>In case you want to obtain a reference to a certain named child, you can
use <em>get</em>.
Example:</p>
<pre class="py-doctest">
layer.add( sprite1, name=<span class="py-string">&quot;car&quot;</span>)

<span class="py-more">...</span>

car_sprite = layer.get(<span class="py-string">&quot;car&quot;</span>)</pre>
</div>
<div class="section" id="scene">
<h1><a class="toc-backref" href="#id107">Scene</a></h1>
<p>In the common case, contains all elements visible on the app window.</p>
<blockquote>
<p>These properties are not available:</p>
<blockquote>
<ul class="simple">
<li>color</li>
<li>opacity</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="section" id="layer">
<h1><a class="toc-backref" href="#id108">Layer</a></h1>
<blockquote>
<blockquote>
TODO: explain <a class="reference apilink" href="../api/cocos.layer.base_layers.Layer-class.html " title="cocos.layer.base_layers.Layer">Layer</a></blockquote>
<p>These properties are not available:</p>
<blockquote>
<ul class="simple">
<li>color</li>
<li>opacity</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="section" id="scrollingmanager">
<h1><a class="toc-backref" href="#id109">ScrollingManager</a></h1>
<blockquote>
<p>These properties are not available:</p>
<blockquote>
<ul class="simple">
<li>color</li>
<li>opacity</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="section" id="scrollablelayer">
<h1><a class="toc-backref" href="#id110">ScrollableLayer</a></h1>
<blockquote>
<p>These properties are not available:</p>
<blockquote>
<ul class="simple">
<li>color</li>
<li>opacity</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="section" id="sprite">
<h1><a class="toc-backref" href="#id111">Sprite</a></h1>
<p>Sprites allows to display a image in a rectangular area, which can be rotated,
scaled and moved.
The placement in the scene follows the standard CocosNode rules.
Also, all stock actions will work with sprites.</p>
<div class="section" id="animating-a-sprite">
<h2><a class="toc-backref" href="#id112">Animating a sprite</a></h2>
<p>Animation as in cartoon style animation, that is, replacing the image fast
enough to give the illusion of movement, can be accomplished by:</p>
<blockquote>
<ul class="simple">
<li>using an animated .gif file as source for the image</li>
<li>passing a pyglet.image.Animation as image, which collects a number of images</li>
<li>have an array of images and let your code assign to the sprite image member</li>
</ul>
</blockquote>
</div>
<div class="section" id="performance-considerations">
<h2><a class="toc-backref" href="#id113">Performance Considerations</a></h2>
<p>Sprites are not suitable for effects that piles a lot of semitransparent images
to build an effect like smoke or poissoning fog. Use particle systems or custom
CocosNode s managing vertex lists for that.</p>
<p>If your scene has less than 25 sprites, you can add directly to the
scene, like:</p>
<pre class="py-doctest">
<span class="py-keyword">class</span> <span class="py-defname">TLayer</span>(cocos.layer.Layer):
   is_event_handler = True
   <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self):
      cocos.layer.Layer.__init__(self)
      world_width, world_height = director.get_window_size()
      rand_color = [255, 0, 0]
      icolor = 0
      <span class="py-keyword">for</span> i <span class="py-keyword">in</span> range(qty_balls):
         ball = Ball((world_width*random.random(), world_height*random.random()), color=rand_color)
         rand_color[icolor] = random.randint(50, 255)
         icolor = (icolor + 1)%len(rand_color)
         self.add(ball)
      self.time = 0.0
      self.schedule(self.update)</pre>
<p>When you have between 25 and 100 visible sprites, moving at each frame, you
should add one or more BatchNode s at some level in the scene and add the
sprites to them. Even only one batch can give you 4x fps:</p>
<pre class="py-doctest">
<span class="py-keyword">class</span> <span class="py-defname">TLayer</span>(cocos.layer.Layer):
   is_event_handler = True
   <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self):
      cocos.layer.Layer.__init__(self)
      batch = cocos.batch.BatchNode()
      self.add(batch) <span class="py-comment"># we add a batch to the layer ...</span>
      world_width, world_height = director.get_window_size()
      rand_color = [255, 0, 0]
      icolor = 0
      <span class="py-keyword">for</span> i <span class="py-keyword">in</span> range(100):
         ball = Ball((world_width*random.random(), world_height*random.random()), color=rand_color)
         rand_color[icolor] = random.randint(50, 255)
         icolor = (icolor + 1)%len(rand_color)
         batch.add(ball) <span class="py-comment"># see ? we add sprites to the batch, not the layer</span>
      self.batch = batch
      self.time = 0.0
      self.schedule(self.update)</pre>
<p>With more than 100 visible, moving at each frame sprites, you will need to
optimize further to run at 60 fps in weak hardware like netbooks, old desktops,
cheap new dewstops.
You can look at cocos particle systems and the section graphics in pyglet
programing guide for ideas.</p>
</div>
</div>
<div class="section" id="labels">
<h1><a class="toc-backref" href="#id114">Labels</a></h1>
<p><cite>Label</cite> s provide the most simple text display.
Font family, font size, position, color, opacity and align can be specified.</p>
<p><cite>HTMLLabel</cite> s is a slightly more powerful label, it can use mixed styles. Uses HTML syntax for text and styles.</p>
<blockquote>
<p>These properties are not available:</p>
<blockquote>
<ul class="simple">
<li>camera</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="section" id="colorlayer">
<h1><a class="toc-backref" href="#id115">ColorLayer</a></h1>
<blockquote>
TODO: explain <a class="reference apilink" href="../api/cocos.layer.util_layers.ColorLayer-class.html " title="cocos.layer.util_layers.ColorLayer">ColorLayer</a></blockquote>
</div>
<div class="section" id="menu">
<h1><a class="toc-backref" href="#id116">Menu</a></h1>
<blockquote>
<blockquote>
<p>TODO: explain <a class="reference apilink" href="../api/cocos.menu.Menu-class.html " title="cocos.menu.Menu">Menu</a></p>
<p>TODO: explain <a class="reference apilink" href="../api/cocos.layer.base_layers.MultiplexLayer-class.html " title="cocos.layer.base_layers.MultiplexLayer">MultiplexLayer</a></p>
</blockquote>
<p>These properties are not available:</p>
<blockquote>
<ul class="simple">
<li>color</li>
<li>opacity</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="section" id="menuitem">
<h1><a class="toc-backref" href="#id117">MenuItem</a></h1>
<blockquote>
<blockquote>
<p>TODO: explain <a class="reference apilink" href="../api/cocos.menu.MenuItem-class.html " title="cocos.menu.MenuItem">MenuItem</a></p>
<p>TODO: explain <a class="reference apilink" href="../api/cocos.menu.MultipleMenuItem-class.html " title="cocos.menu.MultipleMenuItem">MultipleMenuItem</a></p>
<p>TODO: explain <a class="reference apilink" href="../api/cocos.menu.ToggleMenuItem-class.html " title="cocos.menu.ToggleMenuItem">ToggleMenuItem</a></p>
<p>TODO: explain <a class="reference apilink" href="../api/cocos.menu.EntryMenuItem-class.html " title="cocos.menu.EntryMenuItem">EntryMenuItem</a></p>
<p>TODO: explain pre-defined actions: <a class="reference apilink" href="../api/cocos.menu-module.html#shake " title="cocos.menu.shake">shake</a> , <a class="reference apilink" href="../api/cocos.menu-module.html#shake_back " title="cocos.menu.shake_back">shake_back</a> ,
<a class="reference apilink" href="../api/cocos.menu-module.html#zoom_in " title="cocos.menu.zoom_in">zoom_in</a> and <a class="reference apilink" href="../api/cocos.menu-module.html#zoom_out " title="cocos.menu.zoom_out">zoom_out</a></p>
</blockquote>
<p>These properties are not available:</p>
<blockquote>
<ul class="simple">
<li>color</li>
<li>opacity</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="navigation navigation-footer container">
<span class="previous">Previous: <a class="reference" href="cocosnodes.html" title="CocosNodes">CocosNodes</a></span><span class="next">Next: <a class="reference" href="creating_your_own_objects.html" title="Creating your own objects">Creating your ...</a></span><span class="breadcrumbs"><a class="reference" href="index.html" title="Programming Guide">Programming Guide</a> » <a class="reference" href="cocosnodes.html" title="CocosNodes">CocosNodes</a> » Built-in cocosnode objects</span></div>
</div>
</body>
</html>
