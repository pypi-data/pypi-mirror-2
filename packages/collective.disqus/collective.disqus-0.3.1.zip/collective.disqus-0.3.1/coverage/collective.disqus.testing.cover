       
       
    1: from plone.app.testing import PloneSandboxLayer
    1: from plone.app.testing import applyProfile
    1: from plone.app.testing import PLONE_FIXTURE
    1: from plone.app.testing import PLONE_INTEGRATION_TESTING
    1: from plone.app.testing import PLONE_FUNCTIONAL_TESTING
    1: from plone.app.testing import IntegrationTesting
    1: from plone.app.testing import FunctionalTesting
       
    1: from zope.configuration import xmlconfig
       
       
    2: class DisqusFixture(PloneSandboxLayer):
       
    1:     defaultBases = (PLONE_FIXTURE,)
       
    1:     def setUpZope(self, app, configurationContext):
    1:         import collective.disqus
    1:         xmlconfig.file('configure.zcml', collective.disqus,
    1:                        context=configurationContext)
       
    1:     def setUpPloneSite(self, portal):
    1:         applyProfile(portal, 'collective.disqus:default')
       
       
    1: DISQUS_FIXTURE = DisqusFixture()
    1: DISQUS_INTEGRATION_TESTING = IntegrationTesting(
    1:         bases=(PLONE_INTEGRATION_TESTING, DISQUS_FIXTURE,),
    1:         name="Disqus:Integration")
    1: DISQUS_FUNCTIONAL_TESTING = FunctionalTesting(
    1:         bases=(PLONE_FUNCTIONAL_TESTING, DISQUS_FIXTURE,),
    1:         name="Disqus:Functional")
