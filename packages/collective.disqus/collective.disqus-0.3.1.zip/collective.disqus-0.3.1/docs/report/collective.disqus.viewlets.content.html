
    <html>
      <head><title>Test coverage for collective.disqus.viewlets.content</title>
      <style type="text/css">
        a {text-decoration: none; display: block; padding-right: 1em;}
        a:hover {background: #EFA;}
        hr {height: 1px; border: none; border-top: 1px solid gray;}
        .notcovered {background: #FCC;}
        .footer {margin: 2em; font-size: small; color: gray;}
      </style>
      </head>
      <body><h1>Test coverage for collective.disqus.viewlets.content</h1>
      <table>
    
<tr><td><a href="collective.html">collective/</a></td> <td style="background: orange">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 82% (15 of 86 uncovered)</td></tr>
<tr><td><a href="collective.disqus.html">&nbsp;&nbsp;&nbsp;&nbsp;disqus/</a></td> <td style="background: orange">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 82% (15 of 86 uncovered)</td></tr>
<tr><td><a href="collective.disqus.viewlets.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewlets/</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 50% (10 of 20 uncovered)</td></tr>
<tr><td><a href="collective.disqus.viewlets.content.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content.py</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 47% (10 of 19 uncovered)</td></tr>
</table><hr/>
<pre>
       <I><FONT COLOR="#B22222"># -*- coding: utf-8 -*-
</FONT></I>       
    1: <B><FONT COLOR="#A020F0">from</FONT></B> Acquisition <B><FONT COLOR="#A020F0">import</FONT></B> aq_inner
    1: <B><FONT COLOR="#A020F0">from</FONT></B> Products.CMFCore.utils <B><FONT COLOR="#A020F0">import</FONT></B> getToolByName
    1: <B><FONT COLOR="#A020F0">from</FONT></B> Products.Five.browser.pagetemplatefile <B><FONT COLOR="#A020F0">import</FONT></B> ViewPageTemplateFile
    1: <B><FONT COLOR="#A020F0">from</FONT></B> plone.app.layout.viewlets <B><FONT COLOR="#A020F0">import</FONT></B> ViewletBase
       
    1: <B><FONT COLOR="#A020F0">from</FONT></B> collective.disqus.browser.configlet <B><FONT COLOR="#A020F0">import</FONT></B> IDisqusSettings
       
       
    2: <B><FONT COLOR="#A020F0">class</FONT></B> DisqusViewlet(ViewletBase):
           <B><FONT COLOR="#BC8F8F">&quot;&quot;&quot;
           Viewlet that for DISQUS comment system.
           http://disqus.com/comments/universal
    1:     &quot;&quot;&quot;</FONT></B>
    1:     index = ViewPageTemplateFile(<B><FONT COLOR="#BC8F8F">&quot;disqus_panel.pt&quot;</FONT></B>)
       
    1:     <B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">update</FONT></B>(self):
               <B><FONT COLOR="#BC8F8F">&quot;&quot;&quot;
               Update parameters used to render template.
               &quot;&quot;&quot;</FONT></B>
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         super(DisqusViewlet, self).update()</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         portal_discussion = getToolByName(self.context,</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;                                           <B><FONT COLOR="#BC8F8F">'portal_discussion'</FONT></B>, None)</div>       
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         self.is_discussion_allowed = False</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         <B><FONT COLOR="#A020F0">if</FONT></B> portal_discussion <B><FONT COLOR="#A020F0">is</FONT></B> <B><FONT COLOR="#A020F0">not</FONT></B> None:</div>                   self.is_discussion_allowed = \
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;                     portal_discussion.isDiscussionAllowedFor(</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;                         aq_inner(self.context))</div>       
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         portal_url = getToolByName(self.context, <B><FONT COLOR="#BC8F8F">'portal_url'</FONT></B>)</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         portal = portal_url.getPortalObject()</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         self.settings = IDisqusSettings(portal)</div></pre>

      <div class="footer">
      Generated for revision exportado on 2010-08-13 04:01:57.740756Z
      </div>
    </body>
    </html>
