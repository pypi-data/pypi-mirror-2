
    <html>
      <head><title>Test coverage for collective.disqus.browser.summary</title>
      <style type="text/css">
        a {text-decoration: none; display: block; padding-right: 1em;}
        a:hover {background: #EFA;}
        hr {height: 1px; border: none; border-top: 1px solid gray;}
        .notcovered {background: #FCC;}
        .footer {margin: 2em; font-size: small; color: gray;}
      </style>
      </head>
      <body><h1>Test coverage for collective.disqus.browser.summary</h1>
      <table>
    
<tr><td><a href="collective.html">collective/</a></td> <td style="background: orange">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 82% (15 of 86 uncovered)</td></tr>
<tr><td><a href="collective.disqus.html">&nbsp;&nbsp;&nbsp;&nbsp;disqus/</a></td> <td style="background: orange">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 82% (15 of 86 uncovered)</td></tr>
<tr><td><a href="collective.disqus.browser.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;browser/</a></td> <td style="background: yellow">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 90% (4 of 42 uncovered)</td></tr>
<tr><td><a href="collective.disqus.browser.summary.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;summary.py</a></td> <td style="background: red">&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>covered 60% (4 of 10 uncovered)</td></tr>
</table><hr/>
<pre>
       <I><FONT COLOR="#B22222"># -*- coding: utf-8 -*-
</FONT></I>       
    1: <B><FONT COLOR="#A020F0">from</FONT></B> Products.Five.browser <B><FONT COLOR="#A020F0">import</FONT></B> BrowserView
    1: <B><FONT COLOR="#A020F0">from</FONT></B> Products.CMFCore.utils <B><FONT COLOR="#A020F0">import</FONT></B> getToolByName
       
    1: <B><FONT COLOR="#A020F0">from</FONT></B> collective.disqus.browser.configlet <B><FONT COLOR="#A020F0">import</FONT></B> IDisqusSettings
       
       
    2: <B><FONT COLOR="#A020F0">class</FONT></B> Summary(BrowserView):
           <B><FONT COLOR="#BC8F8F">&quot;&quot;&quot; Summary listing (for Folder, Topic) with showing number of comments per
               item in the list.
    1:     &quot;&quot;&quot;</FONT></B>
       
    1:     <B><FONT COLOR="#A020F0">def</FONT></B> <B><FONT COLOR="#0000FF">render_js_settings</FONT></B>(self):
               <B><FONT COLOR="#BC8F8F">&quot;&quot;&quot;
               js for getting number of comments for each item in summary listing.
               &quot;&quot;&quot;</FONT></B>
       
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         portal_url = getToolByName(self.context, <B><FONT COLOR="#BC8F8F">'portal_url'</FONT></B>)</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         portal = portal_url.getPortalObject()</div><div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;         self.settings = IDisqusSettings(portal)</div>       
               <B><FONT COLOR="#A020F0">return</FONT></B> <B><FONT COLOR="#BC8F8F">''''
                   var disqus_shortname = '$(forum_id)s';
                   (function () {
                     var s = document.createElement('script'); s.async = true;
                     s.src = 'http://disqus.com/forums/$(forum_id)s/count.js';
                     (document.getElementsByTagName('HEAD')[0] || document
                              .getElementsByTagName('BODY')[0]).appendChild(s);
<div class="notcovered">&gt;&gt;&gt;&gt;&gt;&gt;             }());'''</FONT></B> % dict(forum_id = self.settings.forum_id)</div></pre>

      <div class="footer">
      Generated for revision exportado on 2010-08-13 04:01:57.740756Z
      </div>
    </body>
    </html>
