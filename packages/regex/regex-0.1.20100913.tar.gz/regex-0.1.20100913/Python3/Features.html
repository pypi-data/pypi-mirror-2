<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.7: http://docutils.sourceforge.net/" />
<title></title>
<link rel="stylesheet" href="C:/Python26.4/Tools/docutils/docutils/writers/html4css1/html4css1.css" type="text/css" />
</head>
<body>
<div class="document">


<div class="section" id="note">
<h1>Note</h1>
<p>For testing and comparison with the current 're' module the new implementation is in the form of a module called 'regex'.</p>
<p>Please note that certain aspects of this module have changed from those of previous versions to make it conform better to the 're' module.</p>
</div>
<div class="section" id="flags">
<h1>Flags</h1>
<p>There are 2 kinds of flag: scoped and global. Scoped flags can apply to only part of a pattern and can be turned on or off; global flags apply to the entire pattern and can only be turned on.</p>
<p>The scoped flags are: <tt class="docutils literal">IGNORECASE</tt>, <tt class="docutils literal">MULTILINE</tt>, <tt class="docutils literal">DOTALL</tt>, <tt class="docutils literal">VERBOSE</tt>, <tt class="docutils literal">WORD</tt>.</p>
<p>The global flags are: <tt class="docutils literal">ASCII</tt>, <tt class="docutils literal">LOCALE</tt>, <tt class="docutils literal">NEW</tt>, <tt class="docutils literal">REVERSE</tt>, <tt class="docutils literal">UNICODE</tt>.</p>
<p>The <tt class="docutils literal">NEW</tt> flag turns on the new behaviour of this module, which can differ from that of the 're' module, such as splitting on zero-width matches, inline flags affecting only what follows, and being able to turn inline flags off.</p>
<p>Note: The <tt class="docutils literal">ZEROWIDTH</tt> flag which was in previous versions of this module has been removed. The <tt class="docutils literal">NEW</tt> flag should be used instead.</p>
</div>
<div class="section" id="notes-on-named-capture-groups">
<h1>Notes on named capture groups</h1>
<p>All capture groups have a group number, starting from 1.</p>
<p>Groups with the same group name will have the same group number, and groups with a different group name will have a different group number.</p>
<p>The same group name can be used on different branches of an alternation because they are mutually exclusive, eg. <tt class="docutils literal"><span class="pre">(?P&lt;foo&gt;first)|(?P&lt;foo&gt;second)</span></tt>. They will, of course, have the same group number.</p>
<p>Group numbers will be reused, where possible, across different branches of a branch reset, eg. <tt class="docutils literal"><span class="pre">(?|(first)|(second))</span></tt> has only group 1. If capture groups have different group names then they will, of course, have different group numbers, eg. <tt class="docutils literal"><span class="pre">(?|(?P&lt;foo&gt;first)|(?P&lt;bar&gt;second))</span></tt> has group 1 (&quot;foo&quot;) and group 2 (&quot;bar&quot;).</p>
</div>
<div class="section" id="additional-features">
<h1>Additional features</h1>
<ul>
<li><p class="first">Atomic grouping (issue #433030)</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">(?&gt;...)</span></tt></p>
<p>If the following pattern subsequently fails, then the subpattern as a whole will fail.</p>
</blockquote>
</li>
<li><dl class="first docutils">
<dt>Possessive quantifiers.</dt>
<dd><p class="first"><tt class="docutils literal"><span class="pre">(?:...)?+</span></tt> ; <tt class="docutils literal"><span class="pre">(?:...)*+</span></tt> ; <tt class="docutils literal"><span class="pre">(?:...)++</span></tt> ; <tt class="docutils literal"><span class="pre">(?:...){min,max}+</span></tt></p>
<p class="last">The subpattern is matched up to 'max' times. If the following pattern subsequently fails, then all of the repeated subpatterns will fail as a whole. For example, <tt class="docutils literal"><span class="pre">(?:...)++</span></tt> is equivalent to <tt class="docutils literal"><span class="pre">(?&gt;(?:...)+)</span></tt>.</p>
</dd>
</dl>
</li>
<li><p class="first">Scoped flags (issue #433028)</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">(?flags-flags:...)</span></tt></p>
<p>The flags will apply only to the subpattern. Flags can be turned on or off.</p>
</blockquote>
</li>
<li><p class="first">Inline flags (#433024, #433027)</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">(?flags-flags)</span></tt></p>
<p>If the <tt class="docutils literal">NEW</tt> flag is turned on then the flags will apply to the end of the group or pattern and can be turned on or off. If the <tt class="docutils literal">NEW</tt> flag isn't turned on then the flags will be global and can't be turned off.</p>
</blockquote>
</li>
<li><p class="first">Repeated repeats (#2537)</p>
<blockquote>
<p>A regex like <tt class="docutils literal"><span class="pre">((x|y+)*)*</span></tt> will be accepted and will work correctly, but should complete more quickly.</p>
</blockquote>
</li>
<li><p class="first">Definition of 'word' character (#1693050)</p>
<blockquote>
<p>The definition of a 'word' character has been expanded for Unicode. This applies to <tt class="docutils literal">\w</tt>, <tt class="docutils literal">\W</tt>, <tt class="docutils literal">\b</tt> and <tt class="docutils literal">\B</tt>.</p>
</blockquote>
</li>
<li><p class="first">Groups in lookahead and lookbehind (#814253)</p>
<blockquote>
<p>Groups and group references are permitted in both lookahead and lookbehind.</p>
</blockquote>
</li>
<li><p class="first">Variable-length lookbehind</p>
<blockquote>
<p>A lookbehind can match a variable-length string.</p>
</blockquote>
</li>
<li><p class="first">Correct handling of charset with ignore case flag (#3511)</p>
<blockquote>
<p>Ranges within charsets are handled correctly when the ignore-case flag is turned on.</p>
</blockquote>
</li>
<li><p class="first">Unmatched group in replacement (#1519638)</p>
<blockquote>
<p>An unmatched group is treated as an empty string in a replacement template.</p>
</blockquote>
</li>
<li><p class="first">'Pathological' patterns (#1566086, #1662581, #1448325, #1721518, #1297193)</p>
<blockquote>
<p>'Pathological' patterns should complete more quickly.</p>
</blockquote>
</li>
<li><p class="first">Flags argument for regex.split, regex.sub and regex.subn (#3482)</p>
<blockquote>
<p><tt class="docutils literal">regex.split</tt>, <tt class="docutils literal">regex.sub</tt> and <tt class="docutils literal">regex.subn</tt> support a 'flags' argument.</p>
</blockquote>
</li>
<li><p class="first">'Overlapped' argument for regex.findall and regex.finditer</p>
<blockquote>
<p><tt class="docutils literal">regex.findall</tt> and <tt class="docutils literal">regex.finditer</tt> support an 'overlapped' flag which permits overlapped matches.</p>
</blockquote>
</li>
<li><p class="first">Unicode escapes (#3665)</p>
<blockquote>
<p>The Unicode escapes <tt class="docutils literal">\uxxxx</tt> and <tt class="docutils literal">\Uxxxxxxxx</tt> are supported.</p>
</blockquote>
</li>
<li><p class="first">Large patterns (#1160)</p>
<blockquote>
<p>Patterns can be much larger.</p>
</blockquote>
</li>
<li><p class="first">Zero-width match with regex.finditer (#1647489)</p>
<blockquote>
<p><tt class="docutils literal">regex.finditer</tt> behaves correctly when it splits at a zero-width match.</p>
</blockquote>
</li>
<li><p class="first">Zero-width split with regex.split (#3262)</p>
<blockquote>
<p><tt class="docutils literal">regex.split</tt> can split at a zero-width match if the <tt class="docutils literal">NEW</tt> flag is turned on. When the flag is turned off the current behaviour is unchanged because the BDFL thinks that some existing software might depend on it.</p>
</blockquote>
</li>
<li><p class="first">Splititer</p>
<blockquote>
<p><tt class="docutils literal">regex.splititer</tt> has been added. It's a generator equivalent of <tt class="docutils literal">regex.split</tt>.</p>
</blockquote>
</li>
<li><p class="first">Subscripting for groups</p>
<blockquote>
<p>A match object accepts access to the captured groups via subscripting and slicing:</p>
<pre class="doctest-block">
&gt;&gt;&gt; m = regex.search(r&quot;(?P&lt;before&gt;.*?)(?P&lt;num&gt;\d+)(?P&lt;after&gt;.*)&quot;, &quot;pqr123stu&quot;)
&gt;&gt;&gt; print m[&quot;before&quot;]
pqr
&gt;&gt;&gt; print m[&quot;num&quot;]
123
&gt;&gt;&gt; print m[&quot;after&quot;]
stu
&gt;&gt;&gt; print len(m)
4
&gt;&gt;&gt; print m[:]
('pqr123stu', 'pqr', '123', 'stu')
</pre>
</blockquote>
</li>
<li><p class="first">Named groups</p>
<blockquote>
<p>Groups can be named with <tt class="docutils literal"><span class="pre">(?&lt;name&gt;...)</span></tt> as well as the current <tt class="docutils literal"><span class="pre">(?P&lt;name&gt;...)</span></tt>.</p>
</blockquote>
</li>
<li><p class="first">Group references</p>
<blockquote>
<p>Groups can be referenced within a pattern with <tt class="docutils literal">\g&lt;name&gt;</tt>. This also allows there to be more than 99 groups.</p>
</blockquote>
</li>
<li><p class="first">Named characters</p>
<blockquote>
<p><tt class="docutils literal">\N{name}</tt></p>
<p>Named characters are supported.</p>
</blockquote>
</li>
<li><p class="first">Unicode codepoint properties, blocks and scripts</p>
<blockquote>
<p><tt class="docutils literal">\p{name}</tt> ; <tt class="docutils literal">\P{name}</tt></p>
<p>Unicode properties, blocks and scripts are supported. <tt class="docutils literal">\p{name}</tt> matches a character which has property 'name' and <tt class="docutils literal">\P{name}</tt> matches a character which doesn't have property 'name'.</p>
<p>In order to avoid ambiguity, block names should start with <tt class="docutils literal">In</tt> and script names should start with <tt class="docutils literal">Is</tt>. If a name lacks such a prefix and it could be a block or a script, script will take priority, for example:</p>
<ol class="arabic simple">
<li><tt class="docutils literal">InBasicLatin</tt> or <tt class="docutils literal">BasicLatin</tt>, the 'BasicLatin' <strong>block</strong>.</li>
<li><tt class="docutils literal">IsLatin</tt> or <tt class="docutils literal">Latin</tt>, the 'Latin' <strong>script</strong>.</li>
<li><tt class="docutils literal">InCyrillic</tt>, the 'Cyrillic' <strong>block</strong>.</li>
<li><tt class="docutils literal">IsCyrillic</tt> or <tt class="docutils literal">Cyrillic</tt>, the 'Cyrillic' <strong>script</strong>.</li>
</ol>
</blockquote>
</li>
<li><p class="first">Posix character classes</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">[[:alpha:]]</span></tt></p>
<p>Posix character classes are supported.</p>
</blockquote>
</li>
<li><p class="first">Search anchor</p>
<blockquote>
<p><tt class="docutils literal">\G</tt></p>
<p>A search anchor has been added. It matches at the position where each search started/continued and can be used for contiguous matches or in negative variable-length lookbehinds to limit how far back the lookbehind goes:</p>
<pre class="doctest-block">
&gt;&gt;&gt; regex.findall(r&quot;\w{2}&quot;, &quot;abcd ef&quot;)
['ab', 'cd', 'ef']
&gt;&gt;&gt; regex.findall(r&quot;\G\w{2}&quot;, &quot;abcd ef&quot;)
['ab', 'cd']
</pre>
<ol class="arabic simple">
<li>The search starts at position 0 and matches 2 letters 'ab'.</li>
<li>The search continues at position 2 and matches 2 letters 'cd'.</li>
<li>The search continues at position 4 and fails to match any letters.</li>
<li>The anchor stops the search start position from being advanced, so there are no more results.</li>
</ol>
</blockquote>
</li>
<li><p class="first">Reverse searching</p>
<blockquote>
<p>Searches can now work backwards:</p>
<pre class="doctest-block">
&gt;&gt;&gt; regex.findall(r&quot;.&quot;, &quot;abc&quot;)
['a', 'b', 'c']
&gt;&gt;&gt; regex.findall(r&quot;(?r).&quot;, &quot;abc&quot;)
['c', 'b', 'a']
</pre>
<p>Note: the result of a reverse search is not necessarily the reverse of a forward search:</p>
<pre class="doctest-block">
&gt;&gt;&gt; regex.findall(r&quot;..&quot;, &quot;abcde&quot;)
['ab', 'cd']
&gt;&gt;&gt; regex.findall(r&quot;(?r)..&quot;, &quot;abcde&quot;)
['de', 'bc']
</pre>
</blockquote>
</li>
<li><p class="first">Multithreading</p>
<blockquote>
<p>The regex module now releases the GIL when matching, enabling other Python threads to run concurrently.</p>
</blockquote>
</li>
<li><p class="first">Matching a single grapheme</p>
<blockquote>
<p><tt class="docutils literal">\X</tt></p>
<p>The grapheme matcher is supported. It's equivalent to <tt class="docutils literal"><span class="pre">\P{M}\p{M}*</span></tt>.</p>
</blockquote>
</li>
<li><p class="first">Branch reset</p>
<blockquote>
<p>(?|...|...)</p>
<p>Capture group numbers will be reused across the alternatives.</p>
</blockquote>
</li>
<li><p class="first">Default Unicode word boundary</p>
<blockquote>
<p>The <tt class="docutils literal">WORD</tt> flag changes the definition of a 'word boundary' to that of a default Unicode word boundary. This applies to <tt class="docutils literal">\b</tt> and <tt class="docutils literal">\B</tt>.</p>
<p>Please note: I'm unsure whether I've understood the specification correctly, so if you're using this feature I'd be interested in any feedback.</p>
</blockquote>
</li>
</ul>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference external" href="Features.rst">View document source</a>.
Generated on: 2010-09-13 04:14 UTC.
Generated by <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>
</body>
</html>
