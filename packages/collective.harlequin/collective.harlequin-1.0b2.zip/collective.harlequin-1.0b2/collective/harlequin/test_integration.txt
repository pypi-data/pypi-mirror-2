An integration doctest
======================

    >>> from Products.Five.testbrowser import Browser
    >>> browser = Browser()
    >>> portal_url = self.portal.absolute_url()
    >>> self.portal.error_log._ignored_exceptions = ()
    >>> browser.open(portal_url)


Login as admin

    >>> from Products.PloneTestCase.setup import portal_owner, default_password
    >>> browser.getControl(name='__ac_name').value = portal_owner
    >>> browser.getControl(name='__ac_password').value = default_password
    >>> browser.getControl(name='submit').click()
    >>> "You are now logged in" in browser.contents
    True

Lets try to apply base harlequin view to the newsfolder

    >>> browser.open(portal_url+'/news/selectViewTemplate?templateId=harlequin')
    >>> browser.url
    'http://nohost/plone/news/'

Validate the configuration form, and make some assertions

    >>> browser.getControl('Save').click()
    >>> browser.url
    'http://nohost/plone/news/view'
    >>> browser.contents
    'default harlequin view\n'

If recall the setTemplateView you must again fill the form:

    >>> browser.open(portal_url+'/news/selectViewTemplate?templateId=harlequin')
    >>> browser.getControl('Save').click()
    >>> browser.url
    'http://nohost/plone/news/view'
    >>> browser.contents
    'default harlequin view\n'
    