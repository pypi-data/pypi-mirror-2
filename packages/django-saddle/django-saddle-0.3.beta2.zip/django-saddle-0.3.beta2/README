===============
 django-saddle
===============


Начало работы над проектом
==========================

1. Создать начальную структуру проекта (например, скопировав файлы шаблона
   из папки tmpl).

2. Создать виртуальное окружение, указать путь к нему в
   ``project/settings_local.py`` и установить зависимости
   (``pip install -E /path/to/env -r pip.req`` или ``./pipw -r req.pip``).

3. Отредактировать ``project/settings.py``, чтобы настройки соответствовали
   проекту.

4. Создать базу и синхронизировать её (``manage.py syncdb``).

5. Применить миграции, если они есть в указанных в настройках приложениях
   (``manage.py migrate``).


Деплоймент на продакш-сервер
============================

1. Залить файлы проекта на сервер (например, путём клонирования репозитория
   проекта в папку с виртульным хостом).

2. Создать виртуальное окружение и установить зависимости
   (``pip install -E /path/to/env -r pip.req`` или ``./pipw -r req.pip``).

3. Создать файл локальных настроек (``project/settings_local.py``) и указать
   в нём настройки окружения.

4. Создать и синхронизировать базу (``manage.py syncdb``).

5. Применить миграции, если они есть в указанных в настройках приложениях
   (``manage.py migrate``).

6. Создать конфигурационные файлы для веб-сервера. Модуль ``saddle.handlers``
   содержит обработчики для включения проекта в конфигурацию веб-сервера.

7. Перезагрузить веб-сервер.


Обновление продакшн-версии
==========================

1. Обновить файлы проекта.

2. Если это необходимо, обновить зависимости
   (команда аналогична команде установки).

3. Если есть неприменённые миграции, прменить их (``manage.py migrate``).

4. Перезагрузить веб-сервер.
