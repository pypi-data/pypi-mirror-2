# -*- mode: python; coding: utf-8 -*-
# tsp comment

# section foo comment
FOO_TYPE: VALUE

EOF
EOF
# All from here is ignored

 >>> mro = unmarshal.create(tsp_filter, 1)[0]
 >>> tsp = mro.load(__file__) or None
 >>> assert len(tsp) == 3 # count first comment
 

 # verify there are 2 comments and 1 section
 >>> assert len(tsp.comments) == 2
 >>> assert len(tsp.sections) == 1
 >>> assert len(tsp.contents) == 0

# verify section only contains header elements
 >>> assert hasattr(tsp.foo, 'section')
 >>> assert not hasattr(tsp.foo, 'content')

# verify section contents
 >>> assert tsp.sections.foo.name == 'FOO'
 >>> assert tsp.sections.foo.value == 'FOO_TYPE'
 >>> assert len(tsp.sections.foo.comments) == 1
 >>> assert tsp.foo.section.values[0](str) == 'VALUE'

# Unmarshal tests
 >>> uro = marshal.create(tsp_filter, 1)[0]
 >>> out = uro.dump(tsp)
 >>> assert mro.load(out) == tsp

