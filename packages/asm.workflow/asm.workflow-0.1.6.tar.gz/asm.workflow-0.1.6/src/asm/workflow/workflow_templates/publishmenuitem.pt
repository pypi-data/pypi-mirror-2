<div id="version" class="section expandable">
    <h3>Workflow</h3>

    <ul class="">
        <li tal:repeat="version viewlet/list_versions"
            tal:attributes="class version/class">
            <a tal:attributes="href string:${version/edition/@@absolute_url}/@@edit">
                <span tal:replace="version/label"/>
            </a>
        </li>
    </ul>

    <ul>
        <li tal:condition="viewlet/is_draft">
            <form tal:attributes="action python:view.url(context, 'publish')" method="post"><input id="publish" type="submit" value="Publish draft" class="button"/></form></li>
        <li tal:condition="python:viewlet.is_public() and viewlet.has_draft()"
            class="expand"><form tal:attributes="action
            python:view.url(context, '@@delete-public')" method="post"><input type="submit" value="Delete public version" class="button"/></form></li>
        <li tal:condition="python:viewlet.has_public()"
            class="expand"><form tal:attributes="action
            python:view.url(context, '@@create-draft')" method="post"><input
            type="submit" value="Create draft" class="button"
            tal:attributes="value python:viewlet.has_draft() and 'Revert draft' or 'Create draft'"/></form></li>
        <li tal:condition="python:viewlet.is_draft() and viewlet.has_public()"
            class="expand"><form tal:attributes="action
            python:view.url(context, '@@delete-draft')" method="post"><input
            type="submit" value="Delete draft" class="button"/></form></li>
    </ul>

    <div class="opener">
        <span class="closed"><span class="ui-icon ui-icon-carat-1-s"></span></span>
        <span class="open"> <span class="ui-icon ui-icon-carat-1-n"></span></span>
    </div>

</div>
