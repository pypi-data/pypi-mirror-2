
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reference &mdash; solrpy v0.9.2 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="solrpy v0.9.2 documentation" href="index.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">solrpy v0.9.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-solr">
<span id="reference"></span><h1>Reference<a class="headerlink" href="#module-solr" title="Permalink to this headline">¶</a></h1>
<div class="section" id="data-representation">
<h2>Data representation<a class="headerlink" href="#data-representation" title="Permalink to this headline">¶</a></h2>
<p>Solr documents are simple collections of named fields; the fields may be
multi-valued, depending on the Solr schema being used.</p>
<p>In Python, these documents are modeled as dictionaries with the field
names as keys and field values (or sets of values) as values.  When
multiple values are presented to Solr, the value in the dictionary must
be a list, tuple or set.  (A <tt class="docutils literal"><span class="pre">frozenset</span></tt> is not accepted.)</p>
<p>Values may be strings (<tt class="docutils literal"><span class="pre">str</span></tt> or <tt class="docutils literal"><span class="pre">unicode</span></tt>), dates, datetimes, bools,
or <tt class="xref docutils literal"><span class="pre">None</span></tt>.  Field values of <tt class="xref docutils literal"><span class="pre">None</span></tt> are omitted from the values
submitted to Solr.</p>
<p><tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> values are converted to UTC.</p>
<p><tt class="docutils literal"><span class="pre">datetime.date</span></tt> values are converted to <tt class="docutils literal"><span class="pre">datetime.datetime</span></tt> values
at 00:00:00 with an assumed timezone of UTC.</p>
<p><tt class="docutils literal"><span class="pre">bool</span></tt> values are converted to the string values <tt class="docutils literal"><span class="pre">'true'</span></tt> or
<tt class="docutils literal"><span class="pre">'false'</span></tt>.</p>
</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-solr" title="solr: Convenient interface to Solr search services."><tt class="xref py py-mod docutils literal"><span class="pre">solr</span></tt></a> module provides everything you&#8217;ll need.  There&#8217;s an
exception that might be raised by many operations:</p>
<dl class="exception">
<dt id="solr.SolrException">
<em class="property">exception </em><tt class="descclassname">solr.</tt><tt class="descname">SolrException</tt><big>(</big><em>httpcode</em>, <em>reason=None</em>, <em>body=None</em><big>)</big><a class="headerlink" href="#solr.SolrException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>An exception thrown by solr connections.</p>
<p>Detailed information is provided in attributes of the exception object.</p>
<dl class="attribute">
<dt id="solr.SolrException.httpcode">
<tt class="descname">httpcode</tt><a class="headerlink" href="#solr.SolrException.httpcode" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP response code from Solr.</p>
</dd></dl>

<dl class="attribute">
<dt id="solr.SolrException.reason">
<tt class="descname">reason</tt><a class="headerlink" href="#solr.SolrException.reason" title="Permalink to this definition">¶</a></dt>
<dd><p>Error message from the HTTP response sent by Solr.</p>
</dd></dl>

<dl class="attribute">
<dt id="solr.SolrException.body">
<tt class="descname">body</tt><a class="headerlink" href="#solr.SolrException.body" title="Permalink to this definition">¶</a></dt>
<dd><p>Response body returned by Solr.</p>
<p>This can contain much more information about the error, including
tracebacks from the Java runtime.</p>
</dd></dl>

</dd></dl>

<p>These exceptions, along with others, can be raised by the connection
objects that are provided.</p>
</div>
<div class="section" id="connections">
<h2>Connections<a class="headerlink" href="#connections" title="Permalink to this headline">¶</a></h2>
<p>There are two flavors of connection objects; one is provided to support
older applications, and the other provides more rational (and powerful)
access to commit controls.</p>
<p>Both connection classes are designed to work with the 2.2 response
format generated by Solr 1.2 and newer, but will likely work with the
older 2.1 response format as well.</p>
<dl class="class">
<dt id="solr.Solr">
<em class="property">class </em><tt class="descclassname">solr.</tt><tt class="descname">Solr</tt><big>(</big><em>url</em><big>)</big><a class="headerlink" href="#solr.Solr" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the Solr instance at <cite>url</cite>.  If the Solr instance provides
multiple cores, <cite>url</cite> should be to a specific core.
Examples:</p>
<blockquote>
<div class="line-block">
<div class="line"><a class="reference external" href="http://localhost:8080/solr">http://localhost:8080/solr</a></div>
<div class="line"><a class="reference external" href="https://solr-server/solr">https://solr-server/solr</a></div>
</div>
</blockquote>
<p>Python must have SSL support installed for the <tt class="docutils literal"><span class="pre">https</span></tt> scheme to
work.  (Most pre-packaged Python builds are.)</p>
<p>Many keyword arguments can be specified to tailor instances for the
needs of specific applications:</p>
<dl class="docutils">
<dt><cite>persistent</cite></dt>
<dd>Keep a persistent connection open.
Defaults to <tt class="xref docutils literal"><span class="pre">True</span></tt>.</dd>
<dt><cite>timeout</cite></dt>
<dd>Timeout, in seconds, for the server to response.  By default, use
the Python default timeout.</dd>
<dt><cite>ssl_key</cite>, <cite>ssl_cert</cite></dt>
<dd>If using client-side key files for SSL authentication, these
should be, respectively, your PEM key file and certificate file.</dd>
<dt><cite>http_user</cite>, <cite>http_pass</cite></dt>
<dd>If given, include HTTP Basic authentication in all request
headers.</dd>
<dt><cite>post_headers</cite></dt>
<dd>A dictionary of headers that should be included in all requests
to Solr.  This is a good way to provide the User-Agent or other
specialized headers.</dd>
<dt><cite>max_retries</cite></dt>
<dd>Maximum number of retries to perform automatically.  Re-tries are
only attempted when socket errors or
<tt class="xref py py-exc docutils literal"><span class="pre">httplib.ImproperConnectionState</span></tt> or
<tt class="xref py py-exc docutils literal"><span class="pre">httplib.BadStatusLine</span></tt> exceptions are generated from calls
into <tt class="xref py py-mod docutils literal"><span class="pre">httplib</span></tt>.</dd>
</dl>
</dd></dl>

<div class="section" id="commit-control-arguments">
<h3>Commit-control arguments<a class="headerlink" href="#commit-control-arguments" title="Permalink to this headline">¶</a></h3>
<p>Some methods support optional Boolean arguments to control commits that
may be made by the method.  These arguments are always optional, and no
commit will be performed if they are not given.</p>
<p>Methods that accept these arguments are identified as supporting
commit-control arguments, but the arguments are not listed or described
for the individual methods.</p>
<p>The following commit-control keyword arguments are defined:</p>
<dl class="docutils">
<dt><cite>commit</cite></dt>
<dd>Indicates whether a commit should be performed before the method
returns.</dd>
<dt><cite>optimize</cite></dt>
<dd>Indicates whether index optimization should be performed before the
method returns.  If true, implies a <cite>commit</cite> value of <tt class="xref docutils literal"><span class="pre">True</span></tt>.</dd>
<dt><cite>wait_flush</cite></dt>
<dd>Indicates whether the request should block until the commit has been
flushed to disk on the server.  If not specified, this defaults to
<tt class="xref docutils literal"><span class="pre">True</span></tt>.  (There&#8217;s some question about whether this is honored in
recent versions of Solr.)</dd>
<dt><cite>wait_searcher</cite></dt>
<dd>Indicates whether the request should block until searcher objects
have been warmed for use before returning.  If not specified, this
defaults to <tt class="xref docutils literal"><span class="pre">True</span></tt>.  If true, implies a <cite>wait_flush</cite> value of
<tt class="xref docutils literal"><span class="pre">True</span></tt> (a false <cite>wait_flush</cite> value will be ignored).</dd>
</dl>
<p>If <cite>wait_flush</cite> or <cite>wait_searcher</cite> are specified when neither <cite>commit</cite>
nor <cite>optimize</cite> are true, a <tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt> will be raised.</p>
<p>Whenever possible, the request to commit or optimize the index will be
collapsed into an update request being performed by the method being
called.  This avoids a separate HTTP round-trip to commit changes.</p>
</div>
<div class="section" id="methods-common-to-connections">
<h3>Methods common to connections<a class="headerlink" href="#methods-common-to-connections" title="Permalink to this headline">¶</a></h3>
<p>These methods are available on both connection classes.</p>
<dl class="method">
<dt id="solr.Solr.delete">
<tt class="descclassname">Solr.</tt><tt class="descname">delete</tt><big>(</big><em>id=None</em>, <em>ids=None</em>, <em>queries=None</em><big>)</big><a class="headerlink" href="#solr.Solr.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete documents by ids or queries.</p>
<p>Any or all of <cite>id</cite>, <cite>ids</cite>, or <cite>queries</cite> may be given; all
provided will be used.  If none are provided, no request will be
sent to Solr.</p>
<p><cite>id</cite> is a single value for the schema&#8217;s unique id field.  <cite>ids</cite>
is an iterable of unique ids.</p>
<p><cite>queries</cite> is an iterable of standard-syntax queries.
Supports commit-control arguments.</p>
</dd></dl>

<dl class="method">
<dt id="solr.Solr.delete_many">
<tt class="descclassname">Solr.</tt><tt class="descname">delete_many</tt><big>(</big><em>ids</em><big>)</big><a class="headerlink" href="#solr.Solr.delete_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete documents using an iterable of ids.</p>
<p>This is equivalent to <tt class="docutils literal"><span class="pre">delete(ids=[ids])</span></tt>.
Supports commit-control arguments.</p>
</dd></dl>

<dl class="method">
<dt id="solr.Solr.delete_query">
<tt class="descclassname">Solr.</tt><tt class="descname">delete_query</tt><big>(</big><em>query</em><big>)</big><a class="headerlink" href="#solr.Solr.delete_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all documents identified by a query.</p>
<p>This is equivalent to <tt class="docutils literal"><span class="pre">delete(queries=[query])</span></tt>.
Supports commit-control arguments.</p>
</dd></dl>

<dl class="method">
<dt id="solr.Solr.commit">
<tt class="descclassname">Solr.</tt><tt class="descname">commit</tt><big>(</big><em>wait_flush=True</em>, <em>wait_searcher=True</em><big>)</big><a class="headerlink" href="#solr.Solr.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a commit command to the Solr server.</p>
<p><cite>wait_flush</cite> and <cite>wait_searcher</cite> have the same interpretations as
the like-name <a class="reference internal" href="#commit-control-arguments">commit-control arguments</a>.</p>
</dd></dl>

<dl class="method">
<dt id="solr.Solr.optimize">
<tt class="descclassname">Solr.</tt><tt class="descname">optimize</tt><big>(</big><em>wait_flush=True</em>, <em>wait_searcher=True</em><big>)</big><a class="headerlink" href="#solr.Solr.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue an optimize command to the Solr server.</p>
<p><cite>wait_flush</cite> and <cite>wait_searcher</cite> have the same interpretations as
the like-name <a class="reference internal" href="#commit-control-arguments">commit-control arguments</a>.</p>
</dd></dl>

<dl class="method">
<dt id="solr.Solr.close">
<tt class="descclassname">Solr.</tt><tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#solr.Solr.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the underlying HTTP(S) connection.</p>
</dd></dl>

</div>
<div class="section" id="methods-specific-to-solr">
<h3>Methods specific to <a class="reference internal" href="#solr.Solr" title="solr.Solr"><tt class="xref py py-class docutils literal"><span class="pre">Solr</span></tt></a><a class="headerlink" href="#methods-specific-to-solr" title="Permalink to this headline">¶</a></h3>
<p>These methods are specific to the <a class="reference internal" href="#solr.Solr" title="solr.Solr"><tt class="xref py py-class docutils literal"><span class="pre">Solr</span></tt></a> class; similarly-named
methods on <a class="reference internal" href="#solr.SolrConnection" title="solr.SolrConnection"><tt class="xref py py-class docutils literal"><span class="pre">SolrConnection</span></tt></a> may exist with different signatures.</p>
<dl class="attribute">
<dt id="solr.Solr.select">
<tt class="descclassname">Solr.</tt><tt class="descname">select</tt><a class="headerlink" href="#solr.Solr.select" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#solr.SearchHandler" title="solr.SearchHandler"><tt class="xref py py-class docutils literal"><span class="pre">SearchHandler</span></tt></a> instance for the commonly-defined <tt class="docutils literal"><span class="pre">select</span></tt>
request handler on the server.</p>
</dd></dl>

<dl class="method">
<dt id="solr.Solr.add">
<tt class="descclassname">Solr.</tt><tt class="descname">add</tt><big>(</big><em>doc</em><big>)</big><a class="headerlink" href="#solr.Solr.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a document to the Solr server.  Document fields
should be specified as arguments to this function</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">doc</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;id&quot;</span><span class="p">:</span> <span class="s">&quot;mydoc&quot;</span><span class="p">,</span> <span class="s">&quot;author&quot;</span><span class="p">:</span> <span class="s">&quot;Me&quot;</span><span class="p">}</span>
<span class="n">connection</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
</pre></div>
</div>
<p>Supports commit-control arguments.</p>
</dd></dl>

<dl class="method">
<dt id="solr.Solr.add_many">
<tt class="descclassname">Solr.</tt><tt class="descname">add_many</tt><big>(</big><em>docs</em><big>)</big><a class="headerlink" href="#solr.Solr.add_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Add several documents to the Solr server.</p>
<dl class="docutils">
<dt><cite>docs</cite></dt>
<dd>An iterable of document dictionaries.</dd>
</dl>
<p>Supports commit-control arguments.</p>
</dd></dl>

</div>
</div>
<div class="section" id="compatibility-support">
<h2>Compatibility support<a class="headerlink" href="#compatibility-support" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="solr.SolrConnection">
<em class="property">class </em><tt class="descclassname">solr.</tt><tt class="descname">SolrConnection</tt><big>(</big><em>url</em><big>)</big><a class="headerlink" href="#solr.SolrConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used by older applications of <tt class="docutils literal"><span class="pre">solrpy</span></tt>; newer
applications should use <a class="reference internal" href="#solr.Solr" title="solr.Solr"><tt class="xref py py-class docutils literal"><span class="pre">solr.Solr</span></tt></a>.</p>
<p>The constructor arguments and most methods are the same as for
<a class="reference internal" href="#solr.Solr" title="solr.Solr"><tt class="xref py py-class docutils literal"><span class="pre">solr.Solr</span></tt></a>; only these method signatures differ:</p>
</dd></dl>

<dl class="method">
<dt id="solr.SolrConnection.add">
<tt class="descclassname">SolrConnection.</tt><tt class="descname">add</tt><big>(</big><em>_commit=False</em>, <em>**fields</em><big>)</big><a class="headerlink" href="#solr.SolrConnection.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or update a single document with field values given by
keyword arguments.</p>
<p>The <cite>_commit</cite> argument is treated specially, causing an immediate
commit if present.  It may be specified either positionally or as
a keyword.  If <cite>_commit</cite> is true, the commit will be issued as
part of the same HTTP request to the Solr server.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">connection</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">&quot;mydoc&quot;</span><span class="p">,</span> <span class="n">author</span><span class="o">=</span><span class="s">&quot;Me&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is equialent to <tt class="docutils literal"><span class="pre">solr.Solr.add(fields,</span> <span class="pre">commit=_commit)</span></tt>.</p>
<p>Unlike the same-named method of <a class="reference internal" href="#solr.Solr" title="solr.Solr"><tt class="xref py py-class docutils literal"><span class="pre">Solr</span></tt></a>, this does <em>not</em>
support commit-control arguments.</p>
</dd></dl>

<dl class="method">
<dt id="solr.SolrConnection.add_many">
<tt class="descclassname">SolrConnection.</tt><tt class="descname">add_many</tt><big>(</big><em>docs</em>, <em>_commit=False</em><big>)</big><a class="headerlink" href="#solr.SolrConnection.add_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or update multiple documents. with field values for each given
by dictionaries in the sequence <cite>docs</cite>.</p>
<p>The <cite>_commit</cite> argument is treated specially, causing an immediate
commit if present.  It may be specified either positionally or as
a keyword.  If <cite>_commit</cite> is true, the commit will be issued as
part of the same HTTP request to the Solr server.</p>
<p>Example:</p>
<div class="highlight-python"><pre>doc1 = {...}
doc2 = {...}
connection.add_many([doc1, doc2], _commit=True)</pre>
</div>
<p>This is equialent to <tt class="docutils literal"><span class="pre">solr.Solr.add_many(docs,</span> <span class="pre">commit=_commit)</span></tt>.</p>
<p>Unlike the same-named method of <a class="reference internal" href="#solr.Solr" title="solr.Solr"><tt class="xref py py-class docutils literal"><span class="pre">Solr</span></tt></a>, this does <em>not</em>
support commit-control arguments.</p>
</dd></dl>

<dl class="method">
<dt id="solr.SolrConnection.query">
<tt class="descclassname">SolrConnection.</tt><tt class="descname">query</tt><big>(</big><em>q</em>, <em>fields=None</em>, <em>highlight=None</em>, <em>score=True</em>, <em>sort=None</em>, <em>sort_order=&quot;asc&quot;</em>, <em>**params</em><big>)</big><a class="headerlink" href="#solr.SolrConnection.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the <tt class="docutils literal"><span class="pre">select</span></tt> search handler,
returning the result of that call.</p>
</dd></dl>

<dl class="method">
<dt id="solr.SolrConnection.raw_query">
<tt class="descclassname">SolrConnection.</tt><tt class="descname">raw_query</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#solr.SolrConnection.raw_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the <tt class="docutils literal"><span class="pre">raw</span></tt> method of the <tt class="docutils literal"><span class="pre">select</span></tt> search handler,
returning the result of that call.</p>
</dd></dl>

</div>
<div class="section" id="search-handlers">
<h2>Search handlers<a class="headerlink" href="#search-handlers" title="Permalink to this headline">¶</a></h2>
<p>A <cite>search handler</cite> provides access to a named search on the Solr
server.  Most servers are configured with a search named <tt class="docutils literal"><span class="pre">select</span></tt>, but
different searches may be defined that require different arguments or
different default parameters.</p>
<p>The <a class="reference internal" href="#solr.SearchHandler" title="solr.SearchHandler"><tt class="xref py py-class docutils literal"><span class="pre">SearchHandler</span></tt></a> class provides access to a named search.
Handlers are constructed simply, and can be saved and used as many times
as needed.</p>
<dl class="class">
<dt id="solr.SearchHandler">
<em class="property">class </em><tt class="descclassname">solr.</tt><tt class="descname">SearchHandler</tt><big>(</big><em>connection</em>, <em>path</em><big>)</big><a class="headerlink" href="#solr.SearchHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a search handler for <em class="var">connection</em> with the relative
path given by <em class="var">path</em>.  For example, to use the commonly-defined
<tt class="docutils literal"><span class="pre">select</span></tt> search, construct a handler like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">solr</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">solr</span><span class="o">.</span><span class="n">Solr</span><span class="p">(</span><span class="s">&quot;http://solr.example.net/solr&quot;</span><span class="p">)</span>
<span class="n">select</span> <span class="o">=</span> <span class="n">solr</span><span class="o">.</span><span class="n">SearchHandler</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="s">&quot;/select&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is exactly how the <tt class="xref py py-attr docutils literal"><span class="pre">select</span></tt> attribute of <a class="reference internal" href="#solr.Solr" title="solr.Solr"><tt class="xref py py-class docutils literal"><span class="pre">Solr</span></tt></a>
instances is constructed.  An alternate request handler can be used
by providing an alternate <cite>path</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">find_stuff</span> <span class="o">=</span> <span class="n">solr</span><span class="o">.</span><span class="n">SearchHandler</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="s">&quot;/find_stuff&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The slash at the beginning of the <cite>path</cite> value is required if the URL
given to the connection constructor does not end with a slash.</p>
</dd></dl>

<dl class="method">
<dt id="solr.SearchHandler.__call__">
<tt class="descclassname">SearchHandler.</tt><tt class="descname">__call__</tt><big>(</big><em>q=None</em>, <em>fields=None</em>, <em>highlight=None</em>, <em>score=True</em>, <em>sort=None</em>, <em>sort_order=&quot;asc&quot;</em>, <em>**params</em><big>)</big><a class="headerlink" href="#solr.SearchHandler.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p><em class="var">q</em> is the query string in the format configured for the request
handler in the Solr server.</p>
<p><em class="var">fields</em> is an optional list of fields to include.  It can be
either a string in the format that Solr expects, or an iterable of
field names.  Defaults to all fields (<tt class="docutils literal"><span class="pre">'*'</span></tt>).</p>
<p><em class="var">score</em> indicates whether score should be included in the field
list.  Note that if you explicitly list &#8220;score&#8221; in your fields
value, then score is effectively ignored.  Defaults to <tt class="xref docutils literal"><span class="pre">True</span></tt>.</p>
<p><em class="var">highlight</em> indicates whether highlighting should be included.
highlight can either be <tt class="xref docutils literal"><span class="pre">False</span></tt>, indicating &#8220;No&#8221; (the default),
a list of fields in the same format as <em class="var">fields</em> or True,
indicating to highlight any fields included in <em class="var">fields</em>.  If
<tt class="xref docutils literal"><span class="pre">True</span></tt> and no &#8220;fields&#8221; are given, raise a <tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt>.</p>
<p><em class="var">sort</em> is a list of fields to sort by.  See <em class="var">fields</em> for
formatting.  Each sort element can have be in the form &#8220;fieldname
asc|desc&#8221; as specified by Solr specs.</p>
<p><em class="var">sort_order</em> is the backward-compatible way to add the same
ordering to all the sort field when it is not specified.</p>
<p>Optional parameters can also be passed in.  Many Solr parameters
are in a dotted notation (for example, <tt class="docutils literal"><span class="pre">hl.simple.post</span></tt>).  For
such parameters, replace the dots with underscores when calling
this method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&#39;text:solrpy&#39;</span><span class="p">,</span> <span class="n">hl_simple_post</span><span class="o">=</span><span class="s">&#39;&lt;/pre&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns a <tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt> instance.</p>
</dd></dl>

<dl class="method">
<dt id="solr.SearchHandler.raw">
<tt class="descclassname">SearchHandler.</tt><tt class="descname">raw</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#solr.SearchHandler.raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a query against a Solr server.  No logical interpretation of
the parameters is performed, but encoding for transfer as form fields
over HTTP is handled.</p>
<p>Return the raw result as text.  No processing is performed on the
response.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reference</a><ul>
<li><a class="reference internal" href="#data-representation">Data representation</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#connections">Connections</a><ul>
<li><a class="reference internal" href="#commit-control-arguments">Commit-control arguments</a></li>
<li><a class="reference internal" href="#methods-common-to-connections">Methods common to connections</a></li>
<li><a class="reference internal" href="#methods-specific-to-solr">Methods specific to <tt class="docutils literal"><span class="pre">Solr</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#compatibility-support">Compatibility support</a></li>
<li><a class="reference internal" href="#search-handlers">Search handlers</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="overview.html"
                        title="previous chapter">Overview</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             >previous</a> |</li>
        <li><a href="index.html">solrpy v0.9.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, solrpy developers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>