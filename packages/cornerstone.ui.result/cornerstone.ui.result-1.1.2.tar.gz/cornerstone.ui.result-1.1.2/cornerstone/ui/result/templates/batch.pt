<tal:comment replace="nothing">
   TODO: cleanup first, last, prev and next links. too much code there.
</tal:comment>

<div class=""
     tal:condition="view/display"
     tal:attributes="class view/cssclass">
  
  <div class="batchtitle"
       tal:define="title view/title"
       tal:condition="title">
    <h4 tal:content="title">Title</h4>
  </div>
     
  <span tal:define="firstpage view/firstpage"
        tal:condition="firstpage">
    <a href="#"
       tal:condition="python: firstpage['visible'] and not firstpage['current']"
       tal:attributes="href firstpage/url;
                       class python: firstpage['css']"
      ><img src="++resource++cornerstone.ui.result.images/leftmost.gif"
            tal:attributes="name firstpage/url;
                            class python: firstpage['css']" /></a>
    <span tal:condition="python: not firstpage['visible'] or firstpage['current']">
      <img src="++resource++cornerstone.ui.result.images/leftmost_invisible.gif" />
    </span>
  </span>
  
  <span tal:define="prevpage view/prevpage"
        tal:condition="prevpage">
    <a href="#"
       tal:condition="python: prevpage['visible'] and not prevpage['current']"
       tal:attributes="href prevpage/url;
                       class python: prevpage['css']"
      ><img src="++resource++cornerstone.ui.result.images/left.gif"
            tal:attributes="name prevpage/url;
                            class python: prevpage['css']" /></a>
    <span tal:condition="python: not prevpage['visible'] or prevpage['current']">
      <img src="++resource++cornerstone.ui.result.images/left_invisible.gif" />
    </span>
  </span>
  
  <span tal:content="view/leftellipsis"
        class="leftellipsis" />
  
  <tal:page repeat="page view/pages">
    <span tal:define="first repeat/page/start;
                      last repeat/page/end;
                      cssclass python: first and 'first' or None;
                      cssclass python: cssclass and cssclass or (last and 'last' or None)"
          tal:attributes="class cssclass">
      <a href="#"
         tal:condition="python: page['visible'] and not page['current']"
         tal:attributes="href page/url;
                         class python: page['css']"
         tal:content="page/page">X</a>
      <span tal:condition="python: not page['visible']"
            tal:content="page/page">X</span>
      <strong tal:condition="python: page['current']"
              tal:content="page/page"
              class="current">X</strong>
    </span>
  </tal:page>
  
  <span tal:content="view/rightellipsis"
        class="rightellipsis" />
  
  <span tal:define="nextpage view/nextpage"
        tal:condition="nextpage">
    <a href="#"
       tal:condition="python: nextpage['visible'] and not nextpage['current']"
       tal:attributes="href nextpage/url;
                       class python: nextpage['css']"
      ><img src="++resource++cornerstone.ui.result.images/right.gif"
            tal:attributes="name nextpage/url;
                            class python: nextpage['css']" /></a>
    <span tal:condition="python: not nextpage['visible'] or nextpage['current']">
      <img src="++resource++cornerstone.ui.result.images/right_invisible.gif" />
    </span>
  </span>
  
  <span tal:define="lastpage view/lastpage"
        tal:condition="lastpage">
    <a href="#"
       tal:condition="python: lastpage['visible'] and not lastpage['current']"
       tal:attributes="href lastpage/url;
                       class python: lastpage['css']"
      ><img src="++resource++cornerstone.ui.result.images/rightmost.gif"
            tal:attributes="name lastpage/url;
                            class python: lastpage['css']" /></a>
    <span tal:condition="python: not lastpage['visible'] or lastpage['current']">
      <img src="++resource++cornerstone.ui.result.images/rightmost_invisible.gif" />
    </span>
  </span>
  
</div>