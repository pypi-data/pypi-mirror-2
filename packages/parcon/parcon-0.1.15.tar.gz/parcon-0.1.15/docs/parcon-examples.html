<html><head>

<script type="text/javascript">

  var _gaq = _gaq || [];
// START JCP ADD
  if(window.location.href.indexOf("http://www.opengroove.org/") == 0) {
// END JCP ADD
  _gaq.push(['_setAccount', 'UA-6079740-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
// START JCP ADD
}
// END JCP ADD

</script>

</head><body><p
>This file contains a bunch of examples of things you can do with Parcon. More examples are present in the <a href="parcon.html"
  >Parcon module documentation</a
  >.</p
><div id="expression-evaluator"
><h2
  >Expression evaluator</h2
  ><pre
  ><code
    >from parcon import *
from decimal import Decimal
import operator
expr = Forward()
number = (+Digit() + -(SignificantLiteral(&quot;.&quot;) + +Digit()))[flatten][&quot;&quot;.join][Decimal]
term = number | &quot;(&quot; + expr + &quot;)&quot;
term = InfixExpr(term, [(&quot;*&quot;, operator.mul), (&quot;/&quot;, operator.truediv)])
term = InfixExpr(term, [(&quot;+&quot;, operator.add), (&quot;-&quot;, operator.sub)])
expr &lt;&lt; term
</code
    ></pre
  ><p
  >This implements a simple expression evaluator, and shows how Parcon allows the evaluation logic to be specified as part of the parser. It uses Python's decimal module for arbitrary-precision arithmetic. This expression parser can then be used thus:</p
  ><pre
  ><code
    >print expr.parse_string(&quot;1+2&quot;) # prints 3
print expr.parse_string(&quot;1+2+3&quot;) # prints 6
print expr.parse_string(&quot;1+2+3+4&quot;) # prints 10
print expr.parse_string(&quot;3*4&quot;) # prints 12
print expr.parse_string(&quot;5+3*4&quot;) # prints 17
print expr.parse_string(&quot;(5+3)*4&quot;) # prints 32
print expr.parse_string(&quot;10/4&quot;) # prints 2.5
</code
    ></pre
  ></div
>
</body></html>