<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
    Fields
 &mdash; sqlkit v0.9.1 documentation</title>
        
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/docs.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sqlkit.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/jqueryslidemenu.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../../',
          VERSION:     '0.9.1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/jqueryslidemenu.js"/>

    <script type="text/javascript" src="../../_static/init.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="sqlkit v0.9.1 documentation" href="../../index.html" />
        <link rel="up" title="Advanced configuration" href="contents.html" />
        <link rel="next" title="ModelProxy" href="views.html" />
        <link rel="prev" title="Advanced configuration" href="contents.html" />
    

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18221996-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    </head>
    <body>
        



<!--[if !IE 7]>
	<style type="text/css">
		#wrap {display:table;height:100%}
	</style>
<![endif]-->


<div id="wrap">
    
<div id="header">

	<div class="logo"><a href="../tour.html">
       <img src="../../_static/sqlkit.png" align="left"  alt="Logo" border="0"/></a>
        </div>
	<div id="description">Acces to db made easy</div>
</div>


   <div style="clear:left;"></div>


<div id="main_menu" class="jqueryslidemenu">
	<ul>
            <li ><a href="../tour.html" title="Home" 
                  ><span>Home</span></a></li>

            <li ><a href="../contents.html"
                  title="Sqlkit - the python package" 
                  ><span>Sqlkit</span></a>

	       <ul>
		 <li ><a href="../contents.html"
		       title="Sqlkit - the python package" 
		       ><span>Sqlkit</span></a></li>

		 <li ><a href="../sqlwidget.html" title="Widgets" 
		       ><span>Widgets</span></a>
		       <ul> 
			 <li ><a href="../mask.html" title="Mask" 
			       ><span>Mask view</span></a></li>
			 <li ><a href="../table.html" title="Table" 
			       ><span>Table view</span></a></li>
		       </ul>
                 </li>
		 <li ><a href="../browsing.html" title="Browsing Data" 
		       ><span>Browsing data</span></a>
		    <ul> 
		      <li ><a href="../constraints.html" title="Constraints" 
			    ><span>Constraints</span></a></li>
		      <li ><a href="../filters.html" title="Filters" 
			    ><span>Filters</span></a></li>
		      <li ><a href="../totals.html" title="Totals" 
			    ><span>Totals</span></a></li>
		    </ul>
                 </li>
		 <li ><a href="../editing.html" title="Editing Data" 
		       ><span>Editing data</span></a>
			 <ul> 
			   <li ><a href="../completion.html" title="Completion" 
				 ><span>Completion</span></a></li>
			   <li ><a href="../validation.html" title="Validation" 
				 ><span>Validation</span></a></li>
			   <li ><a href="../relationship.html" title="Relationships" 
				 ><span>Relationships</span></a></li>
			 </ul>
		       </li>
		 <li ><a href="../printing.html" title="Printing" 
		       ><span>Printing</span></a></li>
		 <li ><a href="contents.html" title="Advanced configuration" 
		       ><span>Advanced configuration</span></a>
			 <ul> 
			   <li ><a href="#" title="Fields" 
				 ><span>Fields</span></a></li>
			   <li ><a href="views.html" title="Views" 
				 ><span>Views</span></a></li>
			 </ul>
		       </li>

	       </ul>
            </li>

            <li ><a href="../../misc/sqledit.html"
                  title="Sqledit GUI" 
                  ><span>Sqledit GUI</span></a></li>

            <li ><a href="../tutorial.html" title="Tutorial" 
                  ><span>Tutorial</span></a></li>

            <li ><a href="../../layout/contents.html" title="Layout"
                  ><span>Layout</span></a></li>

            <li ><a href="../../misc/contents.html" title="Download" 
                  ><span>Download</span></a>

	       <ul>
		 <li ><a href="../../misc/contents.html"
		       title="Download"
		       ><span>Download</span></a></li>
		 <li ><a href="http://sqlkit.argolinux.org/download/Changelog"  title="Changelog"
		       title="Changelog"
		       ><span>Changelog</span></a></li>
		 <li ><a href="../../misc/backward_incompatibilities.html"
		       title="Backward incompatibilities"
		       ><span>Backward incompatibilities</span></a></li>
	       </ul>
            </li>



        </ul>
</div>
   <div style="clear:left;"></div>
  

    
    <div class="related">
      <ul>

	
<!-- <div class="prevnext"> -->
<!--    <li class="right"  style="margin-right: 10px">Indice -->
<!--      <a href="../../genindex.html" title="Indice generale" -->
<!--                accesskey="I">indice</a></li> -->

        <li class="right">Prev:
        <a href="contents.html" title="previous chapter">Advanced configuration</a></li>
        <li class="right">Next:
        <a href="views.html" title="next chapter">ModelProxy</a></li>
<!-- </div> -->


      </ul>

    </div>

    
  <div class="sphinxsidebar">
     <div class="sphinxsidebarwrapper">


	    <div class="topnav">
    <h3>Table of contents</h3>
		    <ul>
<li><a class="reference external" href="#">Fields</a><ul>
<li><a class="reference external" href="#relation-with-the-master-sqlwidget">Relation with the master sqlwidget</a></li>
<li><a class="reference external" href="#db-attributes">Db attributes</a></li>
<li><a class="reference external" href="#other-attributes">Other attributes</a></li>
<li><a class="reference external" href="#future">future</a></li>
<li><a class="reference external" href="#formatting-locale">formatting/locale</a><ul>
<li><a class="reference external" href="#fieldchooser">FieldChooser</a></li>
<li><a class="reference external" href="#widgets">Widgets</a></li>
<li><a class="reference external" href="#global-variables">Global variables</a></li>
<li><a class="reference external" href="#available-fields">Available Fields</a></li>
</ul>
</li>
</ul>
</li>
</ul>

		<div class="clearboth"></div>
	    </div>



    <h3>Questions?</h3>

    <p>Subscribe to out mailing list <a href="http://groups.google.com/group/sqlkit">
       Google group</a>:</p>

    <form action="http://groups.google.com/group/sqlkit/boxsubscribe" style="padding-left: 1em">
      <input type="text" name="email" value="your@email"/>
      <input type="submit" name="sub" value="Subscribe" />
    </form>
    <div id="searchbox" style="display: none">

    <h3>Quick search</h3>
	<form class="search" action="../../search.html" method="get">
	  <input type="text" name="q" size="18" />
	  <input type="submit" value="Search" />
	  <input type="hidden" name="check_keywords" value="yes" />

	  <input type="hidden" name="area" value="default" />
	</form>
	<p class="searchtip" style="font-size: 90%">
        Enter search terms or a module, class or function name.
	</p>
    <h3>License</h3>
	<img src="../../_static/loghi/gplv3.png" alt="logo GPLv3">

    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>

     </div>
  </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">

            <div class="body">
                
<div class="section" id="fields">
<span id="module-sqlkit.fields"></span><span id="id1"></span><h1>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h1>
<p>Mask and Tables display a collection of data that may belong to the database
or not.  Each of the data represented in the GUI that needs to partecipate
to any updating/saving process should have it&#8217;s own handler that is a Field.</p>
<p>A Field is an entity that knows how to handle a piece of data, be it on the
database (a field_name) or just in the GUI. It&#8217;s a layer that allows gui
widget to be simpler and easier to interchange. As an example, both varchars
and integers are normally displayed by a gtk.Entry: the entry.get_text()
will retrieve in both cases a string, it&#8217;s the Field (IntegerField) that
knows how to turn that string into an integer using the
<a title="sqlkit.fields.Field.clean_value" class="reference internal" href="#sqlkit.fields.Field.clean_value"><tt class="xref docutils literal"><span class="pre">Field.clean_value()</span></tt></a> method. In more complex cases <tt class="docutils literal"><span class="pre">clean_value</span></tt> can return
data computed from related records.</p>
<p>cthe field knows:</p>
<blockquote>
<ul class="simple">
<li>if it belongs to the database (attribute <tt class="docutils literal"><span class="pre">persisted</span></tt> is True) and in
case how it is defined ( i.e.: sqlalchemy property/column)</li>
<li>if it is nullable/editable</li>
<li>which widget must be used to represent it (see below, not requested)</li>
<li>how to produce a formatted representation of the field.</li>
</ul>
</blockquote>
<p>It provides functions to</p>
<blockquote>
<ul class="simple">
<li>set/get value</li>
<li>get default value (but will not cope with server_side defaults)</li>
<li>tell if it changed from the default</li>
<li>clean value according to it&#8217;s logic: i.e. return a value of the correct type</li>
<li>validate values (possibly according to other criteria)</li>
</ul>
</blockquote>
<p>The association between a database field and a Field is dome by
<a class="reference internal" href="#field-chooser"><em>FieldChooser</em></a>, but you can force a particular Field when defining the
model class setting the key <tt class="docutils literal"><span class="pre">field</span></tt> of the column&#8217;s <tt class="docutils literal"><span class="pre">info</span></tt> dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">foo</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;field&#39;</span> <span class="p">:</span> <span class="n">MyField</span><span class="p">})</span>
</pre></div>
</div>
<p>A last method is to use <a class="reference external" href="../sqlwidget.html#on-pre-layout"><em>on_pre_layout hook</em></a> that allows
to set <tt class="docutils literal"><span class="pre">sqlkit.Fields</span></tt> even on non persisted fields.</p>
<div class="section" id="relation-with-the-master-sqlwidget">
<h2>Relation with the master sqlwidget<a class="headerlink" href="#relation-with-the-master-sqlwidget" title="Permalink to this headline">¶</a></h2>
<p>Currently there are a number of operation that require that the field know wich
is the sqlwidget it is acting for. I&#8217;d like to loosen this connection in future
but at present it&#8217;s used in the following situations:</p>
<ul class="simple">
<li>to keep updated the list of field_widgets</li>
<li>to get default values (that can be local to a sqlwidget)</li>
<li>for validation purposes: to issue master.run_hooks and NonNullableException</li>
<li>FKey: to handle addition of related_obj when cascading policy requires it</li>
</ul>
<p>In the meanwhile I add master to the Field via set_master() and add a widget
to the Field via set_widget()</p>
</div>
<div class="section" id="db-attributes">
<h2>Db attributes<a class="headerlink" href="#db-attributes" title="Permalink to this headline">¶</a></h2>
<p>The costructor can be passed a dict of field_attributes</p>
<blockquote>
<ul>
<li><p class="first">field_name: the name of the field</p>
</li>
<li><dl class="first docutils">
<dt>nullable: True if field is nullable or False. The related widget will get a background color that</dt>
<dd><p class="first last">reflects the fact that it is required (currently yellow). This can be set at any time.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>editable: True if field is editable or False. The related widget will be set unsensitive. This can</dt>
<dd><p class="first last">be set at any time.</p>
</dd>
</dl>
</li>
<li><p class="first">length: the desired length in chars</p>
</li>
<li><p class="first">default: a possible default option</p>
</li>
<li><p class="first">type: the python type</p>
</li>
<li><p class="first">mapper: defined as None for field that are mapped</p>
</li>
<li><p class="first">table: the SA Table object</p>
</li>
<li><p class="first">column: the SA Column object</p>
</li>
<li><p class="first">property: the SA Property - if any</p>
</li>
<li><p class="first">fkey: the SA ForeignKey or None</p>
</li>
<li><p class="first">pkey: True is field is a PRIMARY KEY or False</p>
</li>
</ul>
</blockquote>
</div>
<div class="section" id="other-attributes">
<h2>Other attributes<a class="headerlink" href="#other-attributes" title="Permalink to this headline">¶</a></h2>
<blockquote>
<ul class="simple">
<li>widget:  the widget used to represent it. May be sqlkit.widgets.mask.miniwidget or similar</li>
<li>format: the format used to represent the field (numeric or date/time)</li>
<li>locale: the locale to use to represent the field (numeric or date/time)</li>
<li>DecimalFields also have precision/scale</li>
<li>Varchar/TextFields also have blank=True/False (default: False). It determines if an empty string is
a valid value. Empty strings are differerent from NULL values</li>
</ul>
</blockquote>
</div>
<div class="section" id="future">
<h2>future<a class="headerlink" href="#future" title="Permalink to this headline">¶</a></h2>
<blockquote>
<p>This should provide a way to set the possible observers</p>
<p>validation based on the type should live here</p>
<p>possibly more validation may live here</p>
</blockquote>
</div>
<div class="section" id="formatting-locale">
<h2>formatting/locale<a class="headerlink" href="#formatting-locale" title="Permalink to this headline">¶</a></h2>
<blockquote>
see <a class="reference external" href="http://java.sun.com/docs/books/tutorial/i18n/format/decimalFormat.html">decimal</a> to have an intro on formatting numbers</blockquote>
<div class="section" id="fieldchooser">
<span id="field-chooser"></span><h3>FieldChooser<a class="headerlink" href="#fieldchooser" title="Permalink to this headline">¶</a></h3>
<p>This class implements a way to determine which Field should be associated to
each field_name in a mapper (used in setup_field_validation so that it can
be easily overwritten).  It&#8217;s important to understand that it already
receives a gtkwidget from layoutgenerator; that widget has been set by
introspection of the layout description and of the field in the database.</p>
<p>You can overwrite the decision of the field redefining the gui_field on a
derived sqlwidget or passing it as argument (see code snippet 34):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">SqlMask</span><span class="p">):</span>
    <span class="n">gui_field_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;date_release&#39;</span> <span class="p">:</span> <span class="n">VarcharField</span><span class="p">}</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Movie</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="s">&#39;movie&#39;</span><span class="p">,</span> <span class="n">dbproxy</span><span class="o">=</span><span class="n">db</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">lay</span><span class="p">)</span>
</pre></div>
</div>
<p>It&#8217;s up to the field defined in this way to be able to handle the type of data.
This setting can be used to add field constraints (eg: mail address
validation) or to completely change the widget that represent data.</p>
</div>
<div class="section" id="widgets">
<h3>Widgets<a class="headerlink" href="#widgets" title="Permalink to this headline">¶</a></h3>
<p>A Field does not create a gtk widget to represent data. Layout definition is
normally enought to create the correct GTK widget. If a gtk widget exists
that represent a field, it is handled by a proxy called Miniwidget that
offers a common interface to possbly different gtk widgets. If a MiniWidget
exists the Field will instantiate it and set values thought it.</p>
<p>A notable exception to this rule is represented by any m2m/o2m relation,
that in the layout is only present as a gtk.Alignment widget to which a
children is added by mask.Widget.</p>
<p><a class="reference external" href="field_widgets.html#field-widgets"><em>Miniwidgets</em></a> for all main types are provided.</p>
</div>
<div class="section" id="global-variables">
<h3>Global variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">¶</a></h3>
<p>Varchar fields will try to cast an empty value to None unless blank_ok is set
in the field:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span><span class="o">.</span><span class="n">gui_field</span><span class="o">.</span><span class="n">field_name</span><span class="o">.</span><span class="n">blank_ok</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>or globally:</p>
<blockquote>
from sqlkit.widgets.common import fields
fields.BLANK_OK = True</blockquote>
<p>Default value for BLANK_OK is False.</p>
<p>This is only enforced for NEW records, for alreadu persisted records the default behaviour is
to let it as-is, to prevent a very annoying flood of dialog &#8220;do you want to save?&#8221; when you
just need to browse some data.</p>
</div>
<div class="section" id="available-fields">
<h3>Available Fields<a class="headerlink" href="#available-fields" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="sqlkit.fields.Field">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">Field</tt><big>(</big><em>field_name</em>, <em>field_attrs=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="sqlkit.fields.Field.set_widget">
<tt class="descname">set_widget</tt><big>(</big><em>gtkwidget=None</em>, <em>def_str=None</em>, <em>widget=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.set_widget" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>def_str</em> &#8211; the definition string in the layout that determined
the gtk.Widget (eg.: c=married, e=first_name)</li>
<li><em>widget</em> &#8211; the miniwidget to be used. Defaults to class-defined self.Widget
the widget can be a string of a Widget derived from <tt class="docutils literal"><span class="pre">miniwidget.Widget</span></tt></li>
<li><em>gtkwidget</em> &#8211; the gtk widget to be used (already created by Layout)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.set_value">
<tt class="descname">set_value</tt><big>(</big><em>value</em>, <em>initial=True</em>, <em>shown=False</em>, <em>obj=None</em>, <em>update_widget=True</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>value</em> &#8211; the value to be set. It will be cleaned.</li>
<li><em>initial</em> &#8211; if True the <tt class="docutils literal"><span class="pre">self.initial_value</span></tt> is set as. <tt class="docutils literal"><span class="pre">self.initial_value</span></tt>
is used to know if a field has changed</li>
<li><em>obj</em> &#8211; if passed the attribute is set on the object when the field is set</li>
<li><em>update_widget</em> &#8211; if True (default) the widget that renders the field is set as well.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.get_value">
<tt class="descname">get_value</tt><big>(</big><em>shown=False</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.get_value" title="Permalink to this definition">¶</a></dt>
<dd>Return the current value. Look for it in the widget and returns a cleaned value</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.clear_value">
<tt class="descname">clear_value</tt><big>(</big><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.clear_value" title="Permalink to this definition">¶</a></dt>
<dd>sets a value that clears the corresponding widget, can be None or []</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.format_value">
<tt class="descname">format_value</tt><big>(</big><em>value</em>, <em>format=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.format_value" title="Permalink to this definition">¶</a></dt>
<dd><p>return a <strong>string representation</strong> of the value according to current
locale value is a&#8221;cleaned&#8221; value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>value</em> &#8211; the value to be formatted (must already be casted to correct type)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.clean_value">
<tt class="descname">clean_value</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.clean_value" title="Permalink to this definition">¶</a></dt>
<dd><p>return a value of the correct type, if needed parse it with
locale parsers (numbers, date...)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>value</em> &#8211; the value to be cleaned (i.e. casted to correct type). It&#8217;s the
attribute of a persisten object or <strong>the object itself</strong> for non
persisted fields. I.e.: if you create a custom field to count how many
movies has directed each director, the Director instance will be passed
as <tt class="docutils literal"><span class="pre">value</span></tt>.</td>
</tr>
</tbody>
</table>
<p>This function is used while sorting a column</p>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.has_changed">
<tt class="descname">has_changed</tt><big>(</big><em>verbose=False</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.has_changed" title="Permalink to this definition">¶</a></dt>
<dd>return True if field has changed after last set</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.get_default">
<tt class="descname">get_default</tt><big>(</big><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.get_default" title="Permalink to this definition">¶</a></dt>
<dd>return the default value for this object</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.validate">
<tt class="descname">validate</tt><big>(</big><em>value</em>, <em>clean=False</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.validate" title="Permalink to this definition">¶</a></dt>
<dd>check if the current value is accepted and call
<a class="reference external" href="../sqlwidget.html#on-field-validation"><em>on_field__validation</em></a>
on the master&#8217;s hook.</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.Field.get_human_value">
<tt class="descname">get_human_value</tt><big>(</big><em>value</em>, <em>format=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.Field.get_human_value" title="Permalink to this definition">¶</a></dt>
<dd>return the value or a translation in human readable for foreign key</dd></dl>

</dd></dl>

<p>All other field inherit from Field</p>
<dl class="class">
<dt id="sqlkit.fields.VarcharField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">VarcharField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.VarcharField" title="Permalink to this definition">¶</a></dt>
<dd><p>The field to represent Strings</p>
<dl class="attribute">
<dt id="sqlkit.fields.VarcharField.blank_ok">
<tt class="descname">blank_ok</tt><a class="headerlink" href="#sqlkit.fields.VarcharField.blank_ok" title="Permalink to this definition">¶</a></dt>
<dd>The widget return an epty string on empty values. This variable determines if that value
will be set NULL or left empty. Regardless of this value the value is left untouched if
it already exists.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.IntegerField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">IntegerField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.IntegerField" title="Permalink to this definition">¶</a></dt>
<dd><p>The fields to handle interegers</p>
<dl class="attribute">
<dt id="sqlkit.fields.IntegerField.format">
<tt class="descname">format</tt><a class="headerlink" href="#sqlkit.fields.IntegerField.format" title="Permalink to this definition">¶</a></dt>
<dd>How to represent integers. Default: &#8216;#,###&#8217;</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.FloatField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">FloatField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.FloatField" title="Permalink to this definition">¶</a></dt>
<dd><p>The fields to handle floats</p>
<dl class="attribute">
<dt id="sqlkit.fields.FloatField.format">
<tt class="descname">format</tt><a class="headerlink" href="#sqlkit.fields.FloatField.format" title="Permalink to this definition">¶</a></dt>
<dd>How to represent integers. Default: None</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.DecimalField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">DecimalField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.DecimalField" title="Permalink to this definition">¶</a></dt>
<dd><p>The fields to handle Numeric Fields</p>
<dl class="attribute">
<dt id="sqlkit.fields.DecimalField.format">
<tt class="descname">format</tt><a class="headerlink" href="#sqlkit.fields.DecimalField.format" title="Permalink to this definition">¶</a></dt>
<dd>How to represent integers. Default: &#8216;#,###.00&#8217; (The number of 0 determined by <tt class="docutils literal"><span class="pre">scale</span></tt></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.TextField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">TextField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.TextField" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="sqlkit.fields.DateField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">DateField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.DateField" title="Permalink to this definition">¶</a></dt>
<dd><p>The fields to handle datets</p>
<dl class="attribute">
<dt id="sqlkit.fields.DateField.format">
<tt class="descname">format</tt><a class="headerlink" href="#sqlkit.fields.DateField.format" title="Permalink to this definition">¶</a></dt>
<dd>The format used to represent dates. Default: <tt class="docutils literal"><span class="pre">short</span></tt></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.TimeField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">TimeField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.TimeField" title="Permalink to this definition">¶</a></dt>
<dd>The fields to handle times w/o timezone</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.TimeTZField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">TimeTZField</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#sqlkit.fields.TimeTZField" title="Permalink to this definition">¶</a></dt>
<dd>The fields to handle times with timezone</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.IntervalField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">IntervalField</tt><big>(</big><em>field_name</em>, <em>field_attrs=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.IntervalField" title="Permalink to this definition">¶</a></dt>
<dd>The fields to handle times with interval</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.DateTimeField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">DateTimeField</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#sqlkit.fields.DateTimeField" title="Permalink to this definition">¶</a></dt>
<dd>The fields to handle datetimes w/o timezone</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.DateTimeTZField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">DateTimeTZField</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#sqlkit.fields.DateTimeTZField" title="Permalink to this definition">¶</a></dt>
<dd>The fields to handle datetimes with timezone</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.BooleanField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">BooleanField</tt><big>(</big><em>field_name</em>, <em>field_attrs=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.BooleanField" title="Permalink to this definition">¶</a></dt>
<dd>A field to handle booleans that does not allow NULL</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.BooleanNullField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">BooleanNullField</tt><big>(</big><em>field_name</em>, <em>field_attrs=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.BooleanNullField" title="Permalink to this definition">¶</a></dt>
<dd>A field to handle booleans that allows NULL</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.EnumField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">EnumField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.EnumField" title="Permalink to this definition">¶</a></dt>
<dd><p>A field to handle a set of allowed values. You set <tt class="docutils literal"><span class="pre">values</span></tt> in the
<tt class="docutils literal"><span class="pre">info</span></tt> column dict or setting <a title="sqlkit.fields.EnumField.values" class="reference internal" href="#sqlkit.fields.EnumField.values"><tt class="xref docutils literal"><span class="pre">values</span></tt></a>. Setting info column&#8217;s
key <tt class="docutils literal"><span class="pre">render</span></tt> to &#8216;enum&#8217; triggers this field and a widget based on ComboBox.
It doesn&#8217;t currently use Sqlalchemy Enum type as it&#8217;s not yet supported in
sqlalchemy 0.5.</p>
<dl class="attribute">
<dt id="sqlkit.fields.EnumField.keys">
<tt class="descname">keys</tt><a class="headerlink" href="#sqlkit.fields.EnumField.keys" title="Permalink to this definition">¶</a></dt>
<dd>A list of allowe values in the orederd set by the programmer.
Used to set the order of the Combo Box</dd></dl>

<dl class="attribute">
<dt id="sqlkit.fields.EnumField.values">
<tt class="descname">values</tt><a class="headerlink" href="#sqlkit.fields.EnumField.values" title="Permalink to this definition">¶</a></dt>
<dd>A dict: keys are the allowed values, values are te corresponding
descriptions. It&#8217;s up to the programmer to set this list appropriately.</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.EnumField.lookup_value">
<tt class="descname">lookup_value</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#sqlkit.fields.EnumField.lookup_value" title="Permalink to this definition">¶</a></dt>
<dd>Return the value to be shown</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.ImageField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">ImageField</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField" title="Permalink to this definition">¶</a></dt>
<dd><p>Imge field suitable for VarcharField that hold an image path and should
be rendered as image (icon in tables). It&#8217;s never used when autoloading
the database schema (no info on the database tells that a string represent an
image path), it can be forced setting info values on the Column:</p>
<div class="highlight-python"><pre>render:         image
base_dir:       a directory
thumbnail_size: tuple (width, height)
default_size:   tuple (width height)</pre>
</div>
<p>as in:</p>
<div class="highlight-python"><pre>image = Column(String(100), info={'render' : 'image', 'base_dir' : '/path/to/images'}</pre>
</div>
<p>Image field that can create a thumbnail and resize an image into jpeg/png
format using gtk.gdk.pixbuf* functions</p>
<dl class="attribute">
<dt id="sqlkit.fields.ImageField.base_dir">
<tt class="descname">base_dir</tt><a class="headerlink" href="#sqlkit.fields.ImageField.base_dir" title="Permalink to this definition">¶</a></dt>
<dd>base directory under which all files will be saved. Default is <tt class="docutils literal"><span class="pre">os.getcwd()</span></tt>
unless is set at Schema time as shown above.
<a title="sqlkit.fields.ImageField.get_save_path" class="reference internal" href="#sqlkit.fields.ImageField.get_save_path"><tt class="xref docutils literal"><span class="pre">get_save_path()</span></tt></a> will use this to create a complete path. This can be set
when defining the Column as shown above.</dd></dl>

<dl class="attribute">
<dt id="sqlkit.fields.ImageField.thumbnail_size">
<tt class="descname">thumbnail_size</tt><a class="headerlink" href="#sqlkit.fields.ImageField.thumbnail_size" title="Permalink to this definition">¶</a></dt>
<dd>size of the thumbnail used to render in treeview. Default 50,50. Can be set in
Column.info as explained above.</dd></dl>

<dl class="attribute">
<dt id="sqlkit.fields.ImageField.default_size">
<tt class="descname">default_size</tt><a class="headerlink" href="#sqlkit.fields.ImageField.default_size" title="Permalink to this definition">¶</a></dt>
<dd>If set it must be a tuple (width, height) and all files uploaded will be
default to these dimentions if bigger.</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.get_value">
<tt class="descname">get_value</tt><big>(</big><em>shown=False</em>, <em>complete_path=False</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>shown</em> &#8211; boolean: not meaningful for this field</li>
<li><em>complete_path</em> &#8211; boolean: compose it with base path</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.set_value">
<tt class="descname">set_value</tt><big>(</big><em>value</em>, <em>initial=True</em>, <em>shown=False</em>, <em>obj=None</em>, <em>update_widget=True</em>, <em>new_name=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value and -if needed- copy the image file inside
<a title="sqlkit.fields.ImageField.base_dir" class="reference internal" href="#sqlkit.fields.ImageField.base_dir"><tt class="xref docutils literal"><span class="pre">base_dir</span></tt></a> possibly resizing it to <a title="sqlkit.fields.ImageField.default_size" class="reference internal" href="#sqlkit.fields.ImageField.default_size"><tt class="xref docutils literal"><span class="pre">default_size</span></tt></a>. When
resizing the only possible format is <em>jpeg</em> and the name is changed
accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>value</em> &#8211; the value to be set. It will be cleaned.</li>
<li><em>initial</em> &#8211; if True the <tt class="docutils literal"><span class="pre">self.initial_value</span></tt> is set as. <tt class="docutils literal"><span class="pre">self.initial_value</span></tt>
is used to know if a field has changed</li>
<li><em>obj</em> &#8211; if passed the attribute is set on the object when the field is set</li>
<li><em>update_widget</em> &#8211; if True (default) the widget that renders the field is set as well.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.clean_value">
<tt class="descname">clean_value</tt><big>(</big><em>value</em>, <em>obj=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.clean_value" title="Permalink to this definition">¶</a></dt>
<dd>strip self.base_dir from the file if present</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.get_save_path">
<tt class="descname">get_save_path</tt><big>(</big><em>name=None</em>, <em>obj=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.get_save_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a standard save path. You may want to customize it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>name</em> &#8211; the name of the file as picked up from the filesystem
or the desired new name for the file</li>
<li><em>obj</em> &#8211; the object. This may be used to work out the path. It&#8217;s
not used by default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.scale_pixbuf">
<tt class="descname">scale_pixbuf</tt><big>(</big><em>pixbuf</em>, <em>width=None</em>, <em>height=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.scale_pixbuf" title="Permalink to this definition">¶</a></dt>
<dd><p>scale pixbuf image with the same ratio so that it fits into self.w/self.h</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>pixbuf</em> &#8211; the pixbuf to scale</li>
<li><em>width</em> &#8211; the desider width</li>
<li><em>height</em> &#8211; the desider height</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.scale_file">
<tt class="descname">scale_file</tt><big>(</big><em>image_path</em>, <em>dst_path</em>, <em>width</em>, <em>height</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.scale_file" title="Permalink to this definition">¶</a></dt>
<dd>Scale input file into output file. Keep width/height ratio
:param image_path: path of the image to resize
:param dst_path: new name of the image
:param width: the desired width
:param height: the desired height</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.create_thumbnail">
<tt class="descname">create_thumbnail</tt><big>(</big><em>filename</em>, <em>thumbnail_path=None</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.create_thumbnail" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a thumbnail that will be used when rendering images in tables. Uses
attribute <a title="sqlkit.fields.ImageField.thumbnail_size" class="reference internal" href="#sqlkit.fields.ImageField.thumbnail_size"><tt class="xref docutils literal"><span class="pre">thumbnail_size</span></tt></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>filename</em> &#8211; the filename to create a thumbnail for</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.get_thumbnail">
<tt class="descname">get_thumbnail</tt><big>(</big><em>path=None</em>, <em>complete_path=False</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.get_thumbnail" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a thumbnail <em>path</em> and create the thumbnail image, if it
doesn&#8217;t already exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>path</em> &#8211; the path of the image file. If missing it&#8217;s found using <a title="sqlkit.fields.ImageField.get_value" class="reference internal" href="#sqlkit.fields.ImageField.get_value"><tt class="xref docutils literal"><span class="pre">get_value()</span></tt></a></li>
<li><em>complete_path</em> &#8211; return a complete path. Default is to return the path stripped
from the <a title="sqlkit.fields.ImageField.base_dir" class="reference internal" href="#sqlkit.fields.ImageField.base_dir"><tt class="xref docutils literal"><span class="pre">base_dir</span></tt></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ImageField.get_thumbnail_path_with_size">
<tt class="descname">get_thumbnail_path_with_size</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ImageField.get_thumbnail_path_with_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the thumbnail name for filename using default size. Place the
thumbnail in a subdir of image dir &#8216;.thumbnail&#8217; used by
<a title="sqlkit.fields.ImageField.get_thumbnail" class="reference internal" href="#sqlkit.fields.ImageField.get_thumbnail"><tt class="xref docutils literal"><span class="pre">get_thumbnail()</span></tt></a> and <a title="sqlkit.fields.ImageField.create_thumbnail" class="reference internal" href="#sqlkit.fields.ImageField.create_thumbnail"><tt class="xref docutils literal"><span class="pre">create_thumbnail()</span></tt></a>. The name
contains the <tt class="xref docutils literal"><span class="pre">thumbail_size</span></tt> used to generate it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameter:</th><td class="field-body"><em>filename</em> &#8211; the complete filename of the image</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.ForeignKeyField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">ForeignKeyField</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ForeignKeyField" title="Permalink to this definition">¶</a></dt>
<dd><p>A field to handle foreign keys</p>
<dl class="method">
<dt id="sqlkit.fields.ForeignKeyField.lookup_value">
<tt class="descname">lookup_value</tt><big>(</big><em>field_value</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ForeignKeyField.lookup_value" title="Permalink to this definition">¶</a></dt>
<dd>retrieve the value in a lookup table in case of foreign_key. It means: &#8220;given
the foreign key return a value describing at the best the referenced record&#8221;. 
This implies some guessing of the best representation of the record or using
information given to site-wide database configuration via _sqlkit_table.
The details of such mechanism are described in <a class="reference external" href="../completion.html#completion"><em>Completion</em></a> and <a class="reference external" href="dbutils.html#tabledescr"><em>Table Description</em></a>.
Since field_value may be incorrectly casted (it is used in completion)
errors are catched and None is returned (rather than raising an Error)</dd></dl>

<dl class="method">
<dt id="sqlkit.fields.ForeignKeyField.add_related_object">
<tt class="descname">add_related_object</tt><big>(</big><em>prop</em>, <em>key</em><big>)</big><a class="headerlink" href="#sqlkit.fields.ForeignKeyField.add_related_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an object to fullfill the  constraint on delete-orphan</p>
<p>This is not meant to be used directly, it is used by <tt class="xref docutils literal"><span class="pre">set_value()</span></tt>
If you have a relation with a delete-orphan constraint that would complain
that is not attached to anybody configure the Column adding in the info
keyword the <tt class="docutils literal"><span class="pre">attach_instance</span></tt> key pointing to the property of the relation
to be added.</p>
<p>In the demo you can find this example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span>  <span class="o">=</span> <span class="s">&#39;movie&#39;</span>
    <span class="o">...</span>
    <span class="n">director_id</span>    <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s">&#39;director.id&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">info</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;attach_instance&#39;</span><span class="p">:</span> <span class="s">&#39;director&#39;</span><span class="p">})</span>

<span class="k">class</span> <span class="nc">Director</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s">&#39;director&#39;</span>
    <span class="o">...</span>
    <span class="n">movies</span>      <span class="o">=</span> <span class="n">relation</span><span class="p">(</span><span class="s">&#39;Movie&#39;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s">&#39;director&#39;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s">&#39;all, delete-orphan&#39;</span><span class="p">,)</span>
</pre></div>
</div>
<p>Attaching a director_id via completion, requires that you attach a director instance as well.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlkit.fields.CollectionField">
<em class="property">class </em><tt class="descclassname">sqlkit.fields.</tt><tt class="descname">CollectionField</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#sqlkit.fields.CollectionField" title="Permalink to this definition">¶</a></dt>
<dd>A field that manages a collection of objects
Used in OneToMany or ManyToMany db fields.
it&#8217;s default widget is a collectionWidget that uses a SqlTable</dd></dl>

<dl class="function">
<dt id="sqlkit.fields.std_cleanup">
<tt class="descclassname">sqlkit.fields.</tt><tt class="descname">std_cleanup</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#sqlkit.fields.std_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that will handle standard cases: value is None, is a string
or is already cleaned.</p>
<p>This is handy when building new Fields as it allows to keep the
<tt class="docutils literal"><span class="pre">.clean_value</span></tt> method as simple as possible, i.e.  no need to check for
standard cases:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">CountMovies</span><span class="p">(</span><span class="n">fields</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    A field that counts the movies</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="nd">@fields.std_cleanup</span>
    <span class="k">def</span> <span class="nf">clean_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c">## missing a field_name attribute on obj the object itselt is passed</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">movies</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


            </div>
        </div>
     </div>
   </div>

        
</div> <!-- wrap -->

            <div class="bottomnav footer">
                <div class="doc_copyright">
                Alessandro Dentella -- Copyright 2006-2007-2008-2009-2010
		  Sqlkit release 0.9.1
<!--                 % if hasdoc('copyright'): -->
<!--                     &copy; <a href="../../copyright.html">Copyright</a> 2008, Sandro Dentella. -->
<!--                 % else: -->
<!--                     &copy; Copyright 2008, Sandro Dentella. -->
<!--                 % endif -->
                    creato usando  <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
                </div>
            </div>
        












<br style="clear: left" />

    </body>
</html>




