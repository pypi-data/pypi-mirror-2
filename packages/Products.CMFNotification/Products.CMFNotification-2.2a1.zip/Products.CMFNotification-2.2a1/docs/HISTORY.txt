Changelog
=========

2.2a1 (2010-04-21)
------------------

- Registered the permission in zcml and call setDefaultRoles in __init__.py. [jcbrand] 


2.2dev1 (2010-02-25)
--------------------

- The svn repository for the new eggified package has changed:
  http://svn.plone.org/svn/collective/Products.CMFNotification [jcbrand]

- Made CMFNotification a setuptools/distribute Python egg package [jcbrand]

- Remove the creation/registration of the PTSTranslationDomain utility. It has
  been deprecated in favour of zope.18n.translationdomain.TranslationDomain
  [jcbrand]


Older (pre-eggified) releases:
------------------------------

2.1 Final
---------

- added notification on object removal

- added safety belts for perverted usage;

- added AJAX features in the subscription portlet: if the user has
  enabled Javascrpt, the page is not refreshed when (s)he presses the
  subscribe/unsubscribe button;

- rewrote overly complicated ``_getPreviousVersion()`` method.


2.0 Final
---------

- finally provided an implementation for the ``previous`` binding that
  will let integrators display changes in notification template when
  an item is modified;

- added handler for item copy/paste, which now triggers "item
  creation" rules;

- moved installation code to Generic Setup steps;

- added an old Brazilian Portuguese translation contributed by Julio
  Monteiro;

- added labels on users selection rules so that different e-mails can
  be sent on the same action;

- added ``previous_state`` binding on workflow notification;

- fixed an i18n bug in the portal status messages generated by the
  subscribe/unsubscribe buttons in the portlet;

- added import/export mechanism for Generic Setup;

- changed the method that retrieves the mail template: by using
  ``restrictedTraverse()`` instead of ``getattr()``, we now allow the
  template to be a browser view;

- replaced ``title`` by ``Title`` in default mail templates (thanks to
  Martin Stadler for his bug report);

- fixed link (added ``/view``) in default mail templates;

- added safety belt when we cannot fetch an user's e-mail address
  (thanks to Laurence Pawling for his bug report);

- header encoding function is now more robust and handles more fields
  (including ``From``, which it did not handle);

- header encoding function now encodes only headers. It used to be a
  bit greedy and could possibly encode the message itself, leading to
  funny text, though not really readable;

- fixed uninstallation issues (CMFNotification used to leave remnants
  of itself);

- fixed a bug that caused bindings not to be included in mail
  templates options;

- added ``current_state`` binding for all rules and mail templates;

- "Mail subscription" portlet is now automatically added when the
  product is installed;

- minor changes in tests and documentation.


2.0 Release candidate 1
------------------------

- CMFNotification now **requires** Plone 3. It is **not** compatible
  with prior versions of Plone anymore;

- new, simplified, text-only notification mail templates. If you have
  a CMFNotification 1.x notification templates, they may still work,
  though.


1.1 Final
---------

- added how-to's, arranged documentation and converted it to reST.

- fixed a bug which caused CMFNotification to ask the user to download
  a file when (s)he subscribes or unsubscribes to it. Thanks to
  Christophe Sauthier for the patch.

- added translation in German, thanks to Gunter Vasold.


1.0 Final
---------

- added debug properties to the configuration.

- added Maildrop Host in list of recognized mailhost types.

- removed useless ``sendTemplateTo()`` method from notification tool.

- stripped rule components so that we can now write rules which are
  readable, like ``* :: *`` instead of the ugly ``*::*``.

