
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.3. py4j.java_callback — Py4J Callback API &mdash; Py4J</title>
    <link rel="stylesheet" href="_static/py4jdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  'true'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Py4J" href="index.html" />
    <link rel="up" title="4. Py4J Python API" href="py4j_python.html" />
    <link rel="next" title="4.4. py4j.finalizer — Py4J Finalizer API" href="py4j_finalizer.html" />
    <link rel="prev" title="4.2. py4j.java_collections — Py4J Collections API" href="py4j_java_collections.html" /> 
  </head>
  <body>
  	<div class="page">
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 5px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="py4j_finalizer.html" title="4.4. py4j.finalizer — Py4J Finalizer API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="py4j_java_collections.html" title="4.2. py4j.java_collections — Py4J Collections API"
             accesskey="P">previous</a> |</li>
    <li><a href="index.html">Home</a> |</li>
	<li><a href="download.html">Download</a> |</li>
	<li><a href="contents.html">Documentation</a> |</li>
	<li><a href="http://py4j.wordpress.com">Blog</a> |</li>
	<li><a href="https://sourceforge.net/apps/trac/py4j/wiki">Trac</a> |</li>
	<li><a href="about.html">About</a> &raquo;</li>

          <!-- <li><a href="py4j_python.html" accesskey="U">4. Py4J Python API</a> &raquo;</li>--> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="contents.html">On This Page</a></h3>
            <ul>
<li><a class="reference internal" href="#">4.3. <tt class="docutils literal"><span class="pre">py4j.java_callback</span></tt> &#8212; Py4J Callback API</a><ul>
<li><a class="reference internal" href="#pythonproxypool">4.3.1. PythonProxyPool</a></li>
<li><a class="reference internal" href="#callbackserver">4.3.2. CallbackServer</a></li>
<li><a class="reference internal" href="#callbackconnection">4.3.3. CallbackConnection</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="py4j_java_collections.html"
                                  title="previous chapter">4.2. <tt class="docutils literal"><span class="pre">py4j.java_collections</span></tt> &#8212; Py4J Collections API</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="py4j_finalizer.html"
                                  title="next chapter">4.4. <tt class="docutils literal docutils literal docutils literal"><span class="pre">py4j.finalizer</span></tt> &#8212; Py4J Finalizer API</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/py4j_java_callback.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-py4j.java_callback">
<span id="py4j-java-callback-py4j-callback-api"></span><h1>4.3. <a class="reference internal" href="#module-py4j.java_callback" title="py4j.java_callback: Enables Java programs to call Python Programs."><tt class="xref py py-mod docutils literal"><span class="pre">py4j.java_callback</span></tt></a> &#8212; Py4J Callback API<a class="headerlink" href="#module-py4j.java_callback" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#module-py4j.java_callback" title="py4j.java_callback: Enables Java programs to call Python Programs."><tt class="xref py py-mod docutils literal"><span class="pre">py4j.java_callback</span></tt></a> module defines the classes that manage callbacks, i.e., Java objects calling Python
objects. These classes should never be accessed directly by the users.</p>
<div class="section" id="pythonproxypool">
<span id="api-pythonproxypool"></span><h2>4.3.1. PythonProxyPool<a class="headerlink" href="#pythonproxypool" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="py4j.java_callback.PythonProxyPool">
<em class="property">class </em><tt class="descclassname">py4j.java_callback.</tt><tt class="descname">PythonProxyPool</tt><a class="headerlink" href="#py4j.java_callback.PythonProxyPool" title="Permalink to this definition">¶</a></dt>
<dd><p>A <cite>PythonProxyPool</cite> manages proxies that are passed to the Java side. A proxy is a Python
class that implements a Java interface.</p>
<p>A proxy has an internal class named <cite>Java</cite> with a member named <cite>implements</cite> which is a list of
fully qualified names (string) of the implemented interfaces.</p>
<p>The <cite>PythonProxyPool</cite> implements a subset of the dict interface: <cite>pool[id]</cite>, <cite>del(pool[id])</cite>, 
<cite>pool.put(proxy)</cite>, <cite>pool.clear()</cite>, <cite>id in pool</cite>, <cite>len(pool)</cite>.</p>
<p>The <cite>PythonProxyPool</cite> is thread-safe.</p>
<dl class="method">
<dt id="py4j.java_callback.PythonProxyPool.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#py4j.java_callback.PythonProxyPool.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="py4j.java_callback.PythonProxyPool.put">
<tt class="descname">put</tt><big>(</big><em>object</em><big>)</big><a class="headerlink" href="#py4j.java_callback.PythonProxyPool.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a proxy to the pool.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>object</strong> &#8211; The proxy to add to the pool.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A unique identifier associated with the object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="callbackserver">
<span id="api-callbackserver"></span><h2>4.3.2. CallbackServer<a class="headerlink" href="#callbackserver" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="py4j.java_callback.CallbackServer">
<em class="property">class </em><tt class="descclassname">py4j.java_callback.</tt><tt class="descname">CallbackServer</tt><big>(</big><em>pool</em>, <em>gateway_client</em>, <em>port=25334</em><big>)</big><a class="headerlink" href="#py4j.java_callback.CallbackServer" title="Permalink to this definition">¶</a></dt>
<dd><p>The CallbackServer is responsible for receiving call back connection requests from the JVM.
Usually connections are reused on the Java side, but there is at least one connection per 
concurrent thread.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pool</strong> &#8211; the pool responsible of tracking Python objects passed to the Java side.</li>
<li><strong>gateway_client</strong> &#8211; the gateway client used to call Java objects.</li>
<li><strong>port</strong> &#8211; the port the CallbackServer is listening to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py4j.java_callback.CallbackServer.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#py4j.java_callback.CallbackServer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts listening and accepting connection requests.</p>
<p>This method is called when invoking <cite>CallbackServer.start()</cite>. A CallbackServer instance
is created and started automatically when a <a class="reference internal" href="py4j_java_gateway.html#py4j.java_gateway.JavaGateway" title="py4j.java_gateway.JavaGateway"><tt class="xref py py-class docutils literal"><span class="pre">JavaGateway</span></tt></a>
instance is created.</p>
</dd></dl>

<dl class="method">
<dt id="py4j.java_callback.CallbackServer.shutdown">
<tt class="descname">shutdown</tt><big>(</big><big>)</big><a class="headerlink" href="#py4j.java_callback.CallbackServer.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops listening and accepting connection requests. All live connections are closed.</p>
<p>This method can safely be called by another thread.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="callbackconnection">
<span id="api-callbackconnection"></span><h2>4.3.3. CallbackConnection<a class="headerlink" href="#callbackconnection" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="py4j.java_callback.CallbackConnection">
<em class="property">class </em><tt class="descclassname">py4j.java_callback.</tt><tt class="descname">CallbackConnection</tt><big>(</big><em>pool</em>, <em>input</em>, <em>socket</em>, <em>gateway_client</em><big>)</big><a class="headerlink" href="#py4j.java_callback.CallbackConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>A <cite>CallbackConnection</cite> receives callbacks and garbage collection requests from the Java side.</p>
<dl class="method">
<dt id="py4j.java_callback.CallbackConnection.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#py4j.java_callback.CallbackConnection.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
		  		
				<div class="helpbar">
					<h3>Questions/Feedback?</h3>
					<ul>
						<li>Try the <a href="faq.html">FAQ</a> -- It answers many questions.</li>
						<li>Search for information in the <a href="http://sourceforge.net/mailarchive/forum.php?forum_name=py4j-users">archives of the py4j-users mailing list</a>, or <a href="https://lists.sourceforge.net/lists/listinfo/py4j-users">post a question</a>.</li>
						<li>Check out the <a href="http://sourceforge.net/apps/trac/py4j/wiki/HowTos">user-contributed how-tos</a> or contribute one yourself.</li>
						<li>If you notice errors with this documentation, <a href="http://sourceforge.net/apps/trac/py4j/newticket">open a ticket</a> and let us know. Please, only open a ticket for feedback or improvements on the docs. To get help, use the links above!</li>
					</ul>
				</div>
				<script type="text/javascript">  var disqus_developer = 0; </script> 
				<div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/py4j/embed.js"></script><noscript><a href="http://disqus.com/forums/py4j/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
				
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 5px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="py4j_finalizer.html" title="4.4. py4j.finalizer — Py4J Finalizer API"
             >next</a> |</li>
        <li class="right" >
          <a href="py4j_java_collections.html" title="4.2. py4j.java_collections — Py4J Collections API"
             >previous</a> |</li>
    <li><a href="index.html">Home</a> |</li>
	<li><a href="download.html">Download</a> |</li>
	<li><a href="contents.html">Documentation</a> |</li>
	<li><a href="http://py4j.wordpress.com">Blog</a> |</li>
	<li><a href="https://sourceforge.net/apps/trac/py4j/wiki">Trac</a> |</li>
	<li><a href="about.html">About</a> &raquo;</li>

          <!-- <li><a href="py4j_python.html" >4. Py4J Python API</a> &raquo;</li>--> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009-2010, Barthélémy Dagenais.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </div>
  
  
  <script type="text/javascript">
      //<![CDATA[
      (function(){
          var links = document.getElementsByTagName('a');
          var query = '?';
          for (var i = 0; i < links.length; i++) {
              if (links[i].href.indexOf('#disqus_thread') >= 0) {
                  query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
              }
          }
          document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/py4j/get_num_replies.js' + query + '"></' + 'script>');
      })();
      //]]>
  </script>
  
  </body>
  

</html>