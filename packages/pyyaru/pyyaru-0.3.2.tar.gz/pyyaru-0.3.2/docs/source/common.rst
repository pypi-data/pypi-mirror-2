Основное
========

Зависимости
-----------

* lxml - http://codespeak.net/lxml/


Авторизация
-----------

| Для доступа к некотором типам ресурсов Я.ру требуется авторизация.
| Взаимодействие с OAuth-сервером [#]_ (сервером, выдающим специальный ключ авторизации — токен) производится сторонними средствами, вне pyyaru.
| pyyaru интересен только токен доступа (access token). Его следует передать в параметр pyyaru.ACCESS_TOKEN.

| Если вы планируете использовать в качестве клиента сам pyyaru, то токен для него можно получить по адресу:
| https://oauth.yandex.ru/authorize?client_id=25df5dd8e3064e188fbbf56f7c667d5f&response_type=code 

**Внимание:**
  для получения токена по приведенному выше адресу необходимо быть авторизованным на Яндексе.

| Полученный по ссылке файл (token) можно положить рядом с pyyaru.py, в таком случае реквизиты будут взяты из него автоматически.
| Либо ключ access_token, находящийся внутри файла можно передать в параметр pyyaru.ACCESS_TOKEN.

.. [#] https://oauth.yandex.ru/

Объекты pyyaru
--------------

Ресурсы Я.ру pyyaru представляет в виде объектов.

* класс :ref:`yaPerson <class-yaperson>` — ресурс пользователя;
* класс :ref:`yaPersons <class-yapersons>` — ресурс списка пользователей (н.п. список друзей пользователя);
* класс :ref:`yaClub <class-yaclub>` — ресурс клуба;
* класс :ref:`yaClubs <class-yaclubs>` — ресурс списка клубов (н.п. клубы, в которых состоит пользователь);
* класс :ref:`yaEntry <class-yaentry>` — ресурс сообщения (публикации);
* класс :ref:`yaEntries <class-yaentries>` — ресурс списка сообщений .

Объект создается обычным путем::

    my_club = pyyaru.yaClub(resource_id)

Параметром *resource_id* в конструктор может быть передано одно из трех значений:

1. Полноценный URL (н.п. https://api-yaru.yandex.ru/person/153990/)
2. ya-идентификатор URN (н.п. urn:ya.ru:person/153990)
3. URI (н.п. /me/)


Свойства объектов
-----------------

Объекты разных типов обладают различными свойствами.
Перечислить свойства объекта можно следующим образом::

    for property_name, property_value in my_club:
        print '%s = %s' % (property_name, property_value)


Ссылки объекта
--------------

| Каждый ya-объект содержит набор ссылок на другие ресурсы, состоящие в каких-либо отношениях с данным.  
Этот набор хранится в словаре *links*::

    for link in my_club.links:
        print '%s = %s' % (link, my_club.links[link])


Так объект типа :ref:`yaPerson <class-yaperson>`, помимо прочих, содержит в словаре *links* ссылку *'member_of_clubs'*, указывающую на ресурс, описывающий в каких клубах состоит данный пользователь.  
