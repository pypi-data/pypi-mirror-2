<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang=
"en-US">
<head>
  <title>circuits.web WebSockets Demo</title>
  <meta http-equiv="content-type" content=
  "application/xml+xhtml; charset=us-ascii" />
</head>

<body>
  <a href="#" onclick="test()">Test</a> <script type=
  "text/javascript">
//<![CDATA[
     function test() {
         var ws = new WebSocket("ws://" + window.location.host + "/websocket");
         ws.onopen = function(e) {
             console.log("Opened");
             console.log(e);
             ws.send("Hello World!");
         };
         ws.onerror = function (e) {
             console.log("Error");
             console.log(e);
         };
         ws.onmessage = function (e) {
             console.log("Message");
             console.log(e.data);
         };
         ws.onclose = function(e) {
             console.log("Closed");
             console.log(e);
         };
         return ws;
     }
  //]]>
  </script>
</body>
</html>
