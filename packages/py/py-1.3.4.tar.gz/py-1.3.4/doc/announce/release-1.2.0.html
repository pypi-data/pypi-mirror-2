<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>release-1.2.0</title>
    <meta content="text/html;charset=ISO-8859-1" name="Content-Type"/>
    <link href="../style.css" media="screen" rel="stylesheet" type="text/css"/></head>
  <body>
    <div id="navspace">
      <div><a href="http://pylib.org"><img alt="py lib" height="57" id="pyimg" src="http://codespeak.net/img/pylib.png" width="77"/></a></div>
      <div id="menubar">
        <div>
          <div><a class="menu" href="release-1.3.4.html">1.3.4 ANN</a></div></div>
        <div>
          <div><a class="menu" href="../install.html">INSTALL</a></div></div>
        <div>
          <div><a class="menu" href="../contact.html">CONTACT</a></div></div>
        <div>
          <div><a class="menu" href="../changelog.html">CHANGELOG</a></div></div>
        <div>
          <div><a class="menu" href="../faq.html">FAQ</a></div></div>
        <div>
          <div>
            <h3>py.test:</h3>
            <div><a class="menu" href="../test/index.html">Index</a></div>
            <div><a class="menu" href="../test/quickstart.html">Quickstart</a></div>
            <div><a class="menu" href="../test/features.html">Features</a></div>
            <div><a class="menu" href="../test/funcargs.html">Funcargs</a></div>
            <div><a class="menu" href="../test/plugin/index.html">Plugins</a></div>
            <div><a class="menu" href="../test/customize.html">Customize</a></div>
            <div><a class="menu" href="../test/talks.html">Tutorials</a></div><a class="menu" href="http://hudson.testrun.org">hudson-tests</a></div></div>
        <div>
          <div>
            <h3>supporting APIs:</h3>
            <div><a class="menu" href="../index.html">Index</a></div>
            <div><a class="menu" href="../path.html">py.path</a></div>
            <div><a class="menu" href="../code.html">py.code</a></div></div></div></div></div>
    <div id="contentspace">
<div class="document" id="py-test-pylib-1-2-0-junitxml-standalone-test-scripts-pluginization">
<h1 class="title">py.test/pylib 1.2.0: junitxml, standalone test scripts, pluginization</h1>

<p>py.test is an advanced automated testing tool working with
Python2, Python3 and Jython versions on all major operating
systems.  It has a simple plugin architecture and can run many
existing common Python test suites without modification.  It offers
some unique features not found in other testing tools.
See <a class="reference external" href="http://pytest.org">http://pytest.org</a> for more info.</p>
<p>py.test 1.2.0 brings many bug fixes and interesting new abilities:</p>
<ul class="simple">
<li>--junitxml=path will create an XML file for use with CI processing</li>
<li>--genscript=path creates a standalone py.test-equivalent test-script</li>
<li>--ignore=path prevents collection of anything below that path</li>
<li>--confcutdir=path only lookup conftest.py test configs below that path</li>
<li>a 'pytest_report_header' hook to add info to the terminal report header</li>
<li>a 'pytestconfig' function argument gives direct access to option values</li>
<li>'pytest_generate_tests' can now be put into a class as well</li>
<li>on CPython py.test additionally installs as &quot;py.test-VERSION&quot;, on
Jython as py.test-jython and on PyPy as py.test-pypy-XYZ</li>
</ul>
<p>Apart from many bug fixes 1.2.0 also has better pluginization:
Distributed testing and looponfailing testing now live in the
separately installable 'pytest-xdist' plugin.  The same is true for
'pytest-figleaf' for doing coverage reporting.  Those two plugins
can serve well now as blue prints for doing your own.</p>
<p>thanks to all who helped and gave feedback,
have fun,</p>
<p>holger krekel, January 2010</p>
<div class="section" id="changes-between-1-2-0-and-1-1-1">
<h1>Changes between 1.2.0 and 1.1.1</h1>
<ul class="simple">
<li>moved dist/looponfailing from py.test core into a new
separately released pytest-xdist plugin.</li>
<li>new junitxml plugin: --junitxml=path will generate a junit style xml file
which is processable e.g. by the Hudson CI system.</li>
<li>new option: --genscript=path will generate a standalone py.test script
which will not need any libraries installed.  thanks to Ralf Schmitt.</li>
<li>new option: --ignore will prevent specified path from collection.
Can be specified multiple times.</li>
<li>new option: --confcutdir=dir will make py.test only consider conftest
files that are relative to the specified dir.</li>
<li>new funcarg: &quot;pytestconfig&quot; is the pytest config object for access
to command line args and can now be easily used in a test.</li>
<li>install 'py.test' and <cite>py.which</cite> with a <tt class="docutils literal"><span class="pre">-$VERSION</span></tt> suffix to
disambiguate between Python3, python2.X, Jython and PyPy installed versions.</li>
<li>new &quot;pytestconfig&quot; funcarg allows access to test config object</li>
<li>new &quot;pytest_report_header&quot; hook can return additional lines
to be displayed at the header of a test run.</li>
<li>(experimental) allow &quot;py.test path::name1::name2::...&quot; for pointing
to a test within a test collection directly.  This might eventually
evolve as a full substitute to &quot;-k&quot; specifications.</li>
<li>streamlined plugin loading: order is now as documented in
customize.html: setuptools, ENV, commandline, conftest.
also setuptools entry point names are turned to canonical namees (&quot;pytest_*&quot;)</li>
<li>automatically skip tests that need 'capfd' but have no os.dup</li>
<li>allow pytest_generate_tests to be defined in classes as well</li>
<li>deprecate usage of 'disabled' attribute in favour of pytestmark</li>
<li>deprecate definition of Directory, Module, Class and Function nodes
in conftest.py files.  Use pytest collect hooks instead.</li>
<li>collection/item node specific runtest/collect hooks are only called exactly
on matching conftest.py files, i.e. ones which are exactly below
the filesystem path of an item</li>
<li>change: the first pytest_collect_directory hook to return something
will now prevent further hooks to be called.</li>
<li>change: figleaf plugin now requires --figleaf to run.  Also
change its long command line options to be a bit shorter (see py.test -h).</li>
<li>change: pytest doctest plugin is now enabled by default and has a
new option --doctest-glob to set a pattern for file matches.</li>
<li>change: remove internal py._* helper vars, only keep py._pydir</li>
<li>robustify capturing to survive if custom pytest_runtest_setup
code failed and prevented the capturing setup code from running.</li>
<li>make py.test.* helpers provided by default plugins visible early -
works transparently both for pydoc and for interactive sessions
which will regularly see e.g. py.test.mark and py.test.importorskip.</li>
<li>simplify internal plugin manager machinery</li>
<li>simplify internal collection tree by introducing a RootCollector node</li>
<li>fix assert reinterpreation that sees a call containing &quot;keyword=...&quot;</li>
<li>fix issue66: invoke pytest_sessionstart and pytest_sessionfinish
hooks on slaves during dist-testing, report module/session teardown
hooks correctly.</li>
<li>fix issue65: properly handle dist-testing if no
execnet/py lib installed remotely.</li>
<li>skip some install-tests if no execnet is available</li>
<li>fix docs, fix internal bin/ script generation</li>
</ul>
</div>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7597274-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body></html>