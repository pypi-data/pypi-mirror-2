<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>py.test attic</title>
    <meta content="text/html;charset=ISO-8859-1" name="Content-Type"/>
    <link href="../style.css" media="screen" rel="stylesheet" type="text/css"/></head>
  <body>
    <div id="navspace">
      <div><a href="http://pylib.org"><img alt="py lib" height="57" id="pyimg" src="http://codespeak.net/img/pylib.png" width="77"/></a></div>
      <div id="menubar">
        <div style="font-style: italic;">1.0.1</div>
        <div>
          <div><a class="menu" href="../download.html">install</a></div></div>
        <div>
          <div><a class="menu" href="../contact.html">contact</a></div></div>
        <div>
          <div><a class="menu" href="../faq.html">faq</a></div></div>
        <div>
          <div>
            <h3>py.test:</h3>
            <div><a class="menu" href="index.html">index</a></div>
            <div><a class="menu" href="quickstart.html">quickstart</a></div>
            <div><a class="menu" href="talks.html">tutorials</a></div>
            <div><a class="menu" href="features.html">features</a></div>
            <div><a class="menu" href="plugin/index.html">plugins</a></div>
            <div><a class="menu" href="funcargs.html">funcargs</a></div>
            <div><a class="menu" href="customize.html">customize</a></div></div></div>
        <div>
          <div>
            <h3>supporting APIs:</h3>
            <div><a class="menu" href="../index.html">pylib index</a></div>
            <div><a class="menu" href="../execnet.html">py.execnet</a></div>
            <div><a class="menu" href="../path.html">py.path</a></div>
            <div><a class="menu" href="../code.html">py.code</a></div></div></div></div></div>
    <div id="contentspace">
<div class="document" id="attic-documentation">
<h1 class="title">ATTIC documentation</h1>

<p>XXX REVIEW and remove the below  XXX</p>
<div class="section" id="customizing-the-testing-process">
<h1>Customizing the testing process</h1>
<div class="section" id="writing-conftest-py-files">
<h2>writing conftest.py files</h2>
<p>You may put conftest.py files containing project-specific
configuration in your project's root directory, it's usually
best to put it just into the same directory level as your
topmost <tt class="docutils literal"><span class="pre">__init__.py</span></tt>.  In fact, <tt class="docutils literal"><span class="pre">py.test</span></tt> performs
an &quot;upwards&quot; search starting from the directory that you specify
to be tested and will lookup configuration values right-to-left.
You may have options that reside e.g. in your home directory
but note that project specific settings will be considered
first.  There is a flag that helps you debugging your
conftest.py configurations:</p>
<pre class="literal-block">
py.test --traceconfig
</pre>
</div>
<div class="section" id="customizing-the-collecting-and-running-process">
<h2>customizing the collecting and running process</h2>
<p>To introduce different test items you can create
one or more <tt class="docutils literal"><span class="pre">conftest.py</span></tt> files in your project.
When the collection process traverses directories
and modules the default collectors will produce
custom Collectors and Items if they are found
in a local <tt class="docutils literal"><span class="pre">conftest.py</span></tt> file.</p>
</div>
<div class="section" id="customizing-the-collection-process-in-a-module">
<h2>Customizing the collection process in a module</h2>
<p>If you have a module where you want to take responsibility for
collecting your own test Items and possibly even for executing
a test then you can provide <a class="reference external" href="features.html#generative-tests">generative tests</a> that yield
callables and possibly arguments as a tuple.   This is especially
useful for calling application test machinery with different
parameter sets but counting each of the calls as a separate
tests.</p>
<p>The other extension possibility is about
specifying a custom test <tt class="docutils literal"><span class="pre">Item</span></tt> class which
is responsible for setting up and executing an underlying
test.  Or you can extend the collection process for a whole
directory tree by putting Items in a <tt class="docutils literal"><span class="pre">conftest.py</span></tt> configuration file.
The collection process dynamically consults the <em>chain of conftest.py</em>
modules to determine collectors and items at <tt class="docutils literal"><span class="pre">Directory</span></tt>, <tt class="docutils literal"><span class="pre">Module</span></tt>,
<tt class="docutils literal"><span class="pre">Class</span></tt>, <tt class="docutils literal"><span class="pre">Function</span></tt> or <tt class="docutils literal"><span class="pre">Generator</span></tt> level respectively.</p>
</div>
<div class="section" id="customizing-execution-of-items-and-functions">
<h2>Customizing execution of Items and Functions</h2>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">py.test.collect.Function</span></tt> test items control execution
of a test function through its <tt class="docutils literal"><span class="pre">function.runtest()</span></tt> method.
This method is responsible for performing setup and teardown
(&quot;Test Fixtures&quot;) for a test Function.</li>
<li><tt class="docutils literal"><span class="pre">Function.execute(target,</span> <span class="pre">*args)</span></tt> methods are invoked by
the default <tt class="docutils literal"><span class="pre">Function.run()</span></tt> to actually execute a python
function with the given (usually empty set of) arguments.</li>
</ul>
</div>
</div>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7597274-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body></html>