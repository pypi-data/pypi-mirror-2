<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>py.test xunit_setup</title>
    <meta content="text/html;charset=ISO-8859-1" name="Content-Type"/>
    <link href="../style.css" media="screen" rel="stylesheet" type="text/css"/></head>
  <body>
    <div id="navspace">
      <div><a href="http://pylib.org"><img alt="py lib" height="57" id="pyimg" src="http://codespeak.net/img/pylib.png" width="77"/></a></div>
      <div id="menubar">
        <div>
          <div><a class="menu" href="../announce/release-1.3.0.html">1.3.0 ANN</a></div></div>
        <div>
          <div><a class="menu" href="../install.html">INSTALL</a></div></div>
        <div>
          <div><a class="menu" href="../contact.html">CONTACT</a></div></div>
        <div>
          <div><a class="menu" href="../changelog.html">CHANGELOG</a></div></div>
        <div>
          <div><a class="menu" href="../faq.html">FAQ</a></div></div>
        <div>
          <div>
            <h3>py.test:</h3>
            <div><a class="menu" href="index.html">Index</a></div>
            <div><a class="menu" href="quickstart.html">Quickstart</a></div>
            <div><a class="menu" href="features.html">Features</a></div>
            <div><a class="menu" href="funcargs.html">Funcargs</a></div>
            <div><a class="menu" href="plugin/index.html">Plugins</a></div>
            <div><a class="menu" href="customize.html">Customize</a></div>
            <div><a class="menu" href="talks.html">Tutorials</a></div><a class="menu" href="http://hudson.testrun.org">hudson-tests</a></div></div>
        <div>
          <div>
            <h3>supporting APIs:</h3>
            <div><a class="menu" href="../index.html">Index</a></div>
            <div><a class="menu" href="../path.html">py.path</a></div>
            <div><a class="menu" href="../code.html">py.code</a></div></div></div></div></div>
    <div id="contentspace">
<div class="document" id="extended-xunit-style-setup">
<h1 class="title">extended xUnit style setup</h1>

<p>Note:</p>
<blockquote>
Since version 1.0 <a class="reference external" href="funcargs.html">funcargs</a> present the new and
more powerful way to manage test setups with larger
test suites.  <em>funcargs</em> also provide flexible
<a class="reference external" href="funcargs.html#parametrizing-tests">test parametrization</a> which goes way beyond
what you can do with the xUnit setup/teardown-method
patter.</blockquote>
<p>Python, Java and many other languages have a tradition
of using <a class="reference external" href="http://en.wikipedia.org/wiki/XUnit">xUnit</a> style testing. This typically
involves the call of a <tt class="docutils literal">setup</tt> method before
a test function is run and <tt class="docutils literal">teardown</tt> after
it finishes.  With <tt class="docutils literal">py.test</tt> there are three
scopes for which you can provide setup/teardown
hooks to provide test fixtures: per-module, per-class
and per-method/function. <tt class="docutils literal">py.test</tt> will
discover and call according methods automatically.</p>
<p>The <a class="reference external" href="plugin/unittest.html">unittest plugin</a>  also will intregate <tt class="docutils literal">unittest.TestCase</tt>
instances into a test run and call respective setup/teardown methods.</p>
<p>All setup/teardown methods are optional.</p>
<p>The following methods are called at module level if they exist:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">setup_module</span>(module):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot; setup up any state specific to the execution</span>
<span style="color: #BA2121; font-style: italic">        of the given module.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">teardown_module</span>(module):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot; teardown any state that was previously setup</span>
<span style="color: #BA2121; font-style: italic">        with a setup_module method.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
</pre></div>
<p>The following hooks are available for test classes:</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">setup_class</span>(cls):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot; setup up any state specific to the execution</span>
<span style="color: #BA2121; font-style: italic">        of the given class (which usually contains tests).</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">teardown_class</span>(cls):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot; teardown any state that was previously setup</span>
<span style="color: #BA2121; font-style: italic">        with a call to setup_class.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">setup_method</span>(<span style="color: #008000">self</span>, method):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot; setup up any state tied to the execution of the given</span>
<span style="color: #BA2121; font-style: italic">        method in a class.  setup_method is invoked for every</span>
<span style="color: #BA2121; font-style: italic">        test method of a class.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">teardown_method</span>(<span style="color: #008000">self</span>, method):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot; teardown any state that was previously setup</span>
<span style="color: #BA2121; font-style: italic">        with a setup_method call.</span>
<span style="color: #BA2121; font-style: italic">    &quot;&quot;&quot;</span>
</pre></div>
<p>The last two hooks, <tt class="docutils literal">setup_method</tt> and <tt class="docutils literal">teardown_method</tt>, are
equivalent to <tt class="docutils literal">setUp</tt> and <tt class="docutils literal">tearDown</tt> in the Python standard
library's <a class="reference external" href="http://docs.python.org/library/unittest.html">unittest.py module</a>.</p>
<p>Note that it possible that setup/teardown pairs are invoked multiple
times per testing process.</p>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7597274-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body></html>