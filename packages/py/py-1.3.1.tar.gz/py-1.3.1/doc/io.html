<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>io</title>
    <meta content="text/html;charset=ISO-8859-1" name="Content-Type"/>
    <link href="style.css" media="screen" rel="stylesheet" type="text/css"/></head>
  <body>
    <div id="navspace">
      <div><a href="http://pylib.org"><img alt="py lib" height="57" id="pyimg" src="http://codespeak.net/img/pylib.png" width="77"/></a></div>
      <div id="menubar">
        <div>
          <div><a class="menu" href="announce/release-1.3.1.html">1.3.1 ANN</a></div></div>
        <div>
          <div><a class="menu" href="install.html">INSTALL</a></div></div>
        <div>
          <div><a class="menu" href="contact.html">CONTACT</a></div></div>
        <div>
          <div><a class="menu" href="changelog.html">CHANGELOG</a></div></div>
        <div>
          <div><a class="menu" href="faq.html">FAQ</a></div></div>
        <div>
          <div>
            <h3>py.test:</h3>
            <div><a class="menu" href="test/index.html">Index</a></div>
            <div><a class="menu" href="test/quickstart.html">Quickstart</a></div>
            <div><a class="menu" href="test/features.html">Features</a></div>
            <div><a class="menu" href="test/funcargs.html">Funcargs</a></div>
            <div><a class="menu" href="test/plugin/index.html">Plugins</a></div>
            <div><a class="menu" href="test/customize.html">Customize</a></div>
            <div><a class="menu" href="test/talks.html">Tutorials</a></div><a class="menu" href="http://hudson.testrun.org">hudson-tests</a></div></div>
        <div>
          <div>
            <h3>supporting APIs:</h3>
            <div><a class="menu" href="index.html">Index</a></div>
            <div><a class="menu" href="path.html">py.path</a></div>
            <div><a class="menu" href="code.html">py.code</a></div></div></div></div></div>
    <div id="contentspace">
<div class="document" id="py-io">
<h1 class="title">py.io</h1>

<p>The 'py' lib provides helper classes for capturing IO during
execution of a program.</p>
<div class="section" id="io-capturing-examples">
<h1>IO Capturing examples</h1>
<div class="section" id="py-io-stdcapture">
<h2><tt class="docutils literal">py.io.StdCapture</tt></h2>
<p>Basic Example:</p>
<pre class="literal-block">
&gt;&gt;&gt; import py
&gt;&gt;&gt; capture = py.io.StdCapture()
&gt;&gt;&gt; print &quot;hello&quot;
&gt;&gt;&gt; out,err = capture.reset()
&gt;&gt;&gt; out.strip() == &quot;hello&quot;
True
</pre>
<p>For calling functions you may use a shortcut:</p>
<pre class="literal-block">
&gt;&gt;&gt; import py
&gt;&gt;&gt; def f(): print &quot;hello&quot;
&gt;&gt;&gt; res, out, err = py.io.StdCapture.call(f)
&gt;&gt;&gt; out.strip() == &quot;hello&quot;
True
</pre>
</div>
<div class="section" id="py-io-stdcapturefd">
<h2><tt class="docutils literal">py.io.StdCaptureFD</tt></h2>
<p>If you also want to capture writes to the stdout/stderr
filedescriptors you may invoke:</p>
<pre class="literal-block">
&gt;&gt;&gt; import py, sys
&gt;&gt;&gt; capture = py.io.StdCaptureFD(out=False, in_=False)
&gt;&gt;&gt; sys.stderr.write(&quot;world&quot;)
&gt;&gt;&gt; out,err = capture.reset()
&gt;&gt;&gt; err
'world'
</pre>
</div>
</div>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7597274-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body></html>