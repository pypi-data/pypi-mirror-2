<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="collective.personaltags">
<body>

<metal:main fill-slot="main">
    <tal:main-macro metal:define-macro="main"
        tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime">

        <h2 class="documentFirstHeading" tal:content="string: Manage Tags for: view/user" />
        
        <p class="documentDescription" tal:content="context/description" />

        <div tal:replace="structure provider:plone.abovecontentbody" />

        <style>
            div.togglebutton a.active{}
            div.togglebutton a.inactive{ color: blue;}
            div.togglebutton a.inactive:hover{ color: blue; text-decoration:underline;}
        </style>

        <table>
            <tr><td colspan="2"><h3>System Tags</h3></td></tr>
            <tr tal:repeat="tag view/system_tags" class="tag">
                <td style="padding-right:100px"><b tal:content="tag/tag"></b></td>
                <td>
                    <div class="togglebutton" tal:attributes="data-tagname tag/tag">
                        <a tal:attributes="class python:tag['hidden'] and 'inactive' or 'active'">show</a>
                        <a tal:attributes="class python:tag['hidden'] and 'active' or 'inactive'">hide</a>
                    </div>
                </td>
            </tr>
       
            <tr><td colspan="2"><br/><h3>User Defined Tags</h3></td></tr>
            <tr tal:repeat="tag view/non_system_tags" class="tag">
                <td style="padding-right:100px"><b tal:content="tag/tag"></b></td>
                <td>
                    <div class="togglebutton" tal:attributes="data-tagname tag/tag">
                        <a tal:attributes="class python:tag['hidden'] and 'inactive' or 'active'">show</a>
                        <a tal:attributes="class python:tag['hidden'] and 'active' or 'inactive'">hide</a>
                        <a class="inactive">delete</a>
                    </div>
                </td>
            </tr>
        </table>

        <script>
            jQuery(document).ready(function() {
                personalTagsManageInit();
            });
        </script>

    </tal:main-macro>
</metal:main>

</body>
</html>
