<metal:main_macro define-macro="main"
  tal:define="portal_type python:here.getPortalTypeName().lower().replace(' ', '_');
              base_macros here/base/macros;
              view_template python:'%s_view' % portal_type;
              view_macros python:path('here/%s/macros|nothing' % view_template);
              body_macro view_macros/main | base_macros/main;">

  <metal:block use-macro="here/global_defines/macros/defines" />
  <metal:use_body use-macro="body_macro" />

</metal:main_macro>