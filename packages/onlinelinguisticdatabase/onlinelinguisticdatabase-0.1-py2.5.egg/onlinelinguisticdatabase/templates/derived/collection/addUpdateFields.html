<%namespace file="/base/helper.html" name="helper" import="markdownHelp, formEmbeddingHelp, entityLinkingHelp, reStructuredTextHelp"/>
<%namespace file="/base/javascriptDefs.html" name="javascriptDefs" import="getMemoryContentsScript"/>

<%def name="add()">
 ${primaryData()}
 ${whoAndWhen()}
 ${content()}
</%def>


<%def name="update()">
 ${primaryData()}
 ${whoAndWhen()}
 ${content()}
</%def>


<%def name="primaryData()">
<fieldset>
<legend>Primary Data</legend>
<ol>
 <li>
  <label for="title">Title *</label>
  <input id="title" maxlength="255" name="title" tabindex="1" type="text" />
 </li>
 <li>
  <label for="collectionType">Type</label>
  ${h.select(name='collectionType', selected_values="", options=app_globals.collectionTypes, tabindex=2)}
 </li> 
 <li>
  <label for="description">Description</label>
  <textarea id="description" name="description" rows="4" cols="10" tabindex="3"></textarea>
 </li>
</ol>
</fieldset>
</%def>


<%def name="whoAndWhen()">
<fieldset>
<legend>Who and When</legend>
<ol>
 <li>
  <label for="speaker">Speaker</label>
  <% speakers = [('', '')] + app_globals.speakers %>
  ${h.select(name='speaker', selected_values="", options=speakers, tabindex=3)}
 </li>
 <li>
  <label for="elicitor">Elicitor</label>
  <% users = [('', '')] + app_globals.users %>
  ${h.select(name='elicitor', selected_values="", options=users, tabindex=4)}
 </li>
 <li>
  <label for="source">Source</label>
  <% sources = [('', '')] + app_globals.sources %>
  ${h.select(name='source', selected_values="", options=sources, tabindex=5)}
 </li>
 <li>
  <label for="dateElicited">Date Elicited (MM/DD/YYYY)</label>
  <input id="dateElicited" maxlength="10" name="dateElicited" tabindex="5" type="text" />
 </li>
</ol>
</fieldset>
</%def>


<%def name="content()">
<fieldset id="collectionContentFieldset">
<legend>Content</legend>
 <% 
    sUrl = url(controller='collection', action='getmemory') 
    getMemoryContentsScript()
 %>
 <a class="buttonLink" name="getmemory" href='#' onclick="getMemoryContents('${sUrl}'); return false;" title="Insert Form IDs from Memory into this Collection's content">insert contents of memory</a>
 <p>Embed OLD Forms ${formEmbeddingHelp()}</p>
 <p>Link to OLD entities ${entityLinkingHelp()}</p>
 <p>Use reStructuredText ${reStructuredTextHelp()} to format your content</p>
 <textarea id="collectionContent" class="monospace" name="contents" rows="20" cols="10" tabindex="6"></textarea>
</fieldset>
</%def>
