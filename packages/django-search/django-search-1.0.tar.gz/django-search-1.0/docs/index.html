

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to django-search’s documentation! &mdash; django-search v1.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-search v1.0 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">django-search v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-django-search-s-documentation">
<h1>Welcome to django-search&#8217;s documentation!<a class="headerlink" href="#welcome-to-django-search-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>django-search is a django reusable app to perform custom search over a queryset in a simple way using custom tags. It is inspired by the simplicity of django-pagination (other django reusable app you should use if you aren&#8217;t) and it&#8217;s use is very similar.</p>
</div>
<div class="section" id="install">
<h1>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h1>
<p>Install it as a normal python package using pip:</p>
<div class="highlight-python"><pre>pip install django-search</pre>
</div>
<p>You can also download the zip, uncompress it and run:</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
<p>Then you must add <em>search</em> app in your settings.py file and you are done:</p>
<div class="highlight-python"><pre>INSTALLED_APPS = (
        ...
        'search'
)</pre>
</div>
</div>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>In order to use django-search in a template you must load search_tags:</p>
<div class="highlight-python"><pre>{% load search_tags %}</pre>
</div>
<p>Then place the {% search %} tag where you want the search form to be displayed. The tag has this structure:</p>
<div class="highlight-python"><pre>{% search queryset field1 field2 ... %}</pre>
</div>
<p>where <em>queryset</em> is a queryset object (not evaluated or sliced) and <em>field1 field2 ...</em> are any number of fields in your queryset model for the search to be performed. In example:</p>
<div class="highlight-python"><pre>{% search userlist username first_name last_name %}</pre>
</div>
<p>will search a match for the search terms in the form input in user.username, user.first_name OR user.last_name (note the OR).</p>
</div>
<div class="section" id="in-deep">
<h1>In deep<a class="headerlink" href="#in-deep" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-the-search-is-performed">
<h2>How the search is performed<a class="headerlink" href="#how-the-search-is-performed" title="Permalink to this headline">¶</a></h2>
<p>The string typed in the input field will be splitted by spaces having single and double quotes in account without matching case, so if the string is:</p>
<div class="highlight-python"><pre>John "tiny mouth" 'any term'</pre>
</div>
<p>the queryset will be filtered so user.username contains <em>John</em> OR user.first_name contains <em>John</em> OR user.last_name contains <em>John</em> AND user.username contains <em>tiny mouth</em> OR user.first_name contains <em>tiny mouth</em> OR user.last_name contains <em>tiny mouth</em> AND user.username contains <em>any term</em> OR user.first_name contains <em>any term</em> OR user.last_name contains <em>any term</em>.</p>
<p>It&#8217;s a simple search that returns less but more accurate results as user adds search terms.</p>
</div>
<div class="section" id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>The search tag renders a template with a form using GET method that includes a text and a submit input. If the user adds a search string and clicks the button a parameter named <em>search</em> will be set in request.GET and your view will be called again. Then, in the second view run if the search tag finds that parameter it will filter the queryset using it&#8217;s value as search terms.</p>
</div>
<div class="section" id="styling">
<h2>Styling<a class="headerlink" href="#styling" title="Permalink to this headline">¶</a></h2>
<p>The inputs rendered have two classes, <em>search-text</em> and <em>search-button</em> so you can style them as you want.</p>
</div>
<div class="section" id="useful-context-variables">
<h2>Useful context variables<a class="headerlink" href="#useful-context-variables" title="Permalink to this headline">¶</a></h2>
<p>The search tag puts two useful variables in context:</p>
<ul>
<li><p class="first"><strong>remove_search_link</strong>: Has the link to remove the search parameter from GET keeping all other parameters that might be there so if the user hits it the queryset will be shown unfiltered again. It can be used (after the search tag) as:</p>
<div class="highlight-python"><pre>&lt;a href="{{remove_search_link}}"&gt;Remove&lt;/a&gt;</pre>
</div>
</li>
<li><p class="first"><strong>search_terms</strong>: Has the seach string as it was typed by the user. It can be useful with <em>remove_search_link</em> to allow the user to know what is beeing applied to the queryset this way:</p>
<div class="highlight-python"><pre>{% if search_terms %}
    Searching by {{search_terms}}: &lt;a href="{{remove_search_link}}"&gt;Remove&lt;/a&gt;
{% endif %}</pre>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to django-search&#8217;s documentation!</a></li>
<li><a class="reference internal" href="#install">Install</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#in-deep">In deep</a><ul>
<li><a class="reference internal" href="#how-the-search-is-performed">How the search is performed</a></li>
<li><a class="reference internal" href="#how-it-works">How it works</a></li>
<li><a class="reference internal" href="#styling">Styling</a></li>
<li><a class="reference internal" href="#useful-context-variables">Useful context variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">django-search v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Ignacio Fernández Moreno.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
  </body>
</html>