{% extends "sewer/base.html" %}

{% block title %}{{ group.name }} admin{% endblock %}

{% block head %}
<script type="text/javascript">
$(function() {
  $(".group-remove-access").click(remove_access);
});
</script>
{% endblock %}
{% block content %}

{% include "sewer/group_info.html" %}

<div id="group-form">
  <form method="post" action="{% url sewer:group-add-access group.name %}">
    {% csrf_token %}
    <input class="monospace" type="text" name="name"/>
    as a
    <select name="level" class="ui-widget ui-state-default">
      {% for x in group.levels %}
      <option value="{{ x }}">{{ x }}</option>
      {% endfor %}
    </select>
    <input type="submit" value="add" class="grate-button"/>
  </form>
</div>

<div class="group entities">
{% for id, entity, access in group.get_entities %}
  <div>
    {{ entity }} &#8712; {{ access }}
    <a class="group-remove-access grate-button" href="../remove/access/{{ id }}/">
      remove
    </a>
  </div>
{% endfor %}
</div>

<div>
{% for g in group.owned_groups %}
  {{ g }}
{% endfor %}
</div>

{% endblock %}
