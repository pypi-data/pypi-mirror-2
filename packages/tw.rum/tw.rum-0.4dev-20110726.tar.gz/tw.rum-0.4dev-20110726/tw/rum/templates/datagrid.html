<div py:strip="True" xmlns="http://www.w3.org/1999/xhtml" 
       xmlns:py="http://genshi.edgewall.org/">
       <table
       id="${id}" class="${css_class}" cellpadding="0" cellspacing="1" border="0">
       <span py:def="hider(col)" class="noprint ">
            (<a class="hider ${field_classifier(col)}" href="#">${_('hide')}</a>)</span>
        <span py:def="joiner(col)" class="noprint ">
             (<a class="joiner ${field_classifier(col)}" href="${link_for_join(col)}">${_('join')}</a>)</span>
    <thead py:if="columns">
        <tr>
            <th py:for="i, col in enumerate(columns)" class="${css_for_column_header(i, col)}">
            <div py:strip="True" py:if="sortable_column(col, query)">
                <a href="${link_for_sort_key(col.name)}" title="${_('order by this column')}">${col.title}</a>
                 
                 <span py:replace="hider(col)" />
                 <span py:replace="joiner(col)" py:if='joinable_column(col)' />
                 </div>
            <div py:strip="True" py:if="not sortable_column(col, query)">${col.title}
                <span py:replace="hider(col)" /><span py:replace="joiner(col)" py:if='joinable_column(col)' /></div>
            </th>
        </tr>     
    </thead>
    <tbody>
        <tr py:for="i, row in enumerate(value)" 
            class="${row_class(i, row)}">
            <td py:for="col in columns"
                class="${css_for_column_body(col)}"
            >${col.get_field(row, displays_on='genshi')}</td>
        </tr>
    </tbody>
</table>
<ul class="noprint">
    <li py:for="col in columns" 
        class="${field_classifier(col)} shower ${shower_visibility_class(col)}">
        <a  href="#">show ${_(col.title)}</a></li>
</ul>
<script type="text/javascript" py:for="col in columns">
register_column("${field_classifier_by_name[col.name]}");


</script>

</div>
