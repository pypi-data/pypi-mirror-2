<form xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
    id="${id}"
    name="${name}"
    action="${action}"
    method="${method}"
    class="${css_class} autogrow"
    py:attrs="attrs" >
    <div>
        <div py:for="field in hidden_fields"
             py:with="error=error_for(field)"
             py:strip="True">
            <span py:replace="field.display(value_for(field), **args_for(field))" />
            <!--<span py:if="show_children_errors and error and not field.show_error"
                  class="fielderror" py:content="error" />-->
            <span py:if="show_children_errors and field_error and not field.show_error" 
                 class="fielderror" py:content="field_error" />
        </div>
    </div>
    <table border="0" cellspacing="0" cellpadding="2" py:attrs="table_attrs">
        <tbody id="${id}_repeater">
        <tr>
            <?python import tw.forms as twf ?>
            <th py:for="c in children['grow'].widget.children" py:if="not isinstance(c, twf.HiddenField)" title="$c.help_text">
                <py:if test="dotitle">${c.label_text}</py:if>
            </th>
            <td><input style="display:none" type="image" id="${id}_undo" src="${undo_url}" alt="Undo" onclick="twd_grow_undo(this); return false;"/></td>
        </tr>
        ${children['grow'].display(value_for(children['grow']) or value, **args_for(children['grow']))}
        </tbody>
    </table>
    <table style="display:none">${display_child('spare')}</table>

    <p>${children['submit'].display()}</p>

</form>