<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>cubicweb.dbapi</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="cubicweb-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >cubicweb</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="cubicweb-module.html">Package&nbsp;cubicweb</a> ::
        Module&nbsp;dbapi
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="cubicweb.dbapi-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module dbapi</h1><p class="nomargin-top"><span class="codelink"><a href="cubicweb.dbapi-pysrc.html">source&nbsp;code</a></span></p>
<p>DB-API 2.0 compliant module</p>
<p>Take a look at <a class="rst-reference external" href="http://www.python.org/peps/pep-0249.html" target="_top">http://www.python.org/peps/pep-0249.html</a></p>
<p>(most parts of this document are reported here in docstrings)</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi.ConnectionProperties-class.html" class="summary-name">ConnectionProperties</a>
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi._NeedAuthAccessMock-class.html" class="summary-name" onclick="show_private();">_NeedAuthAccessMock</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi.DBAPISession-class.html" class="summary-name">DBAPISession</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi.DBAPIRequest-class.html" class="summary-name">DBAPIRequest</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi.ProgrammingError-class.html" class="summary-name">ProgrammingError</a><br />
      Exception raised for errors that are related to the database's operation
and not necessarily under the control of the programmer, e.g. an unexpected
disconnect occurs, the data source name is not found, a transaction could
not be processed, a memory allocation error occurred during processing,
etc.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi.Cursor-class.html" class="summary-name">Cursor</a><br />
      These objects represent a database cursor, which is used to manage the
context of a fetch operation. Cursors created from the same connection are
not isolated, i.e., any changes done to the database by a cursor are
immediately visible by the other cursors. Cursors created from different
connections are isolated.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi.LogCursor-class.html" class="summary-name">LogCursor</a><br />
      override the standard cursor to log executed queries
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="cubicweb.dbapi.Connection-class.html" class="summary-name">Connection</a><br />
      DB-API 2.0 compatible Connection object for CubicWeb
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_fake_property_value"></a><span class="summary-sig-name">_fake_property_value</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#_fake_property_value">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="multiple_connections_fix"></a><span class="summary-sig-name">multiple_connections_fix</span>()</span><br />
      some monkey patching necessary when an application has to deal with
several connections to different repositories. It tries to hide buggy class
attributes since classes are not designed to be shared among multiple
registries.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#multiple_connections_fix">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="multiple_connections_unfix"></a><span class="summary-sig-name">multiple_connections_unfix</span>()</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#multiple_connections_unfix">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cubicweb.dbapi-module.html#get_repository" class="summary-sig-name">get_repository</a>(<span class="summary-sig-arg">method</span>,
        <span class="summary-sig-arg">database</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">config</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">vreg</span>=<span class="summary-sig-default">None</span>)</span><br />
      get a proxy object to the CubicWeb repository, using a specific RPC method.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#get_repository">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cubicweb.dbapi-module.html#repo_connect" class="summary-sig-name">repo_connect</a>(<span class="summary-sig-arg">repo</span>,
        <span class="summary-sig-arg">login</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Constructor to create a new connection to the CubicWeb repository.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#repo_connect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="cubicweb.dbapi-module.html#connect" class="summary-sig-name">connect</a>(<span class="summary-sig-arg">database</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">login</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">host</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">group</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">cnxprops</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">setvreg</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">mulcnx</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">initlog</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      Constructor for creating a connection to the CubicWeb repository.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#connect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="in_memory_cnx"></a><span class="summary-sig-name">in_memory_cnx</span>(<span class="summary-sig-arg">config</span>,
        <span class="summary-sig-arg">login</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span><br />
      usefull method for testing and scripting to get a dbapi.Connection
object connected to an in-memory repository instance</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#in_memory_cnx">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="check_not_closed"></a><span class="summary-sig-name">check_not_closed</span>(<span class="summary-sig-arg">func</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="cubicweb.dbapi-pysrc.html#check_not_closed">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_MARKER"></a><span class="summary-name">_MARKER</span> = <code title="_MARKER">_MARKER</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="get_repository"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_repository</span>(<span class="sig-arg">method</span>,
        <span class="sig-arg">database</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">config</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">vreg</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cubicweb.dbapi-pysrc.html#get_repository">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>get a proxy object to the CubicWeb repository, using a specific RPC method.</p>
<p>Only 'in-memory' and 'pyro' are supported for now. Either vreg or config
argument should be given</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="repo_connect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">repo_connect</span>(<span class="sig-arg">repo</span>,
        <span class="sig-arg">login</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cubicweb.dbapi-pysrc.html#repo_connect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Constructor to create a new connection to the CubicWeb repository.</p>
<p>Returns a Connection instance.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="connect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">connect</span>(<span class="sig-arg">database</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">login</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">host</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">group</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">cnxprops</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">setvreg</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">mulcnx</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">initlog</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">**kwargs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="cubicweb.dbapi-pysrc.html#connect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Constructor for creating a connection to the CubicWeb repository.
Returns a :class:`Connection` object.

Typical usage::

  cnx = connect('myinstance', login='me', password='toto')

Arguments:

:database:
  the instance's pyro identifier.

:login:
  the user login to use to authenticate.

:host:
  the pyro nameserver host. Will be detected using broadcast query if
  unspecified.

:group:
  the instance's pyro nameserver group. You don't have to specify it unless
  tweaked in instance's configuration.

:cnxprops:
  an optional :class:`ConnectionProperties` instance, allowing to specify
  the connection method (eg in memory or pyro). A Pyro connection will be
  established if you don't specify that argument.

:setvreg:
  flag telling if a registry should be initialized for the connection.
  Don't change this unless you know what you're doing.

:mulcnx:
  Will disappear at some point. Try to deal with connections to differents
  instances in the same process unless specified otherwise by setting this
  flag to False. Don't change this unless you know what you're doing.

:initlog:
  flag telling if logging should be initialized. You usually don't want
  logging initialization when establishing the connection from a process
  where it's already initialized.

:kwargs:
  there goes authentication tokens. You usually have to specify for
  instance a password for the given user, using a named 'password' argument.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="cubicweb-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >cubicweb</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed Oct 13 19:49:23 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
