======================
Browser: Control Panel
======================

The browser section adds browserviews used by Projekktor.

Let's start by logging in as a manager.

  >>> self.setRoles(['Manager'])

And getting some handy tools

  >>> from zope.component import getUtility
  >>> from Products.GenericSetup.utils import _getDottedName

And setup the browser and request objects

  >>> from Products.Five.testbrowser import Browser
  >>> browser = Browser()
  >>> from zope.publisher.browser import TestRequest
  >>> request = TestRequest()

We need a logged in user

  >>> self.app.acl_users.userFolderAddUser('root', 'secret', ['Manager'], [])
  >>> browser.addHeader('Authorization', 'Basic root:secret')


controlpanel
------------

First we open the Projekktor control panel.

    >>> browser.open('http://nohost/plone/portal_projekktor/@@projekktor-controlpanel')

We change the width and height options and press save.

    >>> browser.getControl(name='form.video_width').value = "137px"
    >>> browser.getControl(name='form.video_height').value = "731px"
    >>> browser.getControl(name='form.actions.save').click()

And then look at one of our sample files
    
    >>> from collective.projekktor.interfaces import IProjekktorMedia
    >>> IProjekktorMedia(self.samples['ogg']).getWidth()
    u'137px'

    >>> IProjekktorMedia(self.samples['ogg']).getHeight()
    u'731px'












