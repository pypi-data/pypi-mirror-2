==============
Browser: Views
==============

The browser section adds browserviews used by Projekktor.

Let's start by logging in as a manager.

  >>> self.setRoles(['Manager'])

And getting some handy tools

  >>> from zope.component import getUtility
  >>> from Products.GenericSetup.utils import _getDottedName

And setup the browser and request objects

  >>> from Products.Five.testbrowser import Browser
  >>> browser = Browser()
  >>> from zope.publisher.browser import TestRequest
  >>> request = TestRequest()

We need a logged in user

  >>> self.app.acl_users.userFolderAddUser('root', 'secret', ['Manager'], [])
  >>> browser.addHeader('Authorization', 'Basic root:secret')

projekktor_view
---------------

We'll use our sample ogg file, let's get its projekktor_view

  >>> browser.open('http://nohost/plone/samples/projekktor.ogg/projekktor_view')
  >>> browser.contents.strip()
  '<!DOCTYPE html PUBLIC...<div class="projekktor-audio-widget" id="audioContainer">...</html>'


Now let's check that we can set our ogg file to projekktor_view

  >>> browser.open('http://nohost/plone/samples/projekktor.ogg/view')
  >>> browser.contents.strip()
  '<!DOCTYPE html PUBLIC...selectViewTemplate?templateId=projekktor_view...subMenuTitle">Projekktor view...</html>'




