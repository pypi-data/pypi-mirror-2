<html metal:use-macro="views/standard_macros/view">
<body>
<div metal:fill-slot="body">
  <div metal:define-macro="contents"
			 tal:define="hostinfo view/getHostInfo;
			 						 testreport view/checkConnection">

		<form name="ldapConnectionTestForm" method="POST" action="."
          tal:attributes="action request/URL">

			<table id="sortable" class="listing" summary="LDAP Configuration listing"
						 i18n:attributes="summary">
				<thead>
					<tr>
						<th i18n:translate="">Desription</th>
						<th i18n:translate="">Data</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td i18n:translate="">Hostname</td>
						<td><span tal:content="python:hostinfo['host']">host</span></td>
					</tr>
					<tr>
						<td i18n:translate="">Port</td>
						<td><span tal:content="python:hostinfo['port']">port</span></td>
					</tr>
					<tr>
						<td i18n:translate="">Bind DN</td>
						<td><span tal:content="python:hostinfo['bindDN']">bindDN</span></td>
					</tr>
					<tr>
						<td i18n:translate="">Use SSL</td>
						<td><span tal:content="python:hostinfo['useSSL']">SSL</span></td>
					</tr>
				</tbody>
			</table>

			<input type="hidden" value="Run" name="runtest">
			<input type="submit" value="Test default" name="runDefault">
			<input type="submit" value="Test anonymous" name="runAnonymous">
	
			<table id="sortable" class="listing" summary="LDAP Connection Report listing"
						 i18n:attributes="summary"
						 tal:condition="testreport">
				<thead>
					<tr>
						<th i18n:translate="">Test report</th>
					</tr>
				</thead>
				<tbody>
					<tr tal:repeat="line testreport" >
						<td><span tal:content="structure line">report entry</span>&nbsp;</td>
					</tr>
				</tbody>
			</table>

		</form>
  </div>
</div>
</body>
</html>
