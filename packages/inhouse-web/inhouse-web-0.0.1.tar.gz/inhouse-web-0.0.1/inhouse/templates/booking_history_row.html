{% load i18n %}
<tr>
  <td class="first"><input id="history_id" type="radio" onclick="JS_toggleRowColour(this, 'booking-list');" title="" value="{{ history.id }}" name="history_id"/></td>
  <td>{{ history.created|timesince }}</td>
  <td>{{ history.get_action_title }}
    <a id="hist-{{ history.id }}-pointer" href="javascript:JS_toggleSection('hist-{{ history.id }}');" class="toggled-section ">
      <span id="hist-{{ history.id }}-image" class="sprite plus"></span>
    </a>
  </td>
  <td>{{ history.created_by_id|show_user_link }}</td>
  <td style="text-align: center;">{{ history.duration|format_minutes_to_time }}</td>
  <td>
    {{ history.booking.project|truncatewords:5 }} {% if history.booking.project.is_closed %}({% trans 'closed' %}){% endif %}
  </td>
  <td>{{ history.booking.step }}</td>
  <td>
    {{ history.booking.get_title|truncatewords:5 }}
  </td>
</tr>
<tr>
  <td colspan="8" style="padding: 0;">
  <div id="hist-{{ history.id }}" style="padding: 10px; display:none;">
    <span class="details">
      <strong>{% trans "Date" %}:</strong> {{ history.booking.day.date|date:"d.m.Y" }}<br/>
      <strong>{% trans "Project" %}:</strong> {{ history.booking.project }}<br/>
      <strong>{% trans "Title" %}:</strong> {{ history.booking.get_title }}<br/>
      <strong>{% trans "Description" %}:</strong><br/><code>{{ history.booking.get_description|truncatewords:50 }}</code>
    </span>
  </div>
  </td>
</tr>
