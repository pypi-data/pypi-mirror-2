<html>
<head>
<title>zinnia.admin.category</title>
</head>
<body>
zinnia.admin.category
<style>
.coverage pre {float: left; margin: 0px 1em; border: none;
               padding: 0px; }
.num pre { margin: 0px }
.nocov, .nocov pre {background-color: #faa}
.cov, .cov pre {background-color: #cfc}
div.coverage div { clear: both; height: 1.1em}
</style>
<div class="stats">
Covered: 20 lines<br/>
Missed: 5 lines<br/>
Skipped 6 lines<br/>
Percent: 80 %<br/>

</div>
<div class="coverage">
<div class="cov"><span class="num"><pre> 1</pre></span><pre>&quot;&quot;&quot;CategoryAdmin for Zinnia&quot;&quot;&quot;</pre></div>
<div class="cov"><span class="num"><pre> 2</pre></span><pre>from django.contrib import admin</pre></div>
<div class="cov"><span class="num"><pre> 3</pre></span><pre>from django.core.urlresolvers import NoReverseMatch</pre></div>
<div class="cov"><span class="num"><pre> 4</pre></span><pre>from django.utils.translation import ugettext_lazy as _</pre></div>
<div class="skip"><span class="num"><pre> 5</pre></span><pre></pre></div>
<div class="cov"><span class="num"><pre> 6</pre></span><pre>from zinnia.admin.forms import CategoryAdminForm</pre></div>
<div class="skip"><span class="num"><pre> 7</pre></span><pre></pre></div>
<div class="skip"><span class="num"><pre> 8</pre></span><pre></pre></div>
<div class="cov"><span class="num"><pre> 9</pre></span><pre>class CategoryAdmin(admin.ModelAdmin):</pre></div>
<div class="cov"><span class="num"><pre>10</pre></span><pre>    &quot;&quot;&quot;Admin for Category model&quot;&quot;&quot;</pre></div>
<div class="cov"><span class="num"><pre>11</pre></span><pre>    form = CategoryAdminForm</pre></div>
<div class="cov"><span class="num"><pre>12</pre></span><pre>    fields = ('title', 'parent', 'description', 'slug')</pre></div>
<div class="cov"><span class="num"><pre>13</pre></span><pre>    list_display = ('title', 'slug', 'get_tree_path', 'description')</pre></div>
<div class="cov"><span class="num"><pre>14</pre></span><pre>    prepopulated_fields = {'slug': ('title', )}</pre></div>
<div class="cov"><span class="num"><pre>15</pre></span><pre>    search_fields = ('title', 'description')</pre></div>
<div class="cov"><span class="num"><pre>16</pre></span><pre>    list_filter = ('parent',)</pre></div>
<div class="skip"><span class="num"><pre>17</pre></span><pre></pre></div>
<div class="cov"><span class="num"><pre>18</pre></span><pre>    def __init__(self, model, admin_site):</pre></div>
<div class="cov"><span class="num"><pre>19</pre></span><pre>        self.form.admin_site = admin_site</pre></div>
<div class="cov"><span class="num"><pre>20</pre></span><pre>        super(CategoryAdmin, self).__init__(model, admin_site)</pre></div>
<div class="skip"><span class="num"><pre>21</pre></span><pre></pre></div>
<div class="cov"><span class="num"><pre>22</pre></span><pre>    def get_tree_path(self, category):</pre></div>
<div class="cov"><span class="num"><pre>23</pre></span><pre>        &quot;&quot;&quot;Return the category's tree path in HTML&quot;&quot;&quot;</pre></div>
<div class="nocov"><span class="num"><pre>24</pre></span><pre>        try:</pre></div>
<div class="nocov"><span class="num"><pre>25</pre></span><pre>            return '&lt;a href=&quot;%s&quot; target=&quot;blank&quot;&gt;/%s/&lt;/a&gt;' % \</pre></div>
<div class="nocov"><span class="num"><pre>26</pre></span><pre>                   (category.get_absolute_url(), category.tree_path)</pre></div>
<div class="nocov"><span class="num"><pre>27</pre></span><pre>        except NoReverseMatch:</pre></div>
<div class="nocov"><span class="num"><pre>28</pre></span><pre>            return '/%s/' % category.tree_path</pre></div>
<div class="cov"><span class="num"><pre>29</pre></span><pre>    get_tree_path.allow_tags = True</pre></div>
<div class="cov"><span class="num"><pre>30</pre></span><pre>    get_tree_path.short_description = _('tree path')</pre></div>
<div class="skip"><span class="num"><pre>31</pre></span><pre></pre></div>
</div>
</body>
</html>
