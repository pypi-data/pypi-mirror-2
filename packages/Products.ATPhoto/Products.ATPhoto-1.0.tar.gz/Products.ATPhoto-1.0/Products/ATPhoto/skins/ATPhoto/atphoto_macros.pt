<metal:js metal:define-macro="javascript_head_slot">
    <script language="javascript" type="text/javascript"
            tal:content="structure context/getATSlideShowContents">
            <!--
            // Dynamic js stuff
            -->
    </script>
</metal:js>


<metal:control metal:define-macro="control"
               tal:define="scale  scale|request/cookie/size|request/size|string:preview;
                           transition_delay request/cookie/transition_delay|request/transition_delay|string:3;">
  <dl id="slideshow_control" class="collapsible collapsedOnLoad" i18n:domain="ATPhoto">
     <dt class="collapsibleHeader" i18n:translate="label_slideshow_control">Slide show control</dt>
     <dd class="collapsibleContent">
         <form id="SlideShowControl" action="">
            <div class="row">
                <div class="slideshowInput">
                    <label i18n:translate="label_delay">Delay</label>
                    <select name="DelayList"
                           tal:attributes="onChange string:javascript:SlideShow.setDelay();;">
                      <tal:block tal:repeat="key python:('1','3','5','10')">
                        <option value="" tal:attributes="selected python:test(key == transition_delay,'selected',None);
                                                         value key">
                          <span tal:omit-tag="" tal:content="string:${key}s"/>
                        </option>
                      </tal:block>
                    </select>
                </div>
                <div class="slideshowInput">
                    <label i18n:translate="label_scale">Scale</label>
                    <select name="ScaleList"
                           tal:attributes="onChange string:javascript:SlideShow.setScale();;">
                      <tal:block tal:repeat="key here/getAvailableSizes|nothing">
                        <option value="" tal:attributes="selected python:test(key == scale,'selected',None);
                                                         value key">
                          <span tal:omit-tag="" i18n:translate="" tal:content="key"/>
                        </option>
                      </tal:block>
                    </select>
                </div>
                <div class="slideshowInput">
                    <label i18n:translate="label_transition">Transition</label>
                    <select name="TransitionList"
                           onChange="javascript:SlideShow.setCallback();">
                    </select>
                </div>
                <input class="context" type="button"
                       i18n:translate="value"
                       name="StartStopButton" id="StartStopButton"
                       onclick="javascript:SlideShow.toggleStartStop();;" value="Start" />
            </div>
        </form>
        <div style="clear:left">&nbsp;</div>
     </dd>
  </dl>
</metal:control>  

