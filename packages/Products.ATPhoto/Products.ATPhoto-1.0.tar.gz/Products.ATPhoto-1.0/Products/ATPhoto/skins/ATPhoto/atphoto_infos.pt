<div tal:define="dummy python: request.RESPONSE.setHeader('Content-Type','text/xml');
                global charset site_properties/default_charset|string:utf-8;"
    tal:replace='structure string:<?xml version="1.0" encoding="$charset"?>'
/><tal:comment tal:replace="nothing">
All of us know that zpt suck for xml...
But if we want it, we can do it ;)
In this way, we use the same template in photo_view and to get infos with ajax
</tal:comment
><metal:block use-macro="here/global_defines/macros/defines" 
/><tal:define tal:define="global charset site_properties/default_charset|string:utf-8;
                   global isViewTemplate python:1;
                   global lang language;
"/><metal:cache use-macro="here/global_cache_settings/macros/cacheheaders"
/><metal:header tal:define="dummy python: request.RESPONSE.setHeader('Content-Type','text/xml;;charset=%s' % charset);" />
<root>     
<exif><span tal:replace="structure string:<![CDATA["/>
        <metal:exif metal:define-macro="infos"
                    tal:define="info_type  info_type|request/info_type|string:EXIF;
                                values values | python: test(info_type == 'EXIF',context.getEXIF(),context.getIPTC());">
            <tal:block tal:condition="values">
                    <table class="listing" align="center"
                           tal:define="global odd python:1">
                        <tr>
                            <th><span i18n:translate="Key">Key</span></th>
                            <th><span i18n:translate="Value">Value</span></th>
                            <th><span i18n:translate="Key">Key</span></th>
                            <th><span i18n:translate="Value">Value</span></th>
                            <th><span i18n:translate="Key">Key</span></th>
                            <th><span i18n:translate="Value">Value</span></th>
                        </tr>
                        <tr>
                            <tal:block tal:repeat="key values/keys">
                              <td tal:condition="key">
                                <span tal:replace="key"/>
                                </td>
                              <td tal:condition="key" tal:define="value python:values[key]">
                                <span tal:replace="value"
                                      tal:condition="value"/>
                                </td>
                                <tal:block tal:condition="python:repeat['key'].number() % 3 == 0 and not repeat['key'].end"
                                           tal:replace="structure python:test(odd,'</tr><tr class=\'odd\'>','</tr><tr class=\'even\'>')"
                                           tal:define="global odd python:test(odd,0,1);"/>
                            </tal:block>
                        </tr>
                    </table>
            </tal:block>
        </metal:exif>
        <span tal:replace="structure string:]]>" /></exif><iptc tal:define="info_type string:IPTC"><span tal:replace="structure string:<![CDATA["/>
            <metal:infos use-macro="here/atphoto_infos/macros/infos" />
        <span tal:replace="structure string:]]>" /></iptc><documentbyline><span tal:replace="structure string:<![CDATA["/>
            <metal:documentbyline metal:use-macro="here/document_byline/macros/byline" />
        <span tal:replace="structure string:]]>" /></documentbyline><discussion><span tal:replace="structure string:<![CDATA["/>
                <metal:discussion use-macro="here/viewThreadsAtBottom/macros/discussionView" />
        <span tal:replace="structure string:]]>" /></discussion>
</root>     
