

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>core.message &mdash; PyZMQ v2.1.1dev documentation</title>
    <link rel="stylesheet" href="../../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.1.1dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <link rel="shortcut icon" href="../../static/zeromq.ico"/>
    <link rel="top" title="PyZMQ v2.1.1dev documentation" href="../../index.html" />
    <link rel="up" title="The PyZMQ API" href="../index.html" />
    <link rel="next" title="core.poll" href="zmq.core.poll.html" />
    <link rel="prev" title="core.error" href="zmq.core.error.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../index.html"><img src="../../static/logo.png" border="0" alt="PyZMQ Documentation"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zmq.core.poll.html" title="core.poll"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zmq.core.error.html" title="core.error"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../index.html">API</a> &raquo;</li>

          <li><a href="../index.html" accesskey="U">The PyZMQ API</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">core.message</a><ul>
<li><a class="reference internal" href="#module-core-message">Module: <tt class="docutils literal"><span class="pre">core.message</span></tt></a></li>
<li><a class="reference internal" href="#classes">Classes</a><ul>
<li><a class="reference internal" href="#message"><tt class="docutils literal"><span class="pre">Message</span></tt></a></li>
<li><a class="reference internal" href="#messagetracker"><tt class="docutils literal"><span class="pre">MessageTracker</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zmq.core.error.html"
                        title="previous chapter">core.error</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zmq.core.poll.html"
                        title="next chapter">core.poll</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../sources/api/generated/zmq.core.message.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="core-message">
<h1>core.message<a class="headerlink" href="#core-message" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-core-message">
<h2>Module: <tt class="xref py py-mod docutils literal"><span class="pre">core.message</span></tt><a class="headerlink" href="#module-core-message" title="Permalink to this headline">¶</a></h2>
<p>Inheritance diagram for <tt class="docutils literal"><span class="pre">zmq.core.message</span></tt>:</p>
<img src="../../images/inheritanceeda5309655.png" usemap="#inheritanceeda5309655" class="inheritance"/><map id="inheritanceeda5309655" name="inheritanceeda5309655">
</map>
<span class="target" id="module-zmq.core.message"></span><p>0MQ Message related classes.</p>
</div>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="message">
<h3><a class="reference internal" href="#zmq.core.message.Message" title="zmq.core.message.Message"><tt class="xref py py-class docutils literal"><span class="pre">Message</span></tt></a><a class="headerlink" href="#message" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="zmq.core.message.Message">
<em class="property">class </em><tt class="descclassname">zmq.core.message.</tt><tt class="descname">Message</tt><big>(</big><em>data=None</em>, <em>track=False</em><big>)</big><a class="headerlink" href="#zmq.core.message.Message" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A Message class for non-copy send/recvs.</p>
<p>This class is only needed if you want to do non-copying send and recvs.
When you pass a string to this class, like <tt class="docutils literal"><span class="pre">Message(s)</span></tt>, the 
ref-count of <cite>s</cite> is increased by two: once because the Message saves <cite>s</cite> as 
an instance attribute and another because a ZMQ message is created that
points to the buffer of <cite>s</cite>. This second ref-count increase makes sure
that <cite>s</cite> lives until all messages that use it have been sent. Once 0MQ
sends all the messages and it doesn&#8217;t need the buffer of s, 0MQ will call
<tt class="docutils literal"><span class="pre">Py_DECREF(s)</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>data</strong> : object, optional</p>
<blockquote>
<p>any object that provides the buffer interface will be used to
construct the 0MQ message data.</p>
</blockquote>
<p><strong>track</strong> : bool [default: False]</p>
<blockquote class="last">
<p>whether a <a class="reference internal" href="#messagetracker">MessageTracker</a> should be created to track this object.
Tracking a message has a cost at creation, because it creates a threadsafe
Queue object.</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="zmq.core.message.Message.buffer">
<tt class="descname">buffer</tt><a class="headerlink" href="#zmq.core.message.Message.buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a read-only buffer view of the message contents.</p>
</dd></dl>

<dl class="attribute">
<dt id="zmq.core.message.Message.bytes">
<tt class="descname">bytes</tt><a class="headerlink" href="#zmq.core.message.Message.bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message content as a Python str/bytes object.</p>
<p>The first time this property is accessed, a copy of the message 
contents is made. From then on that same copy of the message is
returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="zmq.core.message.Message.done">
<tt class="descname">done</tt><a class="headerlink" href="#zmq.core.message.Message.done" title="Permalink to this definition">¶</a></dt>
<dd><p>Is 0MQ completely done with the message?</p>
</dd></dl>

<dl class="attribute">
<dt id="zmq.core.message.Message.tracker">
<tt class="descname">tracker</tt><a class="headerlink" href="#zmq.core.message.Message.tracker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zmq.core.message.Message.tracker_queue">
<tt class="descname">tracker_queue</tt><a class="headerlink" href="#zmq.core.message.Message.tracker_queue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zmq.core.message.Message.wait">
<tt class="descname">wait</tt><big>(</big><em>timeout=-1</em><big>)</big><a class="headerlink" href="#zmq.core.message.Message.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for 0MQ to be done with the message, or until <cite>timeout</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>timeout</strong> : float [default: -1, wait forever]</p>
<blockquote>
<p>Maximum time in (s) to wait before raising NotDone.</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>None</strong> :</p>
<blockquote>
<p>if done before <cite>timeout</cite></p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><strong>NotDone</strong> :</p>
<blockquote class="last">
<p>if <cite>timeout</cite> reached before I am done.</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="messagetracker">
<h3><a class="reference internal" href="#zmq.core.message.MessageTracker" title="zmq.core.message.MessageTracker"><tt class="xref py py-class docutils literal"><span class="pre">MessageTracker</span></tt></a><a class="headerlink" href="#messagetracker" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="zmq.core.message.MessageTracker">
<em class="property">class </em><tt class="descclassname">zmq.core.message.</tt><tt class="descname">MessageTracker</tt><big>(</big><em>*towatch</em><big>)</big><a class="headerlink" href="#zmq.core.message.MessageTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A class for tracking if 0MQ is done using one or more messages.</p>
<p>When you send a 0MQ mesage, it is not sent immeidately. The 0MQ IO thread
send the message at some later time. Often you want to know when 0MQ has
actually sent the message though. This is complicated by the fact that
a single 0MQ message can be sent multiple times using differen sockets.
This class allows you to track all of the 0MQ usages of a message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>*towatch</strong> : tuple of Queue, MessageTracker, Message instances.</p>
<blockquote class="last">
<p>This list of objects to track. This class can track the low-level
Queues used by the Message class, other MessageTrackers or
actual Messsages.</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="zmq.core.message.MessageTracker.done">
<tt class="descname">done</tt><a class="headerlink" href="#zmq.core.message.MessageTracker.done" title="Permalink to this definition">¶</a></dt>
<dd><p>Is 0MQ completely done with the message(s) being tracked?</p>
</dd></dl>

<dl class="method">
<dt id="zmq.core.message.MessageTracker.old_wait">
<tt class="descname">old_wait</tt><big>(</big><big>)</big><a class="headerlink" href="#zmq.core.message.MessageTracker.old_wait" title="Permalink to this definition">¶</a></dt>
<dd><p>If the new wait works, remove this method.</p>
</dd></dl>

<dl class="method">
<dt id="zmq.core.message.MessageTracker.wait">
<tt class="descname">wait</tt><big>(</big><em>timeout=-1</em><big>)</big><a class="headerlink" href="#zmq.core.message.MessageTracker.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for 0MQ to be done with the message, or until <cite>timeout</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>timeout</strong> : float [default: -1, wait forever]</p>
<blockquote>
<p>Maximum time in (s) to wait before raising NotDone.</p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>None</strong> :</p>
<blockquote>
<p>if done before <cite>timeout</cite></p>
</blockquote>
</td>
</tr>
<tr class="field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><strong>NotDone</strong> :</p>
<blockquote class="last">
<p>if <cite>timeout</cite> reached before I am done.</p>
</blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="zmq.core.poll.html" title="core.poll"
             >next</a> |</li>
        <li class="right" >
          <a href="zmq.core.error.html" title="core.error"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>
       <li><a href="../index.html">API</a> &raquo;</li>

          <li><a href="../index.html" >The PyZMQ API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Brian E. Granger.  
ØMQ logo © iMatix Corportation, used under the Creative Commons Attribution-Share Alike 3.0 License.  
Python logo ™ of the Python Software Foundation, used by Min RK with permission from the Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.6.
    </div>
  </body>
</html>