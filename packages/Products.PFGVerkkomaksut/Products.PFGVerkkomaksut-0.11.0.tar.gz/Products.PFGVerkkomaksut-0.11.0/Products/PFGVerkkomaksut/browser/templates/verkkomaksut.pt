<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="PFGVerkkomaksut">
  <body>
    <div metal:fill-slot="main">
        <div metal:use-macro="here/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>

        <h1 tal:content="object_title" class="documentFirstHeading">
          Title or id
        </h1>

        <p class="documentDescription"
           tal:content="here/Description"
           tal:condition="here/Description">
            Description
        </p>

        <dl tal:condition="python: request.SESSION.has_key('pfg.verkkomaksut.fields')">
          <tal:block repeat="field context/REQUEST/SESSION/pfg.verkkomaksut.fields">
              <dt tal:content="field/label" />
              <dd tal:content="structure field/value" />
            </tal:block>
        </dl>

        <div tal:replace="structure provider:verkkomaksut.below.field.values" />

        <div tal:condition="python: request.SESSION.has_key('pfg.verkkomaksut')">
          <form action="https://payment.verkkomaksut.fi/"
                method="post"
                tal:define="data request/SESSION/pfg.verkkomaksut">
            <input name="MERCHANT_ID" type="hidden"
                   tal:attributes="value data/MERCHANT_ID" />
            <input name="AMOUNT" type="hidden"
                   tal:attributes="value data/AMOUNT" />
            <input name="ORDER_NUMBER" type="hidden"
                   tal:attributes="value data/ORDER_NUMBER" />
            <input name="ORDER_DESCRIPTION" type="hidden"
                   tal:attributes="value data/ORDER_DESCRIPTION" />
            <input name="CURRENCY" type="hidden"
                   tal:attributes="value data/CURRENCY" />
            <input name="RETURN_ADDRESS" type="hidden"
                   tal:attributes="value data/RETURN_ADDRESS" />
            <input name="CANCEL_ADDRESS" type="hidden"
                   tal:attributes="value data/CANCEL_ADDRESS" />
            <input name="NOTIFY_ADDRESS" type="hidden"
                   tal:attributes="value data/NOTIFY_ADDRESS" />
            <input name="TYPE" type="hidden"
                   tal:attributes="value data/TYPE" />
            <input name="CULTURE" type="hidden"
                   tal:attributes="value data/CULTURE" />
            <input name="MODE" type="hidden"
                   tal:attributes="value data/MODE" />
            <input name="AUTHCODE" type="hidden"
                   tal:attributes="value data/AUTHCODE" />
            <input type="image"
                   id="sv_button"
                   name="sv_button"
                   src="https://ssl.verkkomaksut.fi/logo/payhere_fin.jpg" />
        </form>
      </div>
      <div tal:condition="python: not request.SESSION.has_key('pfg.verkkomaksut')">
        The session has timed out.
      </div>
    </div>
  </body>
</html>
