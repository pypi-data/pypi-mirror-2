<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

  <head><title></title></head>

  <body>
    <metal:fill fill-slot="main">
      <metal:main_macro>
        <div metal:use-macro="here/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>

        <h1 tal:content="object_title" class="documentFirstHeading">
          Title or id
        </h1>

        <div metal:use-macro="here/document_byline/macros/byline">
          Get the byline - contains details about author and modification date.
        </div>

        <p class="documentDescription"
           tal:content="here/Description"
           tal:condition="here/Description">
            Description
        </p>

        <dl tal:condition="python: request.SESSION.has_key('pfg.verkkomaksut.fields')">
          <tal:block repeat="field context/REQUEST/SESSION/pfg.verkkomaksut.fields">
<!--              <dt tal:content="field/title" />-->
<!--              <dd tal:content="field/description" />-->
              <dt tal:content="field/label" />
              <dd tal:content="structure field/value" />
            </tal:block>
        </dl>


<!--                <blockquote>-->
<!--                    <dl>-->
<!--                        <tal:block repeat="field python:here.displayInputs(request)">-->
<!--                            <dt tal:content="field/label" />-->
<!--                            <dd tal:content="structure field/value" />-->
<!--                        </tal:block>-->
<!--                    </dl>-->
<!--                </blockquote>-->


        <div tal:condition="python: request.SESSION.has_key('pfg.verkkomaksut')">
          <form action="https://payment.verkkomaksut.fi/"
                method="post"
                tal:define="data request/SESSION/pfg.verkkomaksut">
            <input name="MERCHANT_ID" type="hidden"
                   tal:attributes="value data/MERCHANT_ID" />
            <input name="AMOUNT" type="hidden"
                   tal:attributes="value data/AMOUNT" />
            <input name="ORDER_NUMBER" type="hidden"
                   tal:attributes="value data/ORDER_NUMBER" />
            <input name="ORDER_DESCRIPTION" type="hidden"
                   tal:attributes="value data/ORDER_DESCRIPTION" />
            <input name="CURRENCY" type="hidden"
                   tal:attributes="value data/CURRENCY" />
            <input name="RETURN_ADDRESS" type="hidden"
                   tal:attributes="value data/RETURN_ADDRESS" />
            <input name="CANCEL_ADDRESS" type="hidden"
                   tal:attributes="value data/CANCEL_ADDRESS" />
            <input name="NOTIFY_ADDRESS" type="hidden"
                   tal:attributes="value data/NOTIFY_ADDRESS" />
            <input name="TYPE" type="hidden"
                   tal:attributes="value data/TYPE" />
            <input name="CULTURE" type="hidden"
                   tal:attributes="value data/CULTURE" />
            <input name="MODE" type="hidden"
                   tal:attributes="value data/MODE" />
            <input name="AUTHCODE" type="hidden"
                   tal:attributes="value data/AUTHCODE" />
            <input type="image" name="sv_button" src="https://ssl.verkkomaksut.fi/logo/payhere_fin.jpg">
        </form>
      </div>
      <div tal:condition="python: not request.SESSION.has_key('pfg.verkkomaksut')">
        The session has timed out.
      </div>

      </metal:main_macro>
    </metal:fill>
  </body>
</html>
