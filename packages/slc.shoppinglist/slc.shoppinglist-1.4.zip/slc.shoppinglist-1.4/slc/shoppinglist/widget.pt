<div xmlns:tal="http://xml.zope.org/namespaces/tal">

<p tal:define="form_value view/_getFormValue">
  <input type="hidden" name="foo.marker" id="foo.marker"
         tal:define="marker string:${view/name}.marker"
         tal:attributes="name marker; id marker" />
  <!--tal:loop tal:repeat="item form_value">
    <input type="hidden" name="foo" id="value.0.foo" value="item"
           tal:condition="item"
           tal:attributes="name string:${view/name};
                           id string:value.${repeat/item/index}.${view/name};
                           value python:item[0]" />
  </tal:loop-->
  <!--input type="hidden" id="foo" tal:attributes="id view/name" /-->
  <!--select id="select.foo" size="5"
          tal:attributes="id string:select.${view/name};
                          size python:min(max(len(form_value), 5), 12)"-->
    <tal:loop tal:repeat="item form_value">
    <input type="checkbox" name="foo" value="bar"
        tal:attributes="name string:${view/name}.${repeat/item/index};
                        value item/uid" />
        <a href="." tal:attributes="href item/brain/getURL" 
            tal:content="string:${item/brain/Title}"></a> (<span tal:replace="string:${item/brain/getURL}" />)<br />
      <input type="hidden" 
              tal:attributes="name view/name;
                            value item/uid" />
    </tal:loop>
    <input type="hidden" name="foo" value="0"
        tal:attributes="name string:${view/name}.count;
                        value python:len(form_value)" />
  <!--/select-->
</p>


<!--p>
<input value="Remove selected items" name="remove" type="submit"
    tal:attributes="name string:${view/name}.remove">
<input value="Clear shoppinglist" name="clear" type="submit"
    tal:attributes="name string:${view/name}.clear">
</p-->
</div> 