<html metal:use-macro="context/@@master/macros/master">
    <metal:slot fill-slot="main">

        <h2>Metadata for <span tal:content="string:${request/package}:${request/filename}" /></h2>

        <table tal:define="metadata view/getMetadata" border="1" id="metadata">
            <tbody>
                <tr tal:repeat="key metadata">
                    <td class="label" tal:content="key" />
                    <td tal:attributes="id string:metadata-$key">
                          
                        <tal:if condition="python: key == 'Description'">
                            <div tal:define="rest2html nocall: view/rest2html"
                                 tal:content="structure python: rest2html(metadata['Description'])"
                            />
                        </tal:if>
                        <span tal:condition="python: key != 'Description'"
                             tal:replace="metadata/?key" 
                        />
                    </td>
                </tr>
            </tbody>
        </table>

    </metal:slot>
</html>
