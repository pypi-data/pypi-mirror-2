
<metal:block use-macro="context/global_defines/macros/defines" />
<tal:headers define="request context/REQUEST">
  <tal:block define="charset site_properties/default_charset|string:utf-8;
                     dummy python:request.RESPONSE.setHeader('Content-Type', 'text/html;;charset=%s' % charset)" />
  <tal:block define="dummy python:request.RESPONSE.setHeader('Expires', 'Sat, 1 Jan 2000 00:00:00 GMT')" />
  <tal:block define="dummy python:request.RESPONSE.setHeader('Last-Modified', 'Sat, 1 Jan 2000 00:00:00 GMT')" />
  <tal:block define="dummy python:request.RESPONSE.setHeader('Cache-control', 'max-age=0,s-maxage=0,must-revalidate')" />
</tal:headers>


<div id="finder-uploader"
     i18n:domain="collective.plonefinder">
    <div id="uploadify">
      <h4 class="pannelHeader"
          i18n:translate="header_file_quick_upload">
        Files Quick Upload
      </h4>
      <label i18n:translate="label_choose_your_files"
             id="label-upload">Choose your files : </label>    
      <!-- uploadify comes here -->
      <div id="uploader"></div>              
      <!-- upload button -->
      <input type="hidden"
             id="uploadify_label_file_title"
             i18n:domain="plone"
             i18n:attributes="value Title" />
             
      <div class="uploadifybuttons">
        <input type="button" 
               id="uploadify-upload"
               class="context uploadifybutton"
               value="Upload Files"
               i18n:attributes="value label_upload_files"
               onclick="sendDataAndUpload()" />
        <input type="button" 
               id="uploadify-clear-queue"
               class="context uploadifybutton"
               value="Clear Queue"
               i18n:attributes="value label_clear_queue"
               onclick="jQuery('#uploader').uploadifyClearQueue()" /> 
      </div>
    </div>        
    <!-- uploadify javascript -->
    <script type="text/javascript"
            tal:content="structure context/@@finder_upload_init">
    </script>
</div>


