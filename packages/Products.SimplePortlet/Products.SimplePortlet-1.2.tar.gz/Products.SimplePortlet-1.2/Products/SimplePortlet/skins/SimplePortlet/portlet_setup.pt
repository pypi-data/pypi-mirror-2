<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="SimplePortlet">

<body>

<div metal:fill-slot="main"
      tal:condition="here/rejectAnonymous"
      tal:define="errors request/errors | nothing;
                  inh_columnOnePortlets python:here.portlet_manager.getFolderPortlets(here, 'columnOne', 1);
                  inh_columnTwoPortlets python:here.portlet_manager.getFolderPortlets(here, 'columnTwo', 1);
                  lcl_columnOnePortlets python:here.portlet_manager.getFolderPortlets(here, 'columnOne', 0);
                  lcl_columnTwoPortlets python:here.portlet_manager.getFolderPortlets(here, 'columnTwo', 0);
				  available python:here.portlet_manager.availablePortlets()">

    <h1 i18n:translate="heading_portlet_setup">Portlet Setup</h1>
	<p i18n:translate="description_portlet_1">A portlet is one of these boxes that appear in the left and right colums (column one and column two). With this form you can control
	which of the available portlets should be displayed in either of the two columns.</p>
	<p i18n:translate="description_portlet_2">Choose either to display the portlets defined higher up the folder hierarchy or create a local definition.
	Choose 'use local definition' and leave the text box blank to display no portlets at all in that column.</p>
	
    <p i18n:translate="description_portlet_3">These portlets are available:</p>
	<ul>
	<tal:block tal:repeat="portlet available">
		<li><span tal:replace="portlet"/></li>
	</tal:block>
	</ul>

	
	<fieldset>
	    <legend i18n:translate="legend_portlet_configuration">Portlet configuration:</legend>

			<form method="post" 
				name="portlet_setup" 
				action="configure_portlets"
				tal:attributes="action string:${here/absolute_url}/configure_portlets">

			<table style="margin-bottom:1em;border:none;" cellpadding="0" cellspacing="0" border="0">
			<tr>
				<td valign="top" style="padding-bottom:0.2em"><strong i18n:translate="heading_column_one">Column one portlets:</strong></td>
				<td style="width:2em;"></td>
				<td valign="top" style="padding-bottom:0.2em;margin-left:2em;"><strong i18n:translate="heading_column_two">Column two portlets:</strong></td>
			</tr>
			
			<tr tal:condition="python:inh_columnTwoPortlets!=None and inh_columnOnePortlets!=None">
				<td valign="top">
					<input class="noborder" id="inherit_columnOne" type="radio" name="columnOne" title="" value="columnOneInherit"
							tal:attributes="checked python:test(lcl_columnOnePortlets == None, 'checked', None)" />
					<label i18n:translate="label_inherit_parent" for="inherit_columnOne">Inherit from parent folder:</label>
				</td>
				<td style="width:2em;"></td>
				<td valign="top">
					<input class="noborder" id="inherit_columnTwo" type="radio" name="columnTwo" title="" value="columnTwoInherit"
							tal:attributes="checked python:test(lcl_columnTwoPortlets == None, 'checked', None)" />
					<label for="inherit_columnTwo" i18n:translate="label_inherit_parent">Inherit from parent folder:</label>
				</td>
			</tr>
			<tr>
				<td valign="top" style="padding:0.2em 1em 1em 2em">
					<metal:block tal:repeat="s inh_columnOnePortlets">
						<span style="font-family:courier new;" tal:content="s"/><br/>
					</metal:block>
				</td>
				<td style="width:2em;"></td>
				<td valign="top" style="padding:0.2em 1em 1em 2em">
					<metal:block tal:repeat="s inh_columnTwoPortlets">
						<span style="font-family:courier new;" tal:content="s"/><br/>
					</metal:block>
				</td>
			</tr>
			<tr>
				<td valign="top" >
					<input class="noborder" id="lcl_columnOne" type="radio" name="columnOne" title="" value="columnOneCustom"
						tal:attributes="checked python:test(lcl_columnOnePortlets != None, 'checked', None)" />
					<label for="lcl_columnOne" i18n:translate="label_local_definition">Use local definition:</label>
				</td>
				<td style="width:2em;"></td>
				<td valign="top">
					<input class="noborder" id="lcl_columnTwo" type="radio" name="columnTwo" title="" value="columnTwoCustom"
							tal:attributes="checked python:test(lcl_columnTwoPortlets != None, 'checked', None)" />
					<label for="lcl_columnTwo" i18n:translate="label_local_definition">Use local definition:</label>
				</td>
			</tr>
			<tr>
				<td valign="top">
					<textarea id="columnOnePortlets" name="columnOnePortlets:lines"
						rows="11" 
						cols="10" 
						wrap="off"
						tabindex=""
						style="margin-left:1.5em;width:15em;"
						tal:attributes="tabindex tabindex/next;"
						tal:content="python:'\n'.join(lcl_columnOnePortlets)" tal:on-error="python:''"
						></textarea>
				</td>
				<td style="width:2em;"></td>
				<td valign="top">
					<textarea id="columnTwoPortlets" name="columnTwoPortlets:lines"
						rows="11" 
						cols="10" 
						wrap="off"
						tabindex=""
						style="margin-left:1.5em;width:15em;"
						tal:attributes="tabindex tabindex/next;"
						tal:content="python:'\n'.join(lcl_columnTwoPortlets)"  tal:on-error="python:''"
						></textarea>
				</td>
			</tr>
			</table>
			<input class="context" type="submit" 
								   value="Save"
									   i18n:attributes="value"
									   tabindex=""
									   tal:attributes="tabindex tabindex/next;"
									   />
			</form>
	</fieldset>
</div>
  
</body>
</html>