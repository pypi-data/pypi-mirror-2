<metal:index metal:define-macro="index">
  <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    lang="en"
    metal:use-macro="here/main_template/macros/master"
    i18n:domain="plone">
    <body>
      <metal:main fill-slot="main">
        <table>
          <tr>
            <td class="scoreContent" >
              <tal:main-macro metal:define-macro="main"
                i18n:domain="AntiCancerDocuments">
                <tal:comment condition="nothing">
                  template_id: redéfinition nécessaire pour le bon fonctionnement des commentaires
                  Apparemment l'utilisation d'une browser view pose un problème pour le calcul de cette variable globale.
                </tal:comment>
                <tal:vars define="global template_id string:@@recipe_view;
                  view_template_id plone_view/getViewTemplateId;
                  global isViewTemplate python:template_id == view_template_id;"> </tal:vars>
                <div metal:use-macro="here/document_actions/macros/document_actions" >
                  Document actions (print, sendto etc)
                </div>
              </tal:main-macro>
            </td>
          </tr>
        </table>
      </metal:main>
    </body>
  </html>
</metal:index>
<metal:light metal:define-macro="light"
  tal:define="obj python: mytuple[1].getObject();
  localview obj/score_browserview;
  myscore python: localview.computeScore(answers);
  score_value python:myscore[1]">
  <p><strong tal:content="structure obj/Title|nothing">Score</strong></p><br />
  <tal:myscore tal:condition="python: myscore[0]">
    <p class="myscore" >
      <span i18n:translate="your_score"> Votre Score:</span>
      <span tal:content="structure score_value|nothing"> ScoreVALUE </span>
    </p>
  </tal:myscore>
  <metal:error tal:condition="python: not myscore[0]">
    <tal:value tal:content="structure score_value|nothing"> ScoreVALUE</tal:value>
  </metal:error><br />
  <tal:desc tal:content="structure obj/Score|nothing">Score</tal:desc>
  <hr/>
</metal:light>
