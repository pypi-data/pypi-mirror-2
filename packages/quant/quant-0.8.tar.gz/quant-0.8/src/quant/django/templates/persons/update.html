{% extends "persons/master.html"%}

{% block title %}{{ person.name }} - Edit profile{% endblock %}

{% block content %}
<h2>Edit your profile</h2>
<p>Please update your details as required. Please make sure that all the fields marked with a <strong class="fieldset">*</strong> are filled in.</p>
{% if form.has_errors %}
<div class="form-errors">
  <h3>Sorry, the following problems prevented your changes from being saved.</h3>
  <ul>{% for field in form.fields %}{% if field.error %}
    <li>{{ field.error }}</li>
  {% endif %}{% endfor %}</ul>
</div>
{% endif %}
<form action="{{uriPrefix}}/persons/{{ person.name }}/update/" method="post">
  <fieldset>
    <legend>
      Login details
    </legend>

    <label for="noneditable_name">Login name</label><br />
    <p><span id="noneditable_name">{{ person.name }}</span></p>
    <p class="desc">Please note that you can&rsquo;t change your login name after registration.</p>

    <label for="id_password">Password</label><br />
    {{ form.password }}
    <p class="desc">Leave this and the following field blank if you don&rsquo;t wish to change your password. If you do change your password, note that your new password must be at least 4 characters long.</p>

    <label for="id_passwordconfirmation">Password confirmation</label><br />
    {{ form.passwordconfirmation }}
    <p class="desc">Please enter your password again, just to make sure you typed it correctly.</p>

  </fieldset>
  <fieldset>
    <legend>
      Personal details
    </legend>

    <label for="id_fullname">Full name <strong>*</strong></label><br />
    {{ form.fullname }}

    <label for="id_email">Email address <strong>*</strong></label><br />
    {{ form.email }}

  </fieldset>

  Please check your details and <input type="submit" name="submission" value="send the form" />

</form>
{% endblock %}
