
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>User-input widgets &mdash; blingalytics v0.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="blingalytics v0.1 documentation" href="index.html" />
    <link rel="next" title="Column formatters" href="formats.html" />
    <link rel="prev" title="Filesystem caching" href="caches/local_cache.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="formats.html" title="Column formatters"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="caches/local_cache.html" title="Filesystem caching"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">blingalytics v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-blingalytics.widgets">
<span id="user-input-widgets"></span><h1>User-input widgets<a class="headerlink" href="#module-blingalytics.widgets" title="Permalink to this headline">¶</a></h1>
<p>Widgets provide a mechanism for displaying basic HTML inputs to the user and
then cleaning the input and passing it into a report.</p>
<p>All widgets accept the following parameters as keyword arguments. Some widgets
may accept or require additional arguments, which will be specified in their
documentation.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">label</span></tt>: The label the user sees for this widget. Defaults to
<tt class="docutils literal"><span class="pre">'Filter'</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">default</span></tt>: A default value that is initially displayed in the widget. This
can be a callable, which will be evaluated lazily when rendering the widget.
Defaults to <tt class="xref docutils literal"><span class="pre">None</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">required</span></tt>: Whether the input can be left blank. If <tt class="xref docutils literal"><span class="pre">True</span></tt>, a blank
value will be added to the errors produced by the report&#8217;s
<a class="reference internal" href="reports.html#blingalytics.base.Report.clean_user_inputs" title="blingalytics.base.Report.clean_user_inputs"><tt class="xref py py-meth docutils literal"><span class="pre">clean_user_inputs</span></tt></a>
method. By default, user input is not required, and a blank value will be
returned as None.</li>
<li><tt class="docutils literal"><span class="pre">extra_class</span></tt>: A string or list of strings that will add extra HTML
classes to the rendered widget. Defaults to no extra classes.</li>
<li><tt class="docutils literal"><span class="pre">extra_attrs</span></tt>: A dict of attribute names to values. These will be added as
attributes on the rendered widget. Defaults to no extra attributes.</li>
</ul>
<div class="section" id="widget-types">
<h2>Widget types<a class="headerlink" href="#widget-types" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="blingalytics.widgets.Checkbox">
<em class="property">class </em><tt class="descclassname">blingalytics.widgets.</tt><tt class="descname">Checkbox</tt><big>(</big><em>label=None</em>, <em>default=None</em>, <em>required=False</em>, <em>extra_class=None</em>, <em>extra_attrs=None</em><big>)</big><a class="headerlink" href="#blingalytics.widgets.Checkbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a checkbox user input widget. The widget&#8217;s default value will be
evaluated as checked if it&#8217;s truthy and unchecked if it&#8217;s falsy.</p>
</dd></dl>

<dl class="class">
<dt id="blingalytics.widgets.DatePicker">
<em class="property">class </em><tt class="descclassname">blingalytics.widgets.</tt><tt class="descname">DatePicker</tt><big>(</big><em>date_format='%m/%d/%Y'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blingalytics.widgets.DatePicker" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a text input to build into a datepicker widget. It accepts one
additional optional argument:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">date_format</span></tt>: This is the string passed to the <tt class="docutils literal"><span class="pre">datetime.strptime</span></tt>
function to convert the textual user input into a datetime object.
Defaults to <tt class="docutils literal"><span class="pre">'%m/%d/%Y'</span></tt>.</li>
</ul>
<p>Note that this widget is rendered simply as an HTML text input with a
class of <tt class="docutils literal"><span class="pre">'bl_datepicker'</span></tt>. It is left up to you to throw a JavaScript
datepicker widget on top of it with jQuery or whatever.</p>
<p>For this widget, the <tt class="docutils literal"><span class="pre">default</span></tt> argument can be:</p>
<ul class="simple">
<li>A string in the format specified by the <tt class="docutils literal"><span class="pre">date_format</span></tt> option.</li>
<li>A <tt class="docutils literal"><span class="pre">date</span></tt> or <tt class="docutils literal"><span class="pre">datetime</span></tt> object.</li>
<li>One of the following special strings: <tt class="docutils literal"><span class="pre">'today'</span></tt>, <tt class="docutils literal"><span class="pre">'yesterday'</span></tt>,
<tt class="docutils literal"><span class="pre">'first_of_month'</span></tt>.</li>
<li>A callable that evaluates to any of the previous options.</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="blingalytics.widgets.Select">
<em class="property">class </em><tt class="descclassname">blingalytics.widgets.</tt><tt class="descname">Select</tt><big>(</big><em>choices=</em><span class="optional">[</span><span class="optional">]</span>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blingalytics.widgets.Select" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces an select input widget. This takes one additional optional
argument:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">choices</span></tt>: A list of two-tuples representing the select options to
display. The first item in each tuple should be the &#8220;cleaned&#8221; value
that will be returned when the user selects this option. The second item
should be the label to be displayed to the user for this option. This
can also be a callable. Defaults to <tt class="docutils literal"><span class="pre">[]</span></tt>, an empty list of choices.</li>
</ul>
<p>For the <tt class="docutils literal"><span class="pre">default</span></tt> argument for this type of widget, you provide an index
into the choices list, similar to how you index into a Python list. For
example, if you have three select options, you can default to the second
option by passing in <tt class="docutils literal"><span class="pre">default=1</span></tt>. If you want the last selection to
be default, you can pass in <tt class="docutils literal"><span class="pre">default=-1</span></tt>.</p>
</dd></dl>

<dl class="class">
<dt id="blingalytics.widgets.Autocomplete">
<em class="property">class </em><tt class="descclassname">blingalytics.widgets.</tt><tt class="descname">Autocomplete</tt><big>(</big><em>multiple=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blingalytics.widgets.Autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a text input for an autocomplete widget. Unlike most widgets,
this <strong>does not</strong> accept the <tt class="docutils literal"><span class="pre">default</span></tt> argument. It takes the following
extra argument:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">multiple</span></tt>: Whether the autocomplete should accept just one or
multiple values. When set to <tt class="xref docutils literal"><span class="pre">True</span></tt>, this will add a class of
<tt class="docutils literal"><span class="pre">'bl_multiple'</span></tt> to the widget. Defaults to <tt class="xref docutils literal"><span class="pre">False</span></tt>.</li>
</ul>
<p>Note that this widget is rendered simply as an HTML text input with a
class of <tt class="docutils literal"><span class="pre">'bl_autocomplete'</span></tt>, and optionally a class of
<tt class="docutils literal"><span class="pre">'bl_multiple'</span></tt>. It is left up to you to throw a JavaScript
autocompletion widget on top of it with jQuery or whatever.</p>
<p>The cleaned user input will be coerced to a list of integer IDs.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">User-input widgets</a><ul>
<li><a class="reference internal" href="#widget-types">Widget types</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="caches/local_cache.html"
                        title="previous chapter">Filesystem caching</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="formats.html"
                        title="next chapter">Column formatters</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/widgets.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="formats.html" title="Column formatters"
             >next</a> |</li>
        <li class="right" >
          <a href="caches/local_cache.html" title="Filesystem caching"
             >previous</a> |</li>
        <li><a href="index.html">blingalytics v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Adly Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>