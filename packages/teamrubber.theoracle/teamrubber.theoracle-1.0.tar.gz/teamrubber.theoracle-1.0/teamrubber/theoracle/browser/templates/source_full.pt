<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<link tal:attributes="href string:${view/getBaseURL}/++resource++the_oracle/style.css" rel="stylesheet" type="text/css" >
</head>

<body>
    <div id="header">
        <h1 style="padding-bottom:0.5em;">The Oracode <span class="subtle">v1.0</span></h1>


<div class="section" tal:define="ob view/getObject; source python:view.getSource(ob)">
<style tal:content="view/getStyle"/>

<style>

#line_numbers pre{
    font-family: monospace;
    text-align: right;
    padding-right:7px;
}

#line_numbers{
    padding-bottom:0.5em;
    width: 3em;
    overflow:auto;
    position:absolute;
}

#source{
    left:3.5em;
    top:0;
    width:95%;
    height:100%;	
    position: relative; 
}


</style>

<dl style="padding-bottom:1em;" tal:condition="source/source">
    <dt>Filename</dt>
    <dd tal:content="source/filename" />
</dl>

<p tal:condition="not:source/source">
    Couldn't load the source for that, sorry
</p>

<div id="line_numbers">
    <pre tal:repeat="i python:range(source['start'],source['end'])"><a tal:attributes="name i; href string:${view/getBaseURL}/the_orabreak?module=${request/form/object}&line=${i}&action=add" tal:content="i" /></pre>
</div>

<div id="source">
    <pre tal:condition="source/structure" tal:content="structure source/source"/>
    <pre tal:condition="not:source/structure" tal:content="source/source"/>
</div>
</div>


</body>
</html>