{% extends "project/master.html"%}

{% block title %}{{ project.getLabelValue|escape }} - Home{% endblock %}

{% block content %}

{% if project %}
<h2>{{ project.getLabelValue|escape }}</h2>

<p>
  <strong>Short name:</strong> {{ project.name }}<br />
  <small class="greyed">
    A project's short name (or "unix" name) is used in many references to the project around the site.
  </small>
</p>
<p>
  <strong>About this project:</strong><br />
  {{ project.description|escape }}
</p>
<p><strong>Project licenses:</strong></p>
  {% if project.licenses.count %}
<ul>
    {% for licensing in project.licenses %}
  <li>{{ licensing.license.name }}</li>
    {% endfor %}
</ul>
  {% endif %}
<p><strong>Project members:</strong> (<small><a href="{{uriPrefix}}/project/{{ project.name }}/members/">full member list</a></small>)</p>
  {% if project.members.count %}
<ul>
    {% for member in project.members %}
  <li><a href="{{uriPrefix}}/person/{{ member.person.name }}/home/">{{ member.person.fullname|escape }}</a> ({{member.role.name}})</li>
    {% endfor %}
</ul>
  {% endif %}
  {% if view.canCreateMember %}
<form action="{{uriPrefix}}/project/{{ project.name }}/members/create/" method="get">
  <p>
    <input type="submit" value="Add member &raquo;" />
  </p>
</form>
  {% endif %}
<p><strong>Project services:</strong> (<small><a href="{{uriPrefix}}/project/{{ project.name }}/services/">full service list</a></small>)</p>
  {% if project.services.count %}
<ul>
    {% for service in project.services %}
  <li><a href="{{uriPrefix}}/project/{{ project.name }}/services/{{ service.name }}/">{{ service.name }}</a> ({{service.plugin.name}})</li>
    {% endfor %}
</ul>
  {% endif %}
  {% if view.canCreateService %}
<form action="{{uriPrefix}}/project/{{ project.name }}/services/create/" method="get">
  <p>
    <input type="submit" value="Add service &raquo;" />
  </p>
</form>
  {% endif %}
  {% if view.canUpdateProject %}
<strong>Do you wish to edit this project?</strong><br />
<form action="{{uriPrefix}}/project/{{ project.name }}/edit/" method="post">
  <p>
    <input type="submit" value="Edit this project" />
  </p>
</form>
  {% if view.canDeleteProject %}
<strong>Do you wish to delete this project?</strong><br />
<form action="{{uriPrefix}}/project/{{ project.name }}/delete/" method="post">
  <p>
    <input type="submit" value="Delete this project" />
  </p>
</form>
  {% endif %}
  {% endif %}
  {% if view.canJoinProject %}
<strong>Do you wish to request to join this project?</strong><br />
<form action="{{uriPrefix}}/project/{{ project.name }}/join/" method="post">
  <p>
    <input type="submit" value="Join this project" />
  </p>
</form>
  {% endif %}
{% else %}
<h2>No project found</h2>
Sorry, there is no active project at this location.
{% endif %}
{% endblock %}
