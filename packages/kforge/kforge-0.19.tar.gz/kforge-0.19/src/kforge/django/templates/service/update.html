{% extends "service/master.html"%}

{% block title %}{{ domainObjectKey }} - Edit service - {{ hasManyKey }}{% endblock %}

{% block content %}
<h2>Edit {{ service.name }} service</h2>
<p>
  Please configure the service application as required. Please make sure all fields marked with a <strong class="fieldset">*</strong> are filled in.
</p>

{% if form.has_errors %}
<div class="form-errors">
  <h3>Sorry, the following problems prevented your edits from being saved.</h3>
  <ul>{% for errorMessage in form.getErrorMessages %}
    <li>{{ errorMessage }}</li>
  {% endfor %}</ul>
</div>
{% endif %}

<form action="{{uriPrefix}}/project/{{ domainObjectKey }}/services/{{ hasManyKey }}/edit/" method="post">

{% if extnForm %}
  <fieldset>
    <legend>
      {{ service.plugin.name.capitalize }} configuration
    </legend>
  {% for field in extnForm.fields %}
    <label for="id_{{ field.field_name }}">{{ field.field_name.capitalize }}
    {% if field.formfield.is_required %}
    <strong>*</strong>
    {% endif %}
    </label><br />
    {{ field }}
    <p class="desc">{{ field.field_comment }}</p>
    <br>
  {% endfor %}
  </fieldset>
{% endif %}
  <fieldset>
    <legend>
      Service details
    </legend>

    <label for="id_name">Service name <strong>*</strong></label><br />
    {{ form.name }}
    <p class="desc">Please provide an appropriate name for this service.</p>

    <label for="id_name">Service type <strong>*</strong></label><br />
    <p><span> {{ service.plugin.name }} </span></p>
    <p class="desc">The type of service cannot be changed after the service has been created. If you would like a different type of service, simply create another service of a different type, and then delete the unwanted service.</p>

  </fieldset>

  <p>
    Please check the form and <input type="submit" name="edit-submission" value="submit your changes" />
  </p>

</form>
{% endblock %}

