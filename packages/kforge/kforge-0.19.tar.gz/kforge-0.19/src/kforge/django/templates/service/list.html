{% extends "service/master.html"%}

{% block title %}{{ project.getLabelValue|escape }} - Services - List{% endblock %}

{% block content %}
  <h2>Project Services</h2>
  {% if project.services %}
  <p>
    Here are all the services of <strong>{{ project.getLabelValue|escape }}</strong>.
  </p>
  <table>
    <tr>
      <th>Service name</th>
      <th>Type</th>
      <th>Actions</th>
    </tr>
    {% for service in project.services %}
    <tr>
      <td><a href="{{uriPrefix}}/project/{{ project.name }}/services/{{ service.name }}/">{{ service.name }}</a></td>
      <td>{{ service.plugin.name }}</td>
      <td>
        {% if view.canUpdateService %}
        {% if view.canDeleteService %}
        <a href="{{uriPrefix}}/project/{{ project.name }}/services/{{ service.name }}/delete/" title="Remove this service ({{ service.name }})"><img height="20" width="20" src="{{ kforge_media_url }}/images/icon-delete.png" alt="Remove" /></a>
        &nbsp;
        {% endif %}
        <a href="{{uriPrefix}}/project/{{ project.name }}/services/{{ service.name }}/edit/" title="Edit this service ({{ service.name }})"><img height="20" width="20" src="{{ kforge_media_url }}/images/icon-edit.png" alt="Edit" /></a>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </table>
  {% else %}
  <p>
    There are no services for this project at this time.
  </p>
  {% endif %}

  {% if view.canCreateService %}
  <h3>Create new service</h3>
  <form action="{{uriPrefix}}/project/{{ project.name }}/services/create/" method="post">
    <p>
      <input type='submit' value='Create new service &raquo;'/>
    </p>
  </form>
  {% endif %}

{% endblock %}
