#major sections begin with ---
---
access_id: AKIAJ4X7S53QU2YFPGEQ
secret_key: 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
load_balancers:
    www:
            description: www load balancer
            zones:
                -   us-east-1a
                -   us-east-1b
                -   us-east-1c
                -   us-east-1d
            listeners: #Can be a port # or http
                -   balancer_port: 80
                    instance_port: 80
                    protocol: http
            check:
                target: 'HTTP:80/'
                interval: 60
                timeout: 15
                healty_threshold: 4
                unhealty_threshold: 4
            instances:
                - server1
                - server2
security_groups:
    ssh:
        description: Inter group communication + ssh.
        authorize:
            -   ip_protocol: tcp
                from_port: 22
                to_port: 22
                cidr_ip: 0.0.0.0/0
            -   ip_protocol: icmp
                src_group: ssh
            -   ip_protocol: tcp
                src_group: ssh
            -   ip_protocol: udp
                src_group: ssh


---
#A new section for each group of instances
image: ami-880c5ccd
key:
    name: mykey
    user: root
    file: /home/me/.ssh/id_rsa
size: t1.micro
monitoring: True
security_groups:
    - default
    - ssh
deploy_cmds:
    - sudo apt-get -y install puppet
names:
    - server1
    - server2
---
image: ami-4a0df923
key:
    name: mykey
    user: root
    file: /home/me/.ssh/id_rsa
size: t1.micro
monitoring: False
security_groups:
    - default
    - web
deploy_cmds:
    - sudo apt-get -y install puppet
names:
    - web1
    - web2
    - web3
